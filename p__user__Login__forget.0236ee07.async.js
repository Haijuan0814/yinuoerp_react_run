(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4174],{8468:function(H,D,s){"use strict";s.r(D);var J=s(18106),h=s(32267),Q=s(34792),f=s(48086),u=s(39428),d=s(11849),c=s(3182),E=s(2824),C=s(29985),p=s(2603),v=s(67294),T=s(952),P=s(5966),o=s(2521),L=s(73727),Z=s(2540),A=s(54083),x=s(34687),r=s.n(x),K=s(11768),e=s(85893),R=function(){var S=(0,v.useState)(!1),M=(0,E.Z)(S,2),W=M[0],g=M[1],y=(0,v.useState)("account"),O=(0,E.Z)(y,2),j=O[0],b=O[1],N=(0,v.useState)({}),B=(0,E.Z)(N,2),I=B[0],F=B[1],U=(0,o.tT)("@@initialState"),m=U.initialState,z=U.setInitialState,$=(0,o.YB)(),G=function(){var i=(0,c.Z)((0,u.Z)().mark(function n(){var t,_;return(0,u.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m==null||(t=m.fetchUserInfo)===null||t===void 0?void 0:t.call(m);case 2:if(_=a.sent,!_){a.next=6;break}return a.next=6,z(function(Y){return(0,d.Z)((0,d.Z)({},Y),{},{currentUser:_})});case 6:case"end":return a.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),V=function(){var i=(0,c.Z)((0,u.Z)().mark(function n(t){var _;return(0,u.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g(!0),a.prev=1,a.next=4,(0,A.I2)((0,d.Z)((0,d.Z)({},t),{},{type:j}));case 4:if(_=a.sent,_.success!==!0){a.next=12;break}return f.default.success("\u5BC6\u7801\u8BBE\u7F6E\u6210\u529F\uFF01"),K.ZP.save("userInfo",_.data,{path:"/",expires:new Date(new Date().getTime()+24*3600*1e3*7)}),a.next=10,G();case 10:return o.m8.push("/"),a.abrupt("return");case 12:F(_),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(1),consolr.log(a.t0),f.default.error("\u5BC6\u7801\u8BBE\u7F6E\u5931\u8D25");case 19:g(!1);case 20:case"end":return a.stop()}},n,null,[[1,15]])}));return function(t){return i.apply(this,arguments)}}(),w=I.status,k=I.type;return(0,e.jsxs)("div",{className:r().container,children:[(0,e.jsx)("div",{className:r().lang,"data-lang":!0,children:o.pD&&(0,e.jsx)(o.pD,{})}),(0,e.jsxs)("div",{className:r().content,children:[(0,e.jsxs)("div",{className:r().top,children:[(0,e.jsx)("div",{className:r().header,children:(0,e.jsxs)(L.rU,{to:"/",children:[(0,e.jsx)("img",{alt:"logo",className:r().logo,src:"/logo.png"}),(0,e.jsx)("span",{className:r().title,children:"\u4F9D\u8BFA\u6570\u5B57"})]})}),(0,e.jsx)("div",{className:r().desc,children:$.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,e.jsx)("div",{className:r().main,children:(0,e.jsxs)(T.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:"\u786E\u5B9A"},render:function(n,t){return t.pop()},submitButtonProps:{loading:W,size:"large",style:{width:"100%"}}},onFinish:function(){var i=(0,c.Z)((0,u.Z)().mark(function n(t){return(0,u.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,V(t);case 2:case"end":return l.stop()}},n)}));return function(n){return i.apply(this,arguments)}}(),children:[(0,e.jsx)(h.Z,{activeKey:j,onChange:b,children:(0,e.jsx)(h.Z.TabPane,{tab:"\u5FD8\u8BB0\u5BC6\u7801 / "},"account")}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(P.Z,{name:"mobile",fieldProps:{size:"large",prefix:(0,e.jsx)(C.Z,{className:r().prefixIcon})},placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7! "}]}),(0,e.jsx)(P.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(p.Z,{className:r().prefixIcon})},placeholder:"\u65B0\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801\uFF01"}]}),(0,e.jsx)(P.Z.Password,{name:"repeat_password",fieldProps:{size:"large",prefix:(0,e.jsx)(p.Z,{className:r().prefixIcon})},placeholder:"\u91CD\u590D\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801\uFF01"}]})]})]})})]}),(0,e.jsx)(Z.Z,{})]})};D.default=R}}]);
