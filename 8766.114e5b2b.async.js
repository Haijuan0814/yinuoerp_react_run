(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8766],{722:function(N,I,e){"use strict";var _=e(59250),D=e(13013),p=e(54029),d=e(79166),P=e(30887),j=e(28682),b=e(62350),T=e(24565),Z=e(34792),C=e(48086),U=e(2824),g=e(1870),L=e(57254),y=e(67294),i=e(2521),m=e(66822),o=e(85893),l=function(M){var n=M.tablename,Y=M.statusVal,F=M.id,s=M.row,u=(0,y.useState)(),a=(0,U.Z)(u,2),t=a[0],r=a[1];(0,y.useEffect)(function(){r(M.statusVal)},[M.statusVal]);var f=(0,i.tT)("@@initialState"),O=f.initialState,z=f.setInitialState,K=O.currentUser,$=(0,i.QT)(m.Nf,{manual:!0,onSuccess:function(B,W){C.default.success("\u64CD\u4F5C\u6210\u529F"),setTimeout(function(){r(W[0].status)},400)}}),x=$.run,c=function(B){x({tablename:n,id:F,status:B})},v=[];n=="think"?v=[{val:0,text:"\u6536\u96C6",color:"#ff4d4f"},{val:1,text:"\u91C7\u7EB3",color:"#1890ff"},{val:2,text:"\u5B9E\u73B0",color:"#52c41a"},{val:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:n=="demand"?v=[{val:0,text:"\u63A8\u8FDB",color:"#ff4d4f"},{val:1,text:"\u8BBE\u8BA1",color:"#1890ff"},{val:2,text:"\u5F00\u53D1",color:"#1890ae"},{val:3,text:"\u5B9E\u73B0",color:"#52c41a"},{val:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:n=="coding"?v=[{val:0,text:"\u8BA1\u5212",color:"#ff4d4f"},{val:1,text:"\u5F00\u53D1",color:"#1890ff"},{val:2,text:"\u6D4B\u8BD5",color:"#1890ff"},{val:3,text:"\u5B8C\u6210",color:"#52c41a"},{val:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:n=="testing"||n=="testitem"?v=[{val:0,text:"\u6D4B\u8BD5\u4E2D",color:"#1890ff"},{val:1,text:"\u5B8C\u6210",color:"#52c41a"},{val:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:n=="bug"?v=[{val:0,text:"\u672A\u89E3\u51B3",color:"#ff4d4f"},{val:1,text:"\u89E3\u51B3\u4E2D",color:"#1890ff"},{val:2,text:"\u5DF2\u89E3\u51B3",color:"#52c41a"},{val:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:n=="project"?v=[{val:0,text:"\u8FDB\u884C\u4E2D",color:"#1890ff"},{val:1,text:"\u5B8C\u6210",color:"#52c41a"},{val:2,text:"\u903E\u671F\u5B8C\u6210",color:"#ff4d4f"},{val:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:n=="publish"&&(v=[{val:0,text:"\u5DF2\u53D1\u5E03",color:"#52c41a"},{val:-1,text:"\u9000\u7A3F",color:"#000000d9"}]);var S=function(B,W){var w=Object.values(B);if(w.length>1)return w.map(function(h){return h.val==W?"":(0,o.jsx)(j.Z.Item,{children:(0,o.jsx)(T.Z,{title:"\u786E\u5B9A\u5F53\u524D\u64CD\u4F5C\u5417\uFF1F",onConfirm:function(){return c(h.val)},icon:(0,o.jsx)(g.Z,{style:{color:"red"}}),children:(0,o.jsx)("a",{href:"#",style:{color:h.color},children:h.text})})},h.val)})},R=function(B,W){var w=Object.values(B);if(w.length>1)return w.map(function(h){return h.val==W?(0,o.jsx)(d.Z,{color:h.color,text:h.text},h.text):""})},A=function(B,W){return(0,o.jsx)(D.Z,{overlay:(0,o.jsx)(j.Z,{children:S(B,W)}),trigger:["click"],children:(0,o.jsxs)("a",{className:"ant-dropdown-link",onClick:function(h){return h.preventDefault()},children:[R(B,W)," ",(0,o.jsx)(L.Z,{})]})})},V=K.id==s.insert_uid||s.deal_uids&&s.deal_uids.indexOf(K.id)!=-1;return V?A(v,t):R(v,t)};I.Z=l},66822:function(N,I,e){"use strict";e.d(I,{gp:function(){return T},R2:function(){return C},dM:function(){return g},Nf:function(){return m},Qf:function(){return l},ko:function(){return M},lR:function(){return Y}});var _=e(39428),D=e(11849),p=e(3182),d=e(2521),P=e(43237);function j(s,u){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function s(u,a){var t,r;return _regeneratorRuntime().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return a.parent&&(u.parent=a.parent),t=api+"it/"+a.tablename+"/index",O.next=4,request(t,{method:"GET",params:_objectSpread({},u)});case 4:return r=O.sent,O.abrupt("return",{data:r.data.data,success:r.success,total:r.data.total,pageSize:r.data.pageSize,current:r.data.current});case 6:case"end":return O.stop()}},s)})),b.apply(this,arguments)}function T(s){return Z.apply(this,arguments)}function Z(){return Z=(0,p.Z)((0,_.Z)().mark(function s(u){var a,t;return(0,_.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a=P.h+"it/"+u.tablename+"/index",f.next=3,(0,d.WY)(a,{method:"GET",params:(0,D.Z)({},u)});case 3:return t=f.sent,f.abrupt("return",{data:t.data,success:t.success,total:t.data.total,pageSize:t.data.pageSize,current:t.data.current});case 5:case"end":return f.stop()}},s)})),Z.apply(this,arguments)}function C(s){return U.apply(this,arguments)}function U(){return U=(0,p.Z)((0,_.Z)().mark(function s(u){var a;return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=P.h+"it/"+u.tablename+"/form",r.abrupt("return",(0,d.WY)(a,{method:"POST",data:u}));case 2:case"end":return r.stop()}},s)})),U.apply(this,arguments)}function g(s){return L.apply(this,arguments)}function L(){return L=(0,p.Z)((0,_.Z)().mark(function s(u){var a;return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=P.h+"it/"+u.tablename+"/detail",r.abrupt("return",(0,d.WY)(a,{params:u}));case 2:case"end":return r.stop()}},s)})),L.apply(this,arguments)}function y(s){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function s(u){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request(api+"it/"+u.tablename+"/form",_objectSpread({method:"DELETE"},options||{})));case 1:case"end":return t.stop()}},s)})),i.apply(this,arguments)}function m(s){return o.apply(this,arguments)}function o(){return o=(0,p.Z)((0,_.Z)().mark(function s(u){var a;return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=P.h+"it/"+u.tablename+"/status",r.abrupt("return",(0,d.WY)(a,{params:u}));case 2:case"end":return r.stop()}},s)})),o.apply(this,arguments)}function l(s){return E.apply(this,arguments)}function E(){return E=(0,p.Z)((0,_.Z)().mark(function s(u){var a;return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=P.h+"it/"+u.tablename+"/select",r.abrupt("return",(0,d.WY)(a,{params:u}));case 2:case"end":return r.stop()}},s)})),E.apply(this,arguments)}function M(s){return n.apply(this,arguments)}function n(){return n=(0,p.Z)((0,_.Z)().mark(function s(u){var a;return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=P.h+"it/"+u.tablename+"/moreUser",r.abrupt("return",(0,d.WY)(a,{method:"POST",data:u}));case 2:case"end":return r.stop()}},s)})),n.apply(this,arguments)}function Y(s){return F.apply(this,arguments)}function F(){return F=(0,p.Z)((0,_.Z)().mark(function s(u){var a,t;return(0,_.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a=u.tablename,t=[],a=="think"?t=[{value:0,text:"\u6536\u96C6",color:"#ff4d4f"},{value:1,text:"\u91C7\u7EB3",color:"#1890ff"},{value:2,text:"\u5B9E\u73B0",color:"#52c41a"},{value:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:a=="demand"?t=[{value:0,text:"\u63A8\u8FDB",color:"#ff4d4f"},{value:1,text:"\u8BBE\u8BA1",color:"#1890ff"},{value:2,text:"\u5F00\u53D1",color:"#1890ae"},{value:3,text:"\u5B9E\u73B0",color:"#52c41a"},{value:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:a=="coding"?t=[{value:0,text:"\u8BA1\u5212",color:"#ff4d4f"},{value:1,text:"\u5F00\u53D1",color:"#1890ff"},{value:2,text:"\u6D4B\u8BD5",color:"#1890ff"},{value:3,text:"\u5B8C\u6210",color:"#52c41a"},{value:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:a=="testing"||a=="testitem"?t=[{value:0,text:"\u6D4B\u8BD5\u4E2D",color:"#1890ff"},{value:1,text:"\u5B8C\u6210",color:"#52c41a"},{value:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:a=="bug"?t=[{value:0,text:"\u672A\u89E3\u51B3",color:"#ff4d4f"},{value:1,text:"\u89E3\u51B3\u4E2D",color:"#1890ff"},{value:2,text:"\u5DF2\u89E3\u51B3",color:"#52c41a"},{value:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:a=="project"?t=[{value:0,text:"\u8FDB\u884C\u4E2D",color:"#1890ff"},{value:1,text:"\u5B8C\u6210",color:"#52c41a"},{value:2,text:"\u903E\u671F\u5B8C\u6210",color:"#ff4d4f"},{value:-1,text:"\u9000\u7A3F",color:"#000000d9"}]:a=="publish"&&(t=[{value:0,text:"\u5DF2\u53D1\u5E03",color:"#52c41a"},{value:-1,text:"\u9000\u7A3F",color:"#000000d9"}]),f.abrupt("return",{data:t});case 4:case"end":return f.stop()}},s)})),F.apply(this,arguments)}},68521:function(N,I,e){"use strict";var _=e(13062),D=e(71230),p=e(89032),d=e(15746),P=e(22385),j=e(89456),b=e(34669),T=e(3074),Z=e(62350),C=e(24565),U=e(71153),g=e(60331),L=e(34792),y=e(48086),i=e(1870),m=e(2521),o=e(67294),l=e(85123),E=e(30381),M=e.n(E),n=e(85893),Y=function(s){var u=s.row,a=s.doRefresh,t=u,r=t==null?void 0:t.id,f=(0,m.QT)(l.p5,{manual:!0,onSuccess:function(x,c){y.default.success("\u64CD\u4F5C\u6210\u529F"),setTimeout(function(){a()},400)}}),O=f.run,z=function(x){O({person:x,id:r})},K=function(x,c){var v="",S="",R=0,A=0;return x=="ui"?(v="\u4EA7\u54C1",S=c.ui_users?c.ui_users:"\u672A\u8BBE\u7F6E",R=c.ui_plan_time,A=c.ui_finish_time):x=="code"?(v="\u5F00\u53D1",S=c.code_users?c.code_users:"\u672A\u8BBE\u7F6E",R=c.code_plan_time,A=c.code_finish_time):x=="test"?(v="\u6D4B\u8BD5",S=c.test_users?c.test_users:"\u672A\u8BBE\u7F6E",R=c.test_plan_time,A=c.test_finish_time):x=="publish"&&(v="\u90E8\u7F72",S=c.publish_users?c.publish_users:"\u672A\u8BBE\u7F6E",R=c.publish_plan_time,A=c.publish_finish_time),(0,n.jsx)("div",{style:{paddingRight:"20px",borderRight:"1px solid #eee"},children:(0,n.jsxs)("span",{style:{lineHeight:"28px"},children:[(0,n.jsxs)("strong",{children:[v,"\uFF1A",S]}),(0,n.jsx)("br",{}),"\u622A\u6B62\uFF1A",R>0?M()(parseInt(R)*1e3).format("YYYY-MM-DD"):"\u672A\u8BBE\u7F6E",(0,n.jsx)("br",{}),"\u72B6\u6001\uFF1A",A>0?A>=parseInt(R)+86400?(0,n.jsx)(g.Z,{color:"error",children:"\u903E\u671F\u5B8C\u6210"}):(0,n.jsx)(g.Z,{color:"success",children:"\u5B8C\u6210"}):(0,n.jsx)(g.Z,{color:"processing",children:"\u8FDB\u884C\u4E2D"}),A>0?"":(0,n.jsx)(C.Z,{title:"\u786E\u5B9A\u5DF2\u7ECF\u5B8C\u6210\u4E86\u5417\uFF1F",onConfirm:function(){return z(x)},icon:(0,n.jsx)(i.Z,{style:{color:"red"}}),children:(0,n.jsx)("a",{href:"#",children:"\u8BBE\u4E3A\u5B8C\u6210"})})]})})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{title:t.status==0?t.left_days>=0?"\u8DDD\u79BB\u9879\u76EE\u622A\u6B62\u8FD8\u6709"+(t==null?void 0:t.left_days)+"\u5929":"\u5DF2\u8FC7\u671F"+(0-t.left_days)+"\u5929":"",defaultVisible:!0,children:(0,n.jsx)(T.Z,{percent:t==null?void 0:t.percent,strokeLinecap:"square",status:t.status!=1&&t.left_days<0?"exception":""})}),(0,n.jsxs)(D.Z,{gutter:16,children:[(0,n.jsx)(d.Z,{className:"gutter-row",xl:6,lg:6,md:24,sm:24,xs:24,children:K("ui",t)}),(0,n.jsx)(d.Z,{className:"gutter-row",xl:6,lg:6,md:24,sm:24,xs:24,children:K("code",t)}),(0,n.jsx)(d.Z,{className:"gutter-row",xl:6,lg:6,md:24,sm:24,xs:24,children:K("test",t)}),(0,n.jsx)(d.Z,{className:"gutter-row",xl:6,lg:6,md:24,sm:24,xs:24,children:K("publish",t)})]})]})};I.Z=Y},85123:function(N,I,e){"use strict";e.d(I,{gp:function(){return P},dM:function(){return Z},R2:function(){return U},p5:function(){return L}});var _=e(39428),D=e(3182),p=e(2521),d=e(43237);function P(i){return j.apply(this,arguments)}function j(){return j=(0,D.Z)((0,_.Z)().mark(function i(m){return(0,_.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.WY)(d.h+"it/project/index",{params:m}));case 1:case"end":return l.stop()}},i)})),j.apply(this,arguments)}function b(i){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function i(m){var o;return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,request(api+"it/project/index",{method:"GET",params:_objectSpread({},m)});case 2:return o=E.sent,E.abrupt("return",{data:o.data,success:o.success,total:o.data.total,pageSize:o.data.pageSize,current:o.data.current});case 4:case"end":return E.stop()}},i)})),T.apply(this,arguments)}function Z(i){return C.apply(this,arguments)}function C(){return C=(0,D.Z)((0,_.Z)().mark(function i(m){return(0,_.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.WY)(d.h+"it/project/detail",{params:m}));case 1:case"end":return l.stop()}},i)})),C.apply(this,arguments)}function U(i){return g.apply(this,arguments)}function g(){return g=(0,D.Z)((0,_.Z)().mark(function i(m){return(0,_.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.WY)(d.h+"it/project/form",{method:"POST",data:m}));case 1:case"end":return l.stop()}},i)})),g.apply(this,arguments)}function L(i){return y.apply(this,arguments)}function y(){return y=(0,D.Z)((0,_.Z)().mark(function i(m){return(0,_.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,p.WY)(d.h+"it/project/finish",{params:m}));case 1:case"end":return l.stop()}},i)})),y.apply(this,arguments)}}}]);
