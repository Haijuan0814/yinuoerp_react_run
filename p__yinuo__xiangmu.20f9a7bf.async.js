(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[816],{72758:function(U,p,n){"use strict";n.d(p,{gp:function(){return M},dM:function(){return f},R2:function(){return h}});var d=n(39428),D=n(11849),P=n(3182),E=n(2521),j=n(43237);function M(_,u){return l.apply(this,arguments)}function l(){return l=(0,P.Z)((0,d.Z)().mark(function _(u,m){var r;return(0,d.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,E.WY)(j.h+"crm/xiangmu/index",(0,D.Z)({method:"GET",params:(0,D.Z)({},u)},m||{}));case 2:return r=i.sent,i.abrupt("return",{data:r.data.data,success:r.success,total:r.data.total,pageSize:r.data.pageSize,current:r.data.current});case 4:case"end":return i.stop()}},_)})),l.apply(this,arguments)}function f(_){return x.apply(this,arguments)}function x(){return x=(0,P.Z)((0,d.Z)().mark(function _(u){return(0,d.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.WY)(j.h+"crm/xiangmu/detail",{params:u}));case 1:case"end":return r.stop()}},_)})),x.apply(this,arguments)}function h(_){return O.apply(this,arguments)}function O(){return O=(0,P.Z)((0,d.Z)().mark(function _(u){return(0,d.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.WY)(j.h+"crm/xiangmu/save",{method:"POST",data:u}));case 1:case"end":return r.stop()}},_)})),O.apply(this,arguments)}function y(_){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function _(u){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request(api+"crm/xiangmu/delete",_objectSpread({method:"DELETE"},u||{})));case 1:case"end":return r.stop()}},_)})),o.apply(this,arguments)}},33753:function(U,p,n){"use strict";n.r(p);var d=n(13254),D=n(14277),P=n(12968),E=n(70080),j=n(66456),M=n(55499),l=n(39428),f=n(3182),x=n(58024),h=n(91894),O=n(57663),y=n(71577),o=n(2824),_=n(47673),u=n(4107),m=n(49101),r=n(67294),I=n(36653),i=n(72758),B=n(2521),L=n(75362),W=n(30381),g=n.n(W),t=n(85893),K=u.Z.Search,b=function(Z){var v=Z.location.query.keyword;console.log(v);var S=(0,r.useState)(v),A=(0,o.Z)(S,2),F=A[0],Y=A[1],G=(0,r.useState)({}),R=(0,o.Z)(G,2),c=R[0],$=R[1],z=(0,B.QT)(i.dM,{manual:!0,onSuccess:function(e,s){$(e.row)}}),C=z.run;(0,r.useEffect)(function(){C({keyword:v})},[]);var w=function(){B.m8.push({pathname:"/yinuo/xiangmu_apply"})},H=function(e){Y(e),C({keyword:e})},T=[{title:"\u8BBE\u5907\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u8BBE\u5907\u7C7B\u578B",dataIndex:"type",key:"type"},{title:"\u4F9B\u5E94\u5546\u540D\u79F0",dataIndex:"supplier",key:"supplier"},{title:"\u4F9B\u5E94\u5546\u914D\u5408",dataIndex:"supplier_peihe",key:"supplier_peihe",render:function(e){return(0,t.jsxs)("span",{children:[e?"\u662F":"\u5426"," "]})}},{title:"\u4F9B\u5E94\u5546\u8054\u7CFB\u65B9\u5F0F",dataIndex:"supplier_mobile",key:"supplier_mobile"},{title:"\u6570\u91CF",dataIndex:"num",key:"num"},{title:"\u5907\u6CE8",dataIndex:"remark",key:"remark"}],Q=!!(c&&c.id);return(0,t.jsxs)(L.ZP,{title:"\u5B9E\u540D\u5236\u76D1\u7BA1\u5E73\u53F0\u4FE1\u606F\u63A5\u5165",style:{background:"#f5f5f5"},footer:!1,children:[(0,t.jsxs)(h.Z,{children:[(0,t.jsxs)(y.Z,{type:"primary",size:"large",onClick:function(){return w()},style:{float:"right"},value:F,children:[(0,t.jsx)(m.Z,{})," \u6DFB\u52A0\u9879\u76EE"]}),(0,t.jsx)(K,{placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA\u624B\u673A\u53F7",enterButton:"\u641C\u7D22",size:"large",onSearch:function(e){return H(e)},style:{maxWidth:"500px"}})]}),(0,t.jsx)("br",{}),(0,t.jsx)(h.Z,{style:{minHeight:"460px"},children:Q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.ZP,{column:3,request:(0,f.Z)((0,l.Z)().mark(function a(){return(0,l.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",{data:c});case 1:case"end":return s.stop()}},a)})),columns:[{title:"\u9879\u76EE\u540D\u79F0",dataIndex:"name"},{title:"\u9879\u76EE\u8BB8\u53EF\u8BC1\u53F7",dataIndex:"number"},{title:"\u9879\u76EE\u7C7B\u578B",dataIndex:"type"},{title:"\u5F00\u5DE5\u65E5\u671F",dataIndex:"start_date",render:function(e){return(0,t.jsxs)("span",{children:[e>0?g()(parseInt(e)*1e3).format("YYYY-MM-DD"):""," "]})}},{title:"\u7AE3\u5DE5\u65E5\u671F",dataIndex:"end_date",render:function(e){return(0,t.jsxs)("span",{children:[e>0?g()(parseInt(e)*1e3).format("YYYY-MM-DD"):""," "]})}},{title:"\u5360\u5730\u9762\u79EF",dataIndex:"area",render:function(e){return(0,t.jsxs)("span",{children:[e," \u4E07\u5E73\u65B9\u7C73 "]})}},{title:"\u5DE5\u7A0B\u9020\u4EF7",dataIndex:"price",render:function(e){return(0,t.jsxs)("span",{children:[e," \u4E07\u5143 "]})}},{title:"\u9879\u76EE\u5730\u5740",dataIndex:"county",render:function(e,s){return(0,t.jsxs)("span",{children:["\u6CB3\u5317\u7701 \u77F3\u5BB6\u5E84\u5E02 ",e," ",s.address]})}},{title:"\u5EFA\u8BBE\u5355\u4F4D",dataIndex:"jianshe_name",render:function(e,s){return(0,t.jsxs)("span",{children:[e?e+"(\u8054\u7CFB\u4EBA\uFF1A"+s.jianshe_user+" "+s.jianshe_mobile+")":"\u6682\u65E0"," "]})}},{title:"\u65BD\u5DE5\u5355\u4F4D",dataIndex:"shigong_name",render:function(e,s){return(0,t.jsxs)("span",{children:[e?e+"(\u8054\u7CFB\u4EBA\uFF1A"+s.shigong_user+" "+s.shigong_mobile+")":"\u6682\u65E0"," "]})}},{title:"\u76D1\u7406\u5355\u4F4D",dataIndex:"jianli_name",render:function(e,s){return(0,t.jsxs)("span",{children:[e?e+"(\u8054\u7CFB\u4EBA\uFF1A"+s.jianli_user+" "+s.jianli_mobile+")":"\u6682\u65E0"," "]})}},{title:"\u8BBE\u8BA1\u5355\u4F4D",dataIndex:"sheji_name",render:function(e,s){return(0,t.jsxs)("span",{children:[e?e+"(\u8054\u7CFB\u4EBA\uFF1A"+s.sheji_user+" "+s.sheji_mobile+")":"\u6682\u65E0"," "]})}},{title:"\u5907\u6CE8\u8BF4\u660E",dataIndex:"remark"},{title:"\u8054\u7CFB\u4EBA",dataIndex:"contact_user"},{title:"\u8054\u7CFB\u4EBA\u7535\u8BDD",dataIndex:"contact_mobile"}]}),(0,t.jsxs)("div",{children:["\xA0\xA0\xA0\xA0",(0,t.jsx)("strong",{children:"\u5DF2\u5B89\u88C5\u8BBE\u5907"})]}),(0,t.jsx)(M.Z,{dataSource:c.devices,columns:T}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{children:["\xA0\xA0\xA0\xA0",(0,t.jsx)("strong",{children:"\u9884\u5B89\u88C5\u8BBE\u5907"})]}),(0,t.jsx)(M.Z,{dataSource:c.will_devices,columns:T}),(0,t.jsx)("br",{}),(0,t.jsx)(h.Z,{style:{border:"1px solid #eee"},title:"\u73B0\u573A\u8BBE\u5907\u7167\u7247",children:c.device_photos_arr.map(function(a,e){return(0,t.jsx)(E.Z,{width:80,src:a,style:{border:"1px solid #eee",background:"#eeeeee"}},a)})})]}):(0,t.jsx)(D.Z,{content:"\u6682\u65E0\u6570\u636E"})})]})};p.default=b}}]);
