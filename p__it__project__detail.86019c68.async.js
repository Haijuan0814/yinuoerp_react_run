(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1235],{92977:function(W,v,t){"use strict";t.d(v,{Z:function(){return O}});var P=t(28991),m=t(67294),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},s=I,C=t(27029),i=function(d,a){return m.createElement(C.Z,(0,P.Z)((0,P.Z)({},d),{},{ref:a,icon:s}))};i.displayName="MoreOutlined";var O=m.forwardRef(i)},15817:function(W,v,t){"use strict";t.r(v);var P=t(58024),m=t(91894),I=t(13254),s=t(14277),C=t(402),i=t(97272),O=t(20136),T=t(55241),d=t(39428),a=t(3182),E=t(57663),A=t(71577),x=t(18446),R=t(90860),U=t(2824),f=t(92977),M=t(75362),D=t(36653),h=t(2521),j=t(67294),B=t(85123),L=t(68521),g=t(722),K=t(30381),o=t.n(K),e=t(85893),u=function(p){var S=p.match.params.id,y=(0,h.tT)("@@initialState"),F=y.initialState,X=y.setInitialState,Y=F.currentUser,H=(0,j.useState)({}),Z=(0,U.Z)(H,2),n=Z[0],z=Z[1],G=(0,h.QT)(B.dM,{manual:!0,onSuccess:function(r,_){z(r.row)}}),N=G.run;(0,j.useEffect)(function(){N({id:S})},[]);var b=function(r){r&&h.m8.push({pathname:"/it/manage/project/edit/".concat(r.id)})},V=function(r){if(r.length>1)return r.map(function(_){return(0,e.jsx)("p",{children:_.name})})},Q=!n.id;return Q?(0,e.jsx)(R.Z,{active:!0}):(0,e.jsx)(M.ZP,{title:n==null?void 0:n.title,extra:Y.id==n.insert_uid?[(0,e.jsx)(A.Z,{type:"primary",onClick:function(){b(n)},children:"\u7F16\u8F91\u6587\u6863"})]:"",content:(0,e.jsx)(D.ZP,{column:{xs:1,sm:2,md:3},request:(0,a.Z)((0,d.Z)().mark(function l(){return(0,d.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",{data:n||{}});case 1:case"end":return _.stop()}},l)})),params:{id:n==null?void 0:n.id},columns:[{title:"\u521B\u5EFA\u4EBA",dataIndex:"insert_user"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"insert_time",render:function(r){return(0,e.jsxs)("span",{children:[r>0?o()(parseInt(r)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}},{title:"\u6700\u540E\u66F4\u65B0",dataIndex:"update_time",render:function(r){return(0,e.jsxs)("span",{children:[r>0?o()(parseInt(r)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}},{title:"\u5904\u7406\u72B6\u6001",dataIndex:"status",render:function(r){return(0,e.jsx)(g.Z,{tablename:"project",statusVal:n.status,id:n.id,row:n})}},{title:"\u6240\u5C5E\u4EA7\u54C1",dataIndex:"products",column:2,render:function(r){var _=Object.values(r),$=_[0],J=V(_);return(0,e.jsxs)("span",{children:[$.name,_.length>1?(0,e.jsx)(T.Z,{content:J,trigger:"hover",children:(0,e.jsx)(f.Z,{style:{color:"#1890ff"}})}):""]})}}]}),children:(0,e.jsxs)(m.Z,{children:[(0,e.jsxs)(i.Z.Title,{level:5,children:["\u9879\u76EE\u5468\u671F\uFF1A",n==null?void 0:n.date]}),(0,e.jsx)(i.Z.Title,{level:5,children:"\u9879\u76EE\u8FDB\u5EA6\uFF1A"}),(0,e.jsx)(L.Z,{row:n}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),"`",(0,e.jsx)(i.Z.Title,{level:5,children:"\u9879\u76EE\u63CF\u8FF0"}),(0,e.jsx)("div",{style:{lineHeight:"28px"},dangerouslySetInnerHTML:{__html:n&&n.content?n.content.replaceAll(`
`,"<br />"):(0,e.jsx)(s.Z,{image:s.Z.PRESENTED_IMAGE_SIMPLE})}})]})})};v.default=u},86743:function(W,v,t){"use strict";var P=t(22122),m=t(28481),I=t(9475),s=t(67294),C=t(71577),i=t(73839);function O(d){return!!(d&&!!d.then)}var T=function(a){var E=s.useRef(!1),A=s.useRef(null),x=(0,I.Z)(!1),R=(0,m.Z)(x,2),U=R[0],f=R[1],M=a.close,D=function(){M==null||M.apply(void 0,arguments)};s.useEffect(function(){var o=null;return a.autoFocus&&(o=setTimeout(function(){var e;(e=A.current)===null||e===void 0||e.focus()})),function(){o&&clearTimeout(o)}},[]);var h=function(e){!O(e)||(f(!0),e.then(function(){f(!1,!0),D.apply(void 0,arguments),E.current=!1},function(u){console.error(u),f(!1,!0),E.current=!1}))},j=function(e){var u=a.actionFn;if(!E.current){if(E.current=!0,!u){D();return}var c;if(a.emitEvent){if(c=u(e),a.quitOnNullishReturnValue&&!O(c)){E.current=!1,D(e);return}}else if(u.length)c=u(M),E.current=!1;else if(c=u(),!c){D();return}h(c)}},B=a.type,L=a.children,g=a.prefixCls,K=a.buttonProps;return s.createElement(C.Z,(0,P.Z)({},(0,i.n)(B),{onClick:j,loading:U,prefixCls:g},K,{ref:A}),L)};v.Z=T}}]);
