(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2491],{38026:function(){(function(O){const c=O["zh-cn"]=O["zh-cn"]||{};c.dictionary=Object.assign(c.dictionary||{},{"%0 of %1":"\u7B2C %0 \u6B65\uFF0C\u5171 %1 \u6B65",Aquamarine:"\u6D77\u84DD\u8272",Black:"\u9ED1\u8272","Block quote":"\u5757\u5F15\u7528",Blue:"\u84DD\u8272",Bold:"\u52A0\u7C97","Break text":"","Bulleted List":"\u9879\u76EE\u7B26\u53F7\u5217\u8868",Cancel:"\u53D6\u6D88","Cannot upload file:":"\u65E0\u6CD5\u4E0A\u4F20\u7684\u6587\u4EF6\uFF1A","Centered image":"\u56FE\u7247\u5C45\u4E2D","Change image text alternative":"\u66F4\u6539\u56FE\u7247\u66FF\u6362\u6587\u672C","Choose heading":"\u6807\u9898\u7C7B\u578B",Column:"\u5217","Could not insert image at the current position.":"\u65E0\u6CD5\u5728\u5F53\u524D\u4F4D\u7F6E\u63D2\u5165\u56FE\u7247","Could not obtain resized image URL.":"\u65E0\u6CD5\u83B7\u53D6\u91CD\u8BBE\u5927\u5C0F\u7684\u56FE\u7247URL","Decrease indent":"\u51CF\u5C11\u7F29\u8FDB","Delete column":"\u5220\u9664\u672C\u5217","Delete row":"\u5220\u9664\u672C\u884C","Dim grey":"\u6697\u7070\u8272",Downloadable:"\u53EF\u4E0B\u8F7D","Dropdown toolbar":"\u4E0B\u62C9\u5DE5\u5177\u680F","Edit block":"\u7F16\u8F91\u6846","Edit link":"\u4FEE\u6539\u94FE\u63A5","Editor toolbar":"\u7F16\u8F91\u5668\u5DE5\u5177\u680F","Enter image caption":"\u8F93\u5165\u56FE\u7247\u6807\u9898","Full size image":"\u56FE\u7247\u901A\u680F\u663E\u793A",Green:"\u7EFF\u8272",Grey:"\u7070\u8272","Header column":"\u6807\u9898\u5217","Header row":"\u6807\u9898\u884C",Heading:"\u6807\u9898","Heading 1":"\u6807\u9898 1","Heading 2":"\u6807\u9898 2","Heading 3":"\u6807\u9898 3","Heading 4":"\u6807\u9898 4","Heading 5":"\u6807\u9898 5","Heading 6":"\u6807\u9898 6","Image toolbar":"\u56FE\u7247\u5DE5\u5177\u680F","image widget":"\u56FE\u50CF\u5C0F\u90E8\u4EF6","In line":"","Increase indent":"\u589E\u52A0\u7F29\u8FDB","Insert column left":"\u5DE6\u4FA7\u63D2\u5165\u5217","Insert column right":"\u53F3\u4FA7\u63D2\u5165\u5217","Insert image":"\u63D2\u5165\u56FE\u50CF","Insert image or file":"\u63D2\u5165\u56FE\u7247\u6216\u6587\u4EF6","Insert media":"\u63D2\u5165\u5A92\u4F53","Insert paragraph after block":"\u5728\u540E\u9762\u63D2\u5165\u6BB5\u843D","Insert paragraph before block":"\u5728\u524D\u9762\u63D2\u5165\u6BB5\u843D","Insert row above":"\u5728\u4E0A\u9762\u63D2\u5165\u4E00\u884C","Insert row below":"\u5728\u4E0B\u9762\u63D2\u5165\u4E00\u884C","Insert table":"\u63D2\u5165\u8868\u683C","Inserting image failed":"\u63D2\u5165\u56FE\u7247\u5931\u8D25",Italic:"\u503E\u659C","Left aligned image":"\u56FE\u7247\u5DE6\u4FA7\u5BF9\u9F50","Light blue":"\u6D45\u84DD\u8272","Light green":"\u6D45\u7EFF\u8272","Light grey":"\u6D45\u7070\u8272",Link:"\u8D85\u94FE\u63A5","Link URL":"\u94FE\u63A5\u7F51\u5740","Media URL":"\u5A92\u4F53URL","media widget":"\u5A92\u4F53\u5C0F\u90E8\u4EF6","Merge cell down":"\u5411\u4E0B\u5408\u5E76\u5355\u5143\u683C","Merge cell left":"\u5411\u5DE6\u5408\u5E76\u5355\u5143\u683C","Merge cell right":"\u5411\u53F3\u5408\u5E76\u5355\u5143\u683C","Merge cell up":"\u5411\u4E0A\u5408\u5E76\u5355\u5143\u683C","Merge cells":"\u5408\u5E76\u5355\u5143\u683C",Next:"\u4E0B\u4E00\u6B65","Numbered List":"\u9879\u76EE\u7F16\u53F7\u5217\u8868","Open in a new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00","Open link in new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00\u94FE\u63A5",Orange:"\u6A59\u8272",Paragraph:"\u6BB5\u843D","Paste the media URL in the input.":"\u5728\u8F93\u5165\u4E2D\u7C98\u8D34\u5A92\u4F53URL",Previous:"\u4E0A\u4E00\u6B65",Purple:"\u7D2B\u8272",Red:"\u7EA2\u8272",Redo:"\u91CD\u505A","Rich Text Editor":"\u5BCC\u6587\u672C\u7F16\u8F91\u5668","Rich Text Editor, %0":"\u5BCC\u6587\u672C\u7F16\u8F91\u5668\uFF0C %0","Right aligned image":"\u56FE\u7247\u53F3\u4FA7\u5BF9\u9F50",Row:"\u884C",Save:"\u4FDD\u5B58","Select all":"\u5168\u9009","Select column":"\u9009\u62E9\u5217","Select row":"\u9009\u62E9\u884C","Selecting resized image failed":"\u9009\u62E9\u91CD\u8BBE\u5927\u5C0F\u7684\u56FE\u7247\u5931\u8D25","Show more items":"\u663E\u793A\u66F4\u591A","Side image":"\u56FE\u7247\u4FA7\u8FB9\u663E\u793A","Split cell horizontally":"\u6A2A\u5411\u62C6\u5206\u5355\u5143\u683C","Split cell vertically":"\u7EB5\u5411\u62C6\u5206\u5355\u5143\u683C","Table toolbar":"\u8868\u683C\u5DE5\u5177\u680F","Text alternative":"\u66FF\u6362\u6587\u672C","The URL must not be empty.":"URL\u4E0D\u53EF\u4EE5\u4E3A\u7A7A\u3002","This link has no URL":"\u6B64\u94FE\u63A5\u6CA1\u6709\u8BBE\u7F6E\u7F51\u5740","This media URL is not supported.":"\u4E0D\u652F\u6301\u6B64\u5A92\u4F53URL\u3002","Tip: Paste the URL into the content to embed faster.":"\u63D0\u793A\uFF1A\u5C06URL\u7C98\u8D34\u5230\u5185\u5BB9\u4E2D\u53EF\u66F4\u5FEB\u5730\u5D4C\u5165","Toggle caption off":"","Toggle caption on":"",Turquoise:"\u9752\u8272",Undo:"\u64A4\u9500",Unlink:"\u53D6\u6D88\u8D85\u94FE\u63A5","Upload failed":"\u4E0A\u4F20\u5931\u8D25","Upload in progress":"\u6B63\u5728\u4E0A\u4F20",White:"\u767D\u8272","Widget toolbar":"\u5C0F\u90E8\u4EF6\u5DE5\u5177\u680F","Wrap text":"",Yellow:"\u9EC4\u8272"}),c.getPluralForm=function(e){return 0}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}))},65821:function(O,c,e){"use strict";e.d(c,{H:function(){return v}});var h=e(69610),D=e(54941),g=e(11768),P=function(){function u(s){(0,h.Z)(this,u),this.loader=s,console.log(s)}return(0,D.Z)(u,[{key:"upload",value:function(){var a=this;return this.loader.file.then(function(t){return new Promise(function(f,r){a._initRequest(),a._initListeners(f,r,t),a._sendRequest(t)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var a=this.xhr=new XMLHttpRequest;a.open("POST","http://api.yinuoerp.com/index.php/base/upload",!0),a.setRequestHeader("token",g.ZP.load("userInfo")?g.ZP.load("userInfo").token:""),a.responseType="json"}},{key:"_initListeners",value:function(a,t,f){var r=this.xhr,o=this.loader,i="\u65E0\u6CD5\u4E0A\u4F20\u6587\u4EF6: ".concat(f.name,".");r.addEventListener("error",function(){return t(i)}),r.addEventListener("abort",function(){return t()}),r.addEventListener("load",function(){var n=r.response;if(!n.success||!n||n.error)return t(n&&!n.success?n.msg:i);a({default:n.data.src})}),r.upload&&r.upload.addEventListener("progress",function(n){n.lengthComputable&&(o.uploadTotal=n.total,o.uploaded=n.loaded)})}},{key:"_sendRequest",value:function(a){var t=new FormData;t.append("file",a),this.xhr.send(t)}}]),u}();function v(u){u.plugins.get("FileRepository").createUploadAdapter=function(s){return new P(s)}}},91872:function(O,c,e){"use strict";e.r(c);var h=e(58024),D=e(91894),g=e(47673),P=e(4107),v=e(9715),u=e(55843),s=e(18446),a=e(90860),t=e(39428),f=e(3182),r=e(34792),o=e(48086),i=e(2824),n=e(62999),_=e(52489),m=e(67294),j=e(952),R=e(2521),W=e(75362),K=e(85224),I=e(72757),re=e.n(I),x=e(5234),S=e.n(x),Z=e(38026),oe=e.n(Z),w=e(65821),U=e(99058),l=e(85893),ie=_.Z.TreeNode,H=function(F){var L=F.match.params.id,k=(0,m.useState)([]),y=(0,i.Z)(k,2),z=y[0],N=y[1],G=(0,m.useState)({}),b=(0,i.Z)(G,2),d=b[0],Q=b[1],Y=(0,m.useState)(""),A=(0,i.Z)(Y,2),$=A[0],B=A[1],V={extraPlugins:[w.H],heading:{options:[{model:"paragraph",title:"\u6B63\u6587",class:"ck-heading_paragraph"},{model:"heading1",view:{name:"h1",styles:{color:"#E53333","font-size":"22px"},classes:["Heading_Class","H_1"]},title:"\u6807\u98981",class:"ck-content-h1",converterPriority:"high"},{model:"heading2",view:{name:"h2",styles:{color:"#337FE5","font-size":"20px"},classes:["Heading_Class","H_2"]},title:"\u6807\u98982",class:"ck-content-h2",converterPriority:"high"},{model:"heading3",view:{name:"h3",styles:{color:"#009900","font-size":"18px"},classes:["Heading_Class","H_3"]},title:"\u6807\u98983",class:"ck-content-h3",converterPriority:"high"},{model:"heading4",view:{name:"h4",styles:{color:"#FF9900","font-size":"16px"},classes:["Heading_Class","H_4"]},title:"\u6807\u98984",class:"ck-content-h4",converterPriority:"high"}]},toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","imageUpload","undo","redo"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}},X=(0,R.QT)(U.gp,{manual:!0,onSuccess:function(E){N(E.rows)}}),J=X.run;if((0,m.useEffect)(function(){J()},[]),L){var q=(0,R.QT)(U.dM,{manual:!0,onSuccess:function(E,p){Q(E.row),B(E.row.content)}}),ee=q.run;(0,m.useEffect)(function(){ee({id:L})},[])}var te=(0,R.QT)(U.R2,{manual:!0,onSuccess:function(){o.default.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){R.m8.push({pathname:"/oa/file/shouce"})},400)}}),ne=te.run,ae=function(){var M=(0,f.Z)((0,t.Z)().mark(function E(p){var T;return(0,t.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:T={id:L,parent:p.parent,title:p.title,content:$},ne(T);case 2:case"end":return C.stop()}},E)}));return function(p){return M.apply(this,arguments)}}(),se=L?!(d&&d.id):!1;return se?(0,l.jsx)(a.Z,{active:!0}):(0,l.jsx)(W.ZP,{children:(0,l.jsx)(D.Z,{bordered:!1,children:(0,l.jsxs)(j.ZP,{name:"basic",layout:"vertical",initialValues:{title:d==null?void 0:d.title,parent:d==null?void 0:d.parent},submitter:{render:function(E,p){return(0,l.jsx)(K.Z,{children:p})}},onFinish:ae,children:[(0,l.jsx)(u.Z.Item,{name:"parent",label:"\u4E0A\u5C42",style:{width:"100%"},children:(0,l.jsx)(_.Z,{showSearch:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,treeDefaultExpandAll:!0,treeData:z})}),(0,l.jsx)(u.Z.Item,{name:"title",label:"\u6807\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}],style:{width:"100%"},children:(0,l.jsx)(P.Z,{placeholder:"\u4E00\u53E5\u8BDD\u7B80\u8FF0"})}),(0,l.jsx)(u.Z.Item,{label:"\u6587\u6863\u5185\u5BB9",name:"content",children:(0,l.jsx)("div",{className:"docsEditor",children:(0,l.jsx)(I.CKEditor,{editor:S(),id:"editor",data:d==null?void 0:d.content,config:V,onChange:function(E,p){var T=p.getData();B(T)}})})})]})})})};c.default=H},99058:function(O,c,e){"use strict";e.d(c,{gp:function(){return u},R2:function(){return a},dM:function(){return f}});var h=e(39428),D=e(11849),g=e(3182),P=e(2521),v=e(43237);function u(o,i){return s.apply(this,arguments)}function s(){return s=(0,g.Z)((0,h.Z)().mark(function o(i,n){return(0,h.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.WY)(v.h+"oa/file/shouce",(0,D.Z)({method:"GET",params:(0,D.Z)({},i)},n||{})));case 1:case"end":return m.stop()}},o)})),s.apply(this,arguments)}function a(o){return t.apply(this,arguments)}function t(){return t=(0,g.Z)((0,h.Z)().mark(function o(i){return(0,h.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,P.WY)(v.h+"oa/file/form",{method:"POST",data:i}));case 1:case"end":return _.stop()}},o)})),t.apply(this,arguments)}function f(o){return r.apply(this,arguments)}function r(){return r=(0,g.Z)((0,h.Z)().mark(function o(i){return(0,h.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,P.WY)(v.h+"oa/file/detail",{params:i}));case 1:case"end":return _.stop()}},o)})),r.apply(this,arguments)}}}]);
