(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5750],{31199:function(S,C,e){"use strict";var t=e(28991),h=e(81253),u=e(85893),a=e(67294),c=e(39863),y=["fieldProps","min","proFieldProps","max"],f=function(_,D){var Z=_.fieldProps,j=_.min,m=_.proFieldProps,M=_.max,d=(0,h.Z)(_,y);return(0,u.jsx)(c.Z,(0,t.Z)({valueType:"digit",fieldProps:(0,t.Z)({min:j,max:M},Z),ref:D,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:m},d))};C.Z=a.forwardRef(f)},64317:function(S,C,e){"use strict";var t=e(28991),h=e(81253),u=e(85893),a=e(96202),c=e(67294),y=e(66758),f=e(39863),F=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],_=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],D=c.forwardRef(function(d,T){var g=d.fieldProps,x=d.children,R=d.params,v=d.proFieldProps,P=d.mode,E=d.valueEnum,i=d.request,r=d.showSearch,n=d.options,p=(0,h.Z)(d,F),s=(0,c.useContext)(y.Z);return(0,u.jsx)(f.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,a.h)(E),request:i,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({options:n,mode:P,showSearch:r,getPopupContainer:s.getPopupContainer},g),ref:T,proFieldProps:v},p),{},{children:x}))}),Z=c.forwardRef(function(d,T){var g=d.fieldProps,x=d.children,R=d.params,v=d.proFieldProps,P=d.mode,E=d.valueEnum,i=d.request,r=d.options,n=(0,h.Z)(d,_),p=(0,t.Z)({options:r,mode:P||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},g),s=(0,c.useContext)(y.Z);return(0,u.jsx)(f.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,a.h)(E),request:i,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({getPopupContainer:s.getPopupContainer},p),ref:T,proFieldProps:v},n),{},{children:x}))}),j=D,m=Z,M=j;M.SearchSelect=m,M.displayName="ProFormComponent",C.Z=M},90672:function(S,C,e){"use strict";var t=e(28991),h=e(81253),u=e(85893),a=e(67294),c=e(39863),y=["fieldProps","proFieldProps"],f=function(_,D){var Z=_.fieldProps,j=_.proFieldProps,m=(0,h.Z)(_,y);return(0,u.jsx)(c.Z,(0,t.Z)({ref:D,valueType:"textarea",fieldProps:Z,proFieldProps:j},m))};C.Z=a.forwardRef(f)},952:function(S,C,e){"use strict";var t=e(56640),h=e.n(t),u=e(5894);C.ZP=u.A},5894:function(S,C,e){"use strict";e.d(C,{A:function(){return r}});var t=e(9715),h=e(55843),u=e(28991),a=e(85893),c=e(6397),y=e(96156),f=e(49111),F=e(19650),_=e(84305),D=e(39559),Z=e(28481),j=e(8812),m=e(28664),M=e(58927),d=e(94184),T=e.n(d),g=e(67294),x=e(66758),R=e(2514),v=e(96138),P=g.forwardRef(function(n,p){var s=g.useContext(x.Z),l=s.groupProps,o=(0,u.Z)((0,u.Z)({},l),n),H=o.children,q=o.collapsible,oe=o.defaultCollapsed,le=o.style,de=o.labelLayout,z=o.title,G=z===void 0?n.label:z,$=o.tooltip,J=o.align,Y=J===void 0?"start":J,K=o.direction,ee=o.size,re=ee===void 0?32:ee,te=o.titleStyle,Q=o.titleRender,B=o.spaceProps,V=o.extra,ne=o.autoFocus,Pe=(0,m.Z)(function(){return oe||!1},{value:n.collapsed,onChange:n.onCollapse}),ae=(0,Z.Z)(Pe,2),X=ae[0],pe=ae[1],ce=(0,g.useContext)(D.ZP.ConfigContext),me=ce.getPrefixCls,se=(0,R.zx)(n),ve=se.ColWrapper,ue=se.RowWrapper,L=me("pro-form-group"),O=q&&(0,a.jsx)(j.Z,{style:{marginRight:8},rotate:X?void 0:90}),W=(0,a.jsx)(M.Z,{label:O?(0,a.jsxs)("div",{children:[O,G]}):G,tooltip:$}),A=(0,g.useCallback)(function(N){var k=N.children;return(0,a.jsx)(F.Z,(0,u.Z)((0,u.Z)({},B),{},{className:T()("".concat(L,"-container"),B==null?void 0:B.className),size:re,align:Y,direction:K,style:(0,u.Z)({rowGap:0},B==null?void 0:B.style),children:k}))},[Y,L,K,re,B]),w=Q?Q(W,n):W,U=(0,g.useMemo)(function(){var N=[],k=g.Children.toArray(H).map(function(b,Ee){var he;return g.isValidElement(b)&&(b==null||(he=b.props)===null||he===void 0?void 0:he.hidden)?(N.push(b),null):Ee===0&&g.isValidElement(b)&&ne?g.cloneElement(b,(0,u.Z)((0,u.Z)({},b.props),{},{autoFocus:ne})):b});return[(0,a.jsx)(ue,{Wrapper:A,children:k},"children"),N.length>0?(0,a.jsx)("div",{style:{display:"none"},children:N}):null]},[H,ue,A,ne]),I=(0,Z.Z)(U,2),ie=I[0],fe=I[1];return(0,a.jsx)(ve,{children:(0,a.jsxs)("div",{className:T()(L,(0,y.Z)({},"".concat(L,"-twoLine"),de==="twoLine")),style:le,ref:p,children:[fe,(G||$||V)&&(0,a.jsx)("div",{className:"".concat(L,"-title"),style:te,onClick:function(){pe(!X)},children:V?(0,a.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[w,(0,a.jsx)("span",{onClick:function(k){return k.stopPropagation()},children:V})]}):w}),q&&X?null:ie]})})});P.displayName="ProForm-Group";var E=P,i=e(87808);function r(n){return(0,a.jsx)(c.I,(0,u.Z)({layout:"vertical",submitter:{render:function(s,l){return l.reverse()}},contentRender:function(s,l){return(0,a.jsxs)(a.Fragment,{children:[s,l]})}},n))}r.Group=E,r.useForm=h.Z.useForm,r.Item=i.Z,r.useWatch=h.Z.useWatch,r.ErrorList=h.Z.ErrorList,r.Provider=h.Z.Provider,r.useFormInstance=h.Z.useFormInstance},58927:function(S,C,e){"use strict";var t=e(28991),h=e(22385),u=e(89456),a=e(96156),c=e(84305),y=e(39559),f=e(85893),F=e(68628),_=e(94184),D=e.n(_),Z=e(67294),j=e(11445),m=e.n(j),M=function(T){var g=T.label,x=T.tooltip,R=T.ellipsis,v=T.subTitle,P=(0,Z.useContext)(y.ZP.ConfigContext),E=P.getPrefixCls;if(!x&&!v)return(0,f.jsx)(f.Fragment,{children:g});var i=E("pro-core-label-tip"),r=typeof x=="string"||Z.isValidElement(x)?{title:x}:x,n=(r==null?void 0:r.icon)||(0,f.jsx)(F.Z,{});return(0,f.jsxs)("div",{className:i,onMouseDown:function(s){return s.stopPropagation()},onMouseLeave:function(s){return s.stopPropagation()},onMouseMove:function(s){return s.stopPropagation()},children:[(0,f.jsx)("div",{className:D()("".concat(i,"-title"),(0,a.Z)({},"".concat(i,"-title-ellipsis"),R)),children:g}),v&&(0,f.jsx)("div",{className:"".concat(i,"-subtitle"),children:v}),x&&(0,f.jsx)(u.Z,(0,t.Z)((0,t.Z)({},r),{},{children:(0,f.jsx)("span",{className:"".concat(i,"-icon"),children:n})}))]})};C.Z=Z.memo(M)},96138:function(){},56640:function(){},11445:function(){},11316:function(S,C,e){"use strict";var t=e(67294),h=e(64317),u=e(2521),a=e(56484),c=e(85893),y=function(F){var _=F.name,D=F.label,Z=F.mode,j=F.value,m=F._require,M=F.width,d=(0,u.QT)(a.P4),T=d.data;return(0,c.jsx)(h.Z,{style:{width:M||"328px"},width:"sm",label:D,name:_,placeholder:"\u8BF7\u9009\u62E9"+(D||""),mode:Z,allowClear:!0,initialValue:j,rules:[{required:!!m,message:"\u8BF7\u9009\u62E9"+(D||"")}],options:T})};C.Z=y},25733:function(S,C,e){"use strict";e.r(C),e.d(C,{default:function(){return de}});var t=e(58024),h=e(91894),u=e(11849),a=e(18446),c=e(90860),y=e(39428),f=e(3182),F=e(34792),_=e(48086),D=e(2824),Z=e(28991),j=e(81253),m=e(85893),M=e(67294),d=e(66758),T=e(39863),g=["fieldProps","proFieldProps"],x="dateTime",R=M.forwardRef(function(z,G){var $=z.fieldProps,J=z.proFieldProps,Y=(0,j.Z)(z,g),K=(0,M.useContext)(d.Z);return(0,m.jsx)(T.Z,(0,Z.Z)({ref:G,fieldProps:(0,Z.Z)({getPopupContainer:K.getPopupContainer},$),valueType:x,proFieldProps:J,filedConfig:{valueType:x,customLightMode:!0}},Y))}),v=R,P=e(952),E=e(5966),i=e(90672),r=e(31199),n=e(91800),p=e(2521),s=e(75362),l=e(85224),o=e(11878),H=e(11316),q=e(43237),oe=void 0,le=function(G){var $=G.match.params.id,J=(0,M.useState)({}),Y=(0,D.Z)(J,2),K=Y[0],ee=Y[1],re=(0,M.useState)([]),te=(0,D.Z)(re,2),Q=te[0],B=te[1],V=(0,p.tT)("@@initialState"),ne=V.initialState,Pe=V.setInitialState;if($>0){var ae=(0,p.QT)(o.dM,{manual:!0,onSuccess:function(O,W){var A=O.row,w=A.imgs_arr;ee(A);var U=[];w.map(function(I,ie){return U.push({uid:ie,status:"done",response:{status:1,data:{src:I}},url:I})}),B(U)}}),X=ae.run;(0,M.useEffect)(function(){X({id:$})},[])}var pe=(0,p.QT)(o.R2,{manual:!0,onSuccess:function(){_.default.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){p.m8.push({pathname:"/hr/peixun"})},400)}}),ce=pe.run,me=function(){var L=(0,f.Z)((0,y.Z)().mark(function O(W){var A;return(0,y.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:A=[],Q.map(function(I,ie){A.push(I.response.data.src)}),W.imgs=A,W.id=$,ce(W);case 5:case"end":return U.stop()}},O)}));return function(W){return L.apply(this,arguments)}}(),se={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},ve=function(O){console.log(O),console.log(123);var W=O.type==="image/jpeg",A=O.type==="image/jpeg",w=O.type==="image/gif",U=O.type==="image/png";if(!(W||A||w||U)){Modal.error({title:"\u53EA\u80FD\u4E0A\u4F20JPG \u3001JPEG \u3001GIF\u3001 PNG\u683C\u5F0F\u7684\u56FE\u7247~"});return}var I=O.size/1024/1024<2;if(!I){Modal.error({title:"\u8D85\u8FC72M\u9650\u5236\uFF0C\u4E0D\u5141\u8BB8\u4E0A\u4F20~"});return}return(W||A||w||U)&&I&&oe.checkImageWH(O)},ue=JSON.stringify(G.match.params)=="{}"?!1:!(K&&K.id);return ue?(0,m.jsx)(c.Z,{active:!0}):(0,m.jsx)(s.ZP,{children:(0,m.jsx)(h.Z,{bordered:!1,children:(0,m.jsxs)(P.ZP,(0,u.Z)((0,u.Z)({name:"basic"},se),{},{initialValues:K.id?K:{length:45},onFinish:me,submitter:{render:function(O,W){return(0,m.jsx)(l.Z,{children:W})}},children:[(0,m.jsx)(E.Z,{label:"\u57F9\u8BAD\u4E3B\u9898",width:"xl",name:"title",placeholder:"\u8BF7\u8F93\u5165\u57F9\u8BAD\u4E3B\u9898",required:!0}),(0,m.jsx)(H.Z,{label:"\u57F9\u8BAD\u8BB2\u5E08",name:"teacher_uid",_require:!0,width:"550px"}),(0,m.jsx)(H.Z,{label:"\u53C2\u8BAD\u5B66\u5458",name:"student_uids",_require:!0,width:"550px",mode:"multiple"}),(0,m.jsx)(i.Z,{label:"\u57F9\u8BAD\u7B80\u4ECB",width:"xl",name:"desc",placeholder:"\u8BF7\u8F93\u5165\u57F9\u8BAD\u7B80\u4ECB"}),(0,m.jsx)(v,{name:"time",label:"\u57F9\u8BAD\u65F6\u95F4",required:!0,width:"xl",fieldProps:{format:function(O){return O.format("YYYY-MM-DD HH:mm")}}}),(0,m.jsx)(r.Z,{name:"length",label:"\u57F9\u8BAD\u65F6\u957F\uFF08\u5206\u949F\uFF09",width:"xl",required:!0}),(0,m.jsx)(n.Z,{width:"xl",max:5,beforeUpload:ve,action:q.h+"base/upload",fileList:Q,fieldProps:{listType:"picture-card"},extra:"\u6700\u591A\u4E0A\u4F205\u5F20\uFF0C\u652F\u6301\u6269\u5C55\u540D\uFF1A.jpg .png .jpeg",label:"\u57F9\u8BAD\u7167\u7247",name:"upload",onChange:function(O){return B(O.fileList)}})]}))})})},de=le},11878:function(S,C,e){"use strict";e.d(C,{gp:function(){return y},vP:function(){return F},qX:function(){return D},dM:function(){return j},R2:function(){return M},fL:function(){return T},r_:function(){return x},TE:function(){return v},N9:function(){return E}});var t=e(39428),h=e(11849),u=e(3182),a=e(2521),c=e(43237);function y(r,n){return f.apply(this,arguments)}function f(){return f=(0,u.Z)((0,t.Z)().mark(function r(n,p){var s;return(0,t.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,a.WY)(c.h+"hr/peixun/index",(0,h.Z)({method:"GET",params:(0,h.Z)({},n)},p||{}));case 2:return s=o.sent,o.abrupt("return",{data:s.data,success:s.success});case 4:case"end":return o.stop()}},r)})),f.apply(this,arguments)}function F(r,n){return _.apply(this,arguments)}function _(){return _=(0,u.Z)((0,t.Z)().mark(function r(n,p){var s;return(0,t.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,a.WY)(c.h+"hr/peixun/jiang",(0,h.Z)({method:"GET",params:(0,h.Z)({},n)},p||{}));case 2:return s=o.sent,o.abrupt("return",{data:s.data,success:s.success});case 4:case"end":return o.stop()}},r)})),_.apply(this,arguments)}function D(r,n){return Z.apply(this,arguments)}function Z(){return Z=(0,u.Z)((0,t.Z)().mark(function r(n,p){var s;return(0,t.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,a.WY)(c.h+"hr/peixun/prize",(0,h.Z)({method:"GET",params:(0,h.Z)({},n)},p||{}));case 2:return s=o.sent,o.abrupt("return",{data:s.data,success:s.success});case 4:case"end":return o.stop()}},r)})),Z.apply(this,arguments)}function j(r){return m.apply(this,arguments)}function m(){return m=(0,u.Z)((0,t.Z)().mark(function r(n){return(0,t.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,a.WY)(c.h+"hr/peixun/detail",{params:n}));case 1:case"end":return s.stop()}},r)})),m.apply(this,arguments)}function M(r){return d.apply(this,arguments)}function d(){return d=(0,u.Z)((0,t.Z)().mark(function r(n){var p;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,a.WY)(c.h+"hr/peixun/save",{method:"POST",data:n});case 2:return p=l.sent,l.abrupt("return",p);case 4:case"end":return l.stop()}},r)})),d.apply(this,arguments)}function T(r){return g.apply(this,arguments)}function g(){return g=(0,u.Z)((0,t.Z)().mark(function r(n){var p;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,a.WY)(c.h+"hr/peixun/saveJiang",{method:"POST",data:n});case 2:return p=l.sent,l.abrupt("return",p);case 4:case"end":return l.stop()}},r)})),g.apply(this,arguments)}function x(r){return R.apply(this,arguments)}function R(){return R=(0,u.Z)((0,t.Z)().mark(function r(n){var p;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,a.WY)(c.h+"hr/peixun/prizeSelect",{method:"GET",params:(0,h.Z)({},n)});case 2:return p=l.sent,l.abrupt("return",{data:p.data.list});case 4:case"end":return l.stop()}},r)})),R.apply(this,arguments)}function v(r){return P.apply(this,arguments)}function P(){return P=(0,u.Z)((0,t.Z)().mark(function r(n){var p;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,a.WY)(c.h+"hr/peixun/savePrize",{method:"POST",data:n});case 2:return p=l.sent,l.abrupt("return",p);case 4:case"end":return l.stop()}},r)})),P.apply(this,arguments)}function E(r){return i.apply(this,arguments)}function i(){return i=(0,u.Z)((0,t.Z)().mark(function r(n){return(0,t.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,a.WY)(c.h+"hr/peixun/deletePrize",{params:n}));case 1:case"end":return s.stop()}},r)})),i.apply(this,arguments)}},56484:function(S,C,e){"use strict";e.d(C,{gp:function(){return y},dM:function(){return F},Y8:function(){return D},P4:function(){return j},R2:function(){return M},xg:function(){return x}});var t=e(39428),h=e(11849),u=e(3182),a=e(2521),c=e(43237);function y(v,P){return f.apply(this,arguments)}function f(){return f=(0,u.Z)((0,t.Z)().mark(function v(P,E){var i;return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.WY)(c.h+"hr/user/index?mode=all",(0,h.Z)({method:"GET",params:(0,h.Z)({},P)},E||{}));case 2:return i=n.sent,n.abrupt("return",{data:i.data,success:i.success,total:i.data.total,pageSize:i.data.pageSize,current:i.data.current});case 4:case"end":return n.stop()}},v)})),f.apply(this,arguments)}function F(v){return _.apply(this,arguments)}function _(){return _=(0,u.Z)((0,t.Z)().mark(function v(P){return(0,t.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,a.WY)(c.h+"hr/user/detail",{params:P}));case 1:case"end":return i.stop()}},v)})),_.apply(this,arguments)}function D(v){return Z.apply(this,arguments)}function Z(){return Z=(0,u.Z)((0,t.Z)().mark(function v(P){var E;return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,a.WY)(c.h+"hr/user/index?is_page=false&is_leave=0",{method:"GET",params:(0,h.Z)({},P)});case 2:return E=r.sent,r.abrupt("return",{data:E.data.list});case 4:case"end":return r.stop()}},v)})),Z.apply(this,arguments)}function j(v){return m.apply(this,arguments)}function m(){return m=(0,u.Z)((0,t.Z)().mark(function v(P){var E;return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,a.WY)(c.h+"hr/user/select",{method:"GET",params:(0,h.Z)({},P)});case 2:return E=r.sent,r.abrupt("return",{data:E.data.list});case 4:case"end":return r.stop()}},v)})),m.apply(this,arguments)}function M(v){return d.apply(this,arguments)}function d(){return d=(0,u.Z)((0,t.Z)().mark(function v(P){return(0,t.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,a.WY)(c.h+"hr/user/form",{method:"POST",data:P}));case 1:case"end":return i.stop()}},v)})),d.apply(this,arguments)}function T(v){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function v(P){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request(api+"hr/user/form",_objectSpread({method:"DELETE"},P||{})));case 1:case"end":return i.stop()}},v)})),g.apply(this,arguments)}function x(){return R.apply(this,arguments)}function R(){return R=(0,u.Z)((0,t.Z)().mark(function v(){return(0,t.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,a.WY)(c.h+"crontab/weixin/sync_user"));case 1:case"end":return E.stop()}},v)})),R.apply(this,arguments)}}}]);
