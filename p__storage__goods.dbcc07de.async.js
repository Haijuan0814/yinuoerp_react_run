(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[905],{31199:function(A,C,e){"use strict";var i=e(28991),m=e(81253),o=e(85893),a=e(67294),x=e(39863),j=["fieldProps","min","proFieldProps","max"],d=function(f,p){var c=f.fieldProps,Z=f.min,v=f.proFieldProps,y=f.max,h=(0,m.Z)(f,j);return(0,o.jsx)(x.Z,(0,i.Z)({valueType:"digit",fieldProps:(0,i.Z)({min:Z,max:y},c),ref:p,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:v},h))};C.Z=a.forwardRef(d)},86615:function(A,C,e){"use strict";var i=e(88983),m=e(55742),o=e(28991),a=e(81253),x=e(85893),j=e(96202),d=e(67294),R=e(52772),f=e(39863),p=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],c=d.forwardRef(function(h,r){var s=h.fieldProps,l=h.options,u=h.radioType,P=h.layout,W=h.proFieldProps,U=h.valueEnum,B=(0,a.Z)(h,p);return(0,x.jsx)(f.Z,(0,o.Z)((0,o.Z)({valueType:u==="button"?"radioButton":"radio",ref:r,valueEnum:(0,j.h)(U,void 0)},B),{},{fieldProps:(0,o.Z)({options:l,layout:P},s),proFieldProps:W,filedConfig:{customLightMode:!0}}))}),Z=d.forwardRef(function(h,r){var s=h.fieldProps,l=h.children;return(0,x.jsx)(m.ZP,(0,o.Z)((0,o.Z)({},s),{},{ref:r,children:l}))}),v=(0,R.G)(Z,{valuePropName:"checked",ignoreWidth:!0}),y=v;y.Group=c,y.Button=m.ZP.Button,y.displayName="ProFormComponent",C.Z=y},90672:function(A,C,e){"use strict";var i=e(28991),m=e(81253),o=e(85893),a=e(67294),x=e(39863),j=["fieldProps","proFieldProps"],d=function(f,p){var c=f.fieldProps,Z=f.proFieldProps,v=(0,m.Z)(f,j);return(0,o.jsx)(x.Z,(0,i.Z)({ref:p,valueType:"textarea",fieldProps:c,proFieldProps:Z},v))};C.Z=a.forwardRef(d)},5894:function(A,C,e){"use strict";e.d(C,{A:function(){return M}});var i=e(9715),m=e(55843),o=e(28991),a=e(85893),x=e(6397),j=e(96156),d=e(49111),R=e(19650),f=e(84305),p=e(39559),c=e(28481),Z=e(8812),v=e(28664),y=e(58927),h=e(94184),r=e.n(h),s=e(67294),l=e(66758),u=e(2514),P=e(96138),W=s.forwardRef(function(_,D){var E=s.useContext(l.Z),T=E.groupProps,O=(0,o.Z)((0,o.Z)({},T),_),de=O.children,ce=O.collapsible,ee=O.defaultCollapsed,Ee=O.style,n=O.labelLayout,ve=O.title,se=ve===void 0?_.label:ve,te=O.tooltip,me=O.align,z=me===void 0?"start":me,oe=O.direction,fe=O.size,pe=fe===void 0?32:fe,K=O.titleStyle,Y=O.titleRender,L=O.spaceProps,H=O.extra,k=O.autoFocus,ne=(0,v.Z)(function(){return ee||!1},{value:_.collapsed,onChange:_.onCollapse}),N=(0,c.Z)(ne,2),b=N[0],re=N[1],V=(0,s.useContext)(p.ZP.ConfigContext),ue=V.getPrefixCls,Q=(0,u.zx)(_),J=Q.ColWrapper,I=Q.RowWrapper,G=ue("pro-form-group"),le=ce&&(0,a.jsx)(Z.Z,{style:{marginRight:8},rotate:b?void 0:90}),X=(0,a.jsx)(y.Z,{label:le?(0,a.jsxs)("div",{children:[le,se]}):se,tooltip:te}),ie=(0,s.useCallback)(function($){var w=$.children;return(0,a.jsx)(R.Z,(0,o.Z)((0,o.Z)({},L),{},{className:r()("".concat(G,"-container"),L==null?void 0:L.className),size:pe,align:z,direction:oe,style:(0,o.Z)({rowGap:0},L==null?void 0:L.style),children:w}))},[z,G,oe,pe,L]),he=Y?Y(X,_):X,ge=(0,s.useMemo)(function(){var $=[],w=s.Children.toArray(de).map(function(S,De){var ae;return s.isValidElement(S)&&(S==null||(ae=S.props)===null||ae===void 0?void 0:ae.hidden)?($.push(S),null):De===0&&s.isValidElement(S)&&k?s.cloneElement(S,(0,o.Z)((0,o.Z)({},S.props),{},{autoFocus:k})):S});return[(0,a.jsx)(I,{Wrapper:ie,children:w},"children"),$.length>0?(0,a.jsx)("div",{style:{display:"none"},children:$}):null]},[de,I,ie,k]),Pe=(0,c.Z)(ge,2),q=Pe[0],_e=Pe[1];return(0,a.jsx)(J,{children:(0,a.jsxs)("div",{className:r()(G,(0,j.Z)({},"".concat(G,"-twoLine"),n==="twoLine")),style:Ee,ref:D,children:[_e,(se||te||H)&&(0,a.jsx)("div",{className:"".concat(G,"-title"),style:K,onClick:function(){re(!b)},children:H?(0,a.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[he,(0,a.jsx)("span",{onClick:function(w){return w.stopPropagation()},children:H})]}):he}),ce&&b?null:q]})})});W.displayName="ProForm-Group";var U=W,B=e(87808);function M(_){return(0,a.jsx)(x.I,(0,o.Z)({layout:"vertical",submitter:{render:function(E,T){return T.reverse()}},contentRender:function(E,T){return(0,a.jsxs)(a.Fragment,{children:[E,T]})}},_))}M.Group=U,M.useForm=m.Z.useForm,M.Item=B.Z,M.useWatch=m.Z.useWatch,M.ErrorList=m.Z.ErrorList,M.Provider=m.Z.Provider,M.useFormInstance=m.Z.useFormInstance},24739:function(A,C,e){"use strict";e.d(C,{UW:function(){return m}});var i=e(5894),m=i.A.Group},58927:function(A,C,e){"use strict";var i=e(28991),m=e(22385),o=e(89456),a=e(96156),x=e(84305),j=e(39559),d=e(85893),R=e(68628),f=e(94184),p=e.n(f),c=e(67294),Z=e(11445),v=e.n(Z),y=function(r){var s=r.label,l=r.tooltip,u=r.ellipsis,P=r.subTitle,W=(0,c.useContext)(j.ZP.ConfigContext),U=W.getPrefixCls;if(!l&&!P)return(0,d.jsx)(d.Fragment,{children:s});var B=U("pro-core-label-tip"),M=typeof l=="string"||c.isValidElement(l)?{title:l}:l,_=(M==null?void 0:M.icon)||(0,d.jsx)(R.Z,{});return(0,d.jsxs)("div",{className:B,onMouseDown:function(E){return E.stopPropagation()},onMouseLeave:function(E){return E.stopPropagation()},onMouseMove:function(E){return E.stopPropagation()},children:[(0,d.jsx)("div",{className:p()("".concat(B,"-title"),(0,a.Z)({},"".concat(B,"-title-ellipsis"),u)),children:s}),P&&(0,d.jsx)("div",{className:"".concat(B,"-subtitle"),children:P}),l&&(0,d.jsx)(o.Z,(0,i.Z)((0,i.Z)({},M),{},{children:(0,d.jsx)("span",{className:"".concat(B,"-icon"),children:_})}))]})};C.Z=c.memo(y)},39930:function(A){A.exports={cardList:"cardList___Thdjy",card:"card___14fEj",item:"item___1BNC4",extraImg:"extraImg___t3H5c",newButton:"newButton___qK3FL",cardAvatar:"cardAvatar___16HsC",cardDescription:"cardDescription___37iEd",pageHeaderContent:"pageHeaderContent___1uYiS",contentLink:"contentLink___2msPM",standardList:"standardList___gd8l2",headerInfo:"headerInfo___20RuN",listContent:"listContent___1-Q5f",listContentItem:"listContentItem___2cbtP",extraContentSearch:"extraContentSearch___3_5Na",extraContentButton:"extraContentButton___r7t3a",listCard:"listCard___3Wq1E",standardListForm:"standardListForm___1Ztjq",formResult:"formResult___3RuK_"}},96138:function(){},11445:function(){},84655:function(A,C,e){"use strict";e.r(C),e.d(C,{BasicList:function(){return oe},default:function(){return fe}});var i=e(58024),m=e(91894),o=e(66456),a=e(55499),x=e(57663),j=e(71577),d=e(71153),R=e(60331),f=e(94233),p=e(51890),c=e(71194),Z=e(50146),v=e(2824),y=e(47673),h=e(4107),r=e(67294),s=e(49101),l=e(75362),u=e(2521),P=e(30381),W=e.n(P),U=e(39428),B=e(3182),M=e(37476),_=e(66669),D=e(24739),E=e(5966),T=e(31199),O=e(90672),de=e(86615),ce=e(39930),ee=e.n(ce),Ee=e(43237),n=e(85893),ve=function(K){var Y=K.done,L=K.visible,H=K.current,k=K.onDone,ne=K.onSubmit,N=K.children,b=(0,r.useState)([]),re=(0,v.Z)(b,2),V=re[0],ue=re[1];return L?(0,n.jsx)(M.Y,{layout:"horizontal",visible:L,title:"\u7269\u8D44\u767B\u8BB0",className:ee().standardListForm,width:"50%",onFinish:function(){var Q=(0,B.Z)((0,U.Z)().mark(function J(I){var G;return(0,U.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:V.length>0?(G=V.length>0?V[0].response.data.src:"",I.avatar=G):I.avatar="",ne(I);case 2:case"end":return X.stop()}},J)}));return function(J){return Q.apply(this,arguments)}}(),initialValues:H||{status:"0",num:"1"},submitter:{render:function(J,I){return Y?null:I}},trigger:(0,n.jsx)(n.Fragment,{children:N}),modalProps:{onCancel:function(){return k()},destroyOnClose:!0,bodyStyle:Y?{padding:"72px 0"}:{}},children:Y?"":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.Z,{width:"md",max:1,action:Ee.h+"base/upload",fileList:V,fieldProps:{listType:"picture-card"},extra:"\u652F\u6301\u6269\u5C55\u540D\uFF1A.jpg .png .jpeg",label:(0,n.jsx)(n.Fragment,{children:"\u7269\u8D44\u7F29\u7565\u56FE"}),name:"upload",onChange:function(J){return ue(J.fileList)}}),(0,n.jsxs)(D.UW,{children:[(0,n.jsx)(E.Z,{name:"sn",label:"\u7269\u8D44\u7F16\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7269\u8D44\u7F16\u53F7"}],placeholder:"\u8BF7\u8F93\u5165\u7269\u8D44\u7F16\u53F7"}),(0,n.jsx)(E.Z,{name:"name",label:"\u7269\u8D44\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7269\u8D44\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165\u7269\u8D44\u540D\u79F0"})]}),(0,n.jsxs)(D.UW,{children:[(0,n.jsx)(E.Z,{name:"unit",label:"\u7269\u8D44\u5355\u4F4D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7269\u8D44\u5355\u4F4D"}],placeholder:"\u8BF7\u8F93\u5165\u7269\u8D44\u5355\u4F4D"}),(0,n.jsx)(T.Z,{label:"\u73B0\u6709\u5E93\u5B58",name:"num",min:1,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7269\u8D44\u5355\u4F4D"}]})]}),(0,n.jsx)(O.Z,{name:"remark",label:(0,n.jsx)(n.Fragment,{children:"\xA0\xA0\xA0\u5907\u6CE8\u8BF4\u660E"}),placeholder:"\u5907\u6CE8\u8BF4\u660E\uFF0C\u5E2E\u52A9\u4F60\u66F4\u597D\u7684\u8BC6\u522B\u7269\u8D44"}),(0,n.jsx)(de.Z.Group,{radioType:"button",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4F7F\u7528\u72B6\u6001"}],options:[{value:"0",label:"\u4F7F\u7528\u4E2D"},{value:"-1",label:"\u5DF2\u5E9F\u5F03"}],label:"\u4F7F\u7528\u72B6\u6001",name:"status"})]})}):null},se=ve,te=e(52200),me=h.Z.Search,z=20,oe=function(){var K=(0,r.useState)(""),Y=(0,v.Z)(K,2),L=Y[0],H=Y[1],k=(0,r.useState)(1),ne=(0,v.Z)(k,2),N=ne[0],b=ne[1],re=(0,r.useState)([]),V=(0,v.Z)(re,2),ue=V[0],Q=V[1],J=(0,r.useState)(!0),I=(0,v.Z)(J,2),G=I[0],le=I[1],X=(0,r.useState)([]),ie=(0,v.Z)(X,2),he=ie[0],ge=ie[1],Pe=(0,u.QT)(te.gp,{manual:!0,onSuccess:function(t,F){Q(t.data),b(t.current),ge(t.total),le(!1)}}),q=Pe.run;(0,r.useEffect)(function(){q({current:N,pageSize:z})},[]);var _e=(0,r.useState)(!1),$=(0,v.Z)(_e,2),w=$[0],S=$[1],De=(0,r.useState)(!1),ae=(0,v.Z)(De,2),je=ae[0],Ce=ae[1],Re=(0,r.useState)(void 0),Me=(0,v.Z)(Re,2),Te=Me[0],xe=Me[1],Le=function(t){t&&u.m8.push({pathname:"/storage/goods/detail/".concat(t.id)})},Be=(0,u.QT)(function(g,t){return g==="remove"?(0,te.v$)(t):(0,te.R2)(t)},{manual:!0,onSuccess:function(t){q({current:N,pageSize:z})}}),Oe=Be.run,Se=function(t){b(1),H(t),q({keywords:t,current:N,pageSize:z})},Ie=function(t){b(t),q({keywords:L,current:t,pageSize:z})},Ze=function(t){Ce(!0),xe(t)},Ae=function(t){Oe("remove",{id:t})},ye=function(t,F){t==="add"?Ze():t==="edit"?Ze(F):t==="delete"&&Z.Z.confirm({title:"\u5E9F\u5F03\u7269\u8D44",content:"\u5E9F\u5F03\u7269\u8D44\u5373\u4E0D\u518D\u4F7F\u7528\u8BE5\u7269\u8D44\uFF0C\u786E\u5B9A\u64CD\u4F5C\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return Ae(F.id)}})},We=function(){S(!1),Ce(!1),xe({}),w&&(H(""),b(1),q({keywords:L,current:N,pageSize:z}))},Ue=function(t){S(!1),Ce(!1),xe({});var F=t!=null&&t.id?"update":"add";Oe(F,t)},Ke=[{key:"sn",title:"\u7269\u8D44\u7F16\u53F7",dataIndex:"sn"},{title:"\u7269\u8D44\u540D\u79F0",key:"name",dataIndex:"name",render:function(t,F){return(0,n.jsxs)("span",{children:[(0,n.jsx)(p.C,{src:F.avatar,shape:"square",size:"small"})," \xA0\xA0",(0,n.jsx)("a",{onClick:function(){Le(F)},children:F.name})]})}},{title:"\u73B0\u6709\u5E93\u5B58",key:"num",dataIndex:"num",render:function(t,F){return(0,n.jsxs)("span",{children:[F.num,F.unit]})}},{title:"\u521B\u5EFA\u4EBA",key:"insert_user",dataIndex:"insert_user",sorter:!0},{title:"\u4F7F\u7528\u72B6\u6001",key:"is_delete",dataIndex:"is_delete",render:function(t){return(0,n.jsx)("span",{children:t==1?(0,n.jsx)(R.Z,{color:"default",children:"\u5DF2\u5E9F\u5F03"}):(0,n.jsx)(R.Z,{color:"success",children:"\u4F7F\u7528\u4E2D"})})}},{title:"\u6700\u8FD1\u66F4\u65B0",sorter:!0,key:"update_time",dataIndex:"update_time",render:function(t){return(0,n.jsxs)("span",{children:[t>0?W()(parseInt(t)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})},search:!1},{title:"\u64CD\u4F5C",key:"option",valueType:"option",render:function(t,F){return[(0,n.jsx)(n.Fragment,{children:F.is_delete==1?"":(0,n.jsx)("a",{onClick:function(){return ye("delete",F)},children:"\u5E9F\u5F03"},"delete")})]}}];return(0,n.jsxs)("div",{children:[(0,n.jsx)(l.ZP,{children:(0,n.jsx)("div",{className:ee().standardList,children:(0,n.jsx)(m.Z,{bordered:!1,style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:(0,n.jsxs)("div",{className:ee().extraContent,children:[(0,n.jsx)(me,{className:ee().extraContentSearch,placeholder:"\u8BF7\u8F93\u5165\u7269\u8D44\u540D\u79F0\u6216\u7F16\u53F7",onSearch:function(t){return Se(t)}}),(0,n.jsxs)(j.Z,{type:"primary",onClick:function(){return ye("add")},children:[(0,n.jsx)(s.Z,{})," ",(0,n.jsx)(u._H,{id:"pages.new",defaultMessage:"New"})]},"primary")]}),children:(0,n.jsx)(a.Z,{dataSource:ue,rowKey:"id",loading:G,columns:Ke,pagination:{simple:!1,current:N,defaultCurrent:1,total:he,showSizeChanger:!0,pageSize:z,showTotal:function(t){return"\u5171"+t+"\u6761\u6570\u636E"},onChange:function(t,F){Ie(t)}}})})})}),(0,n.jsx)(se,{done:w,visible:je,current:Te,onDone:We,onSubmit:Ue})]})},fe=oe},52200:function(A,C,e){"use strict";e.d(C,{gp:function(){return j},R2:function(){return R},xb:function(){return p},dM:function(){return Z},v$:function(){return y}});var i=e(39428),m=e(11849),o=e(3182),a=e(2521),x=e(43237);function j(r,s){return d.apply(this,arguments)}function d(){return d=(0,o.Z)((0,i.Z)().mark(function r(s,l){return(0,i.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,a.WY)(x.h+"storage/goods/index",(0,m.Z)({method:"GET",params:(0,m.Z)({},s)},l||{})));case 1:case"end":return P.stop()}},r)})),d.apply(this,arguments)}function R(r){return f.apply(this,arguments)}function f(){return f=(0,o.Z)((0,i.Z)().mark(function r(s){return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,a.WY)(x.h+"storage/goods/form",{method:"POST",data:s}));case 1:case"end":return u.stop()}},r)})),f.apply(this,arguments)}function p(r){return c.apply(this,arguments)}function c(){return c=(0,o.Z)((0,i.Z)().mark(function r(s){var l;return(0,i.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,a.WY)(x.h+"storage/goods/select",{method:"GET",params:(0,m.Z)({},s)});case 2:return l=P.sent,P.abrupt("return",{data:l.data.list});case 4:case"end":return P.stop()}},r)})),c.apply(this,arguments)}function Z(r){return v.apply(this,arguments)}function v(){return v=(0,o.Z)((0,i.Z)().mark(function r(s){return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,a.WY)(x.h+"storage/goods/detail",{params:s}));case 1:case"end":return u.stop()}},r)})),v.apply(this,arguments)}function y(r){return h.apply(this,arguments)}function h(){return h=(0,o.Z)((0,i.Z)().mark(function r(s){return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,a.WY)(x.h+"storage/goods/delete",{params:s}));case 1:case"end":return u.stop()}},r)})),h.apply(this,arguments)}},86743:function(A,C,e){"use strict";var i=e(22122),m=e(28481),o=e(9475),a=e(67294),x=e(71577),j=e(73839);function d(f){return!!(f&&!!f.then)}var R=function(p){var c=a.useRef(!1),Z=a.useRef(null),v=(0,o.Z)(!1),y=(0,m.Z)(v,2),h=y[0],r=y[1],s=p.close,l=function(){s==null||s.apply(void 0,arguments)};a.useEffect(function(){var _=null;return p.autoFocus&&(_=setTimeout(function(){var D;(D=Z.current)===null||D===void 0||D.focus()})),function(){_&&clearTimeout(_)}},[]);var u=function(D){!d(D)||(r(!0),D.then(function(){r(!1,!0),l.apply(void 0,arguments),c.current=!1},function(E){console.error(E),r(!1,!0),c.current=!1}))},P=function(D){var E=p.actionFn;if(!c.current){if(c.current=!0,!E){l();return}var T;if(p.emitEvent){if(T=E(D),p.quitOnNullishReturnValue&&!d(T)){c.current=!1,l(D);return}}else if(E.length)T=E(s),c.current=!1;else if(T=E(),!T){l();return}u(T)}},W=p.type,U=p.children,B=p.prefixCls,M=p.buttonProps;return a.createElement(x.Z,(0,i.Z)({},(0,j.n)(W),{onClick:P,loading:h,prefixCls:B},M,{ref:Z}),U)};C.Z=R}}]);
