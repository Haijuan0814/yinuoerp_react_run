(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6989],{58293:function(Z,M,e){"use strict";e.r(M);var u=e(18446),I=e(90860),l=e(58024),d=e(91894),m=e(12968),A=e(70080),p=e(54421),c=e(38272),h=e(13062),R=e(71230),O=e(95300),C=e(7277),f=e(89032),v=e(15746),j=e(94233),r=e(51890),i=e(39428),E=e(3182),n=e(62350),b=e(24565),_e=e(57663),x=e(71577),re=e(34792),S=e(48086),F=e(2824),Y=e(1870),D=e(2521),T=e(67294),$=e(75362),G=e(36653),U=e(13929),H=e(30381),W=e.n(H),z=e(80877),Q=e(50669),J=e(20290),t=e(85893),N=function(V){var y=V.match.params.id,g=(0,D.tT)("@@initialState"),X=g.initialState,ue=g.setInitialState,B=X.currentUser,w=(0,T.useState)({}),L=(0,F.Z)(w,2),a=L[0],k=L[1],q=(0,D.QT)(U.dM,{manual:!0,onSuccess:function(s,o){k(s.row)}}),K=q.run;(0,T.useEffect)(function(){K({id:y})},[]);var ee=(0,D.QT)(U.v$,{manual:!0,onSuccess:function(s,o){S.default.success("\u64CD\u4F5C\u6210\u529F"),K({id:y})}}),te=ee.run,ne=function(s){te({id:s.id})},se=function(s){s&&D.m8.push({pathname:"/finance/baoxiao/edit/".concat(s.id)})},ae=function(s){s&&D.m8.push({pathname:"/finance/baoxiao/print/".concat(s.id)})},P=(0,t.jsx)(x.Z,{type:"primary",onClick:function(){ae(a)},children:"\u6253\u5370"});return a.id>0&&B.id==a.insert_uid&&a.status=="check"&&(P=(0,t.jsxs)(t.Fragment,{children:[P,(0,t.jsx)(x.Z,{type:"primary",onClick:function(){se(a)},children:"\u4FEE\u6539"})]})),a.id>0&&B.id==a.insert_uid&&(a.status=="check"||a.status=="dep_check"||a.status=="hr_check"||a.status=="recheck")&&(P=(0,t.jsxs)(t.Fragment,{children:[P," ",(0,t.jsx)(b.Z,{title:"\u786E\u5B9A\u5F53\u524D\u64CD\u4F5C\u5417\uFF1F",onConfirm:function(){return ne(a)},icon:(0,t.jsx)(Y.Z,{style:{color:"red"}}),children:(0,t.jsx)(x.Z,{type:"danger",children:"\u4F5C\u5E9F"})})]})),a.id>0?(0,t.jsxs)($.ZP,{footer:[P],footerStyle:{textAlign:"right"},children:[(0,t.jsx)(J.Z,{tablename:"finance_baoxiao",parent:a.id}),(0,t.jsxs)(d.Z,{bordered:!1,children:[(0,t.jsxs)(R.Z,{gutter:16,children:[(0,t.jsx)(v.Z,{span:20,children:(0,t.jsx)(G.ZP,{column:1,request:(0,E.Z)((0,i.Z)().mark(function _(){return(0,i.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:a});case 1:case"end":return o.stop()}},_)})),columns:[{title:"\u62A5\u9500\u90E8\u95E8",dataIndex:"department_name"},{title:"\u62A5\u9500\u4EBA",dataIndex:"uid_name",render:function(s){return(0,t.jsxs)("span",{children:[(0,t.jsx)(r.C,{src:a.uid_avatar,shape:"round",size:"small"})," ",a.uid_name]})}},{title:"\u62A5\u9500\u5907\u6CE8",dataIndex:"remark"},{title:"\u5904\u7406\u72B6\u6001",dataIndex:"status",render:function(s){return(0,t.jsx)(Q.Z,{status:a.status,tablename:"finance_baoxiao"})}},{title:"\u7533\u8BF7\u4EBA",dataIndex:"insert_user"},{title:"\u7533\u8BF7\u65F6\u95F4",dataIndex:"insert_time",render:function(s){return(0,t.jsxs)("span",{children:[s>0?W()(parseInt(s)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"update_time",render:function(s){return(0,t.jsxs)("span",{children:[s>0?W()(parseInt(s)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}}]})}),(0,t.jsx)(v.Z,{span:4,children:(0,t.jsx)(C.Z,{title:"\u62A5\u9500\u91D1\u989D",value:a.money,precision:2})})]}),(0,t.jsx)(c.ZP,{style:{border:"1px solid #eee"},size:"small",rowKey:"item",header:(0,t.jsxs)("div",{children:["\xA0\xA0\xA0\xA0",(0,t.jsx)("strong",{children:"\u62A5\u9500\u9879\u76EE"})]}),dataSource:a.details,renderItem:function(s,o){return(0,t.jsxs)(c.ZP.Item,{style:{background:"#fff",borderBottom:"1px solid #eee"},children:[(0,t.jsx)(c.ZP.Item.Meta,{description:(0,t.jsxs)(t.Fragment,{children:[o+1,"\u3001",s.item]})}),(0,t.jsxs)("div",{children:["\xA5",s.money]})]},o)}}),(0,t.jsx)("br",{}),(0,t.jsx)(d.Z,{style:{border:"1px solid #eee"},title:"\u53D1\u7968\u6536\u636E",children:a.imgs_arr.map(function(_,s){return(0,t.jsx)(A.Z,{width:80,src:_,style:{border:"1px solid #eee",background:"#eeeeee"}},_)})}),(0,t.jsx)("br",{}),(0,t.jsx)(z.Z,{tablename:"finance_baoxiao",tableid:a.id,isEdit:!0})]})]}):(0,t.jsx)(I.Z,{active:!0})};M.default=N},13929:function(Z,M,e){"use strict";e.d(M,{gp:function(){return A},dM:function(){return c},j8:function(){return R},R2:function(){return C},v$:function(){return v}});var u=e(39428),I=e(11849),l=e(3182),d=e(2521),m=e(43237);function A(r){return p.apply(this,arguments)}function p(){return p=(0,l.Z)((0,u.Z)().mark(function r(i){return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.WY)(m.h+"finance/baoxiao/index",{method:"GET",params:(0,I.Z)({},i)});case 2:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},r)})),p.apply(this,arguments)}function c(r){return h.apply(this,arguments)}function h(){return h=(0,l.Z)((0,u.Z)().mark(function r(i){return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(m.h+"finance/baoxiao/detail",{params:i}));case 1:case"end":return n.stop()}},r)})),h.apply(this,arguments)}function R(r){return O.apply(this,arguments)}function O(){return O=(0,l.Z)((0,u.Z)().mark(function r(i){return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(m.h+"finance/baoxiao/print_template",{params:i}));case 1:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function C(r){return f.apply(this,arguments)}function f(){return f=(0,l.Z)((0,u.Z)().mark(function r(i){return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(m.h+"finance/baoxiao/form",{method:"POST",data:i}));case 1:case"end":return n.stop()}},r)})),f.apply(this,arguments)}function v(r){return j.apply(this,arguments)}function j(){return j=(0,l.Z)((0,u.Z)().mark(function r(i){return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.WY)(m.h+"finance/baoxiao/delete",{params:i}));case 1:case"end":return n.stop()}},r)})),j.apply(this,arguments)}}}]);
