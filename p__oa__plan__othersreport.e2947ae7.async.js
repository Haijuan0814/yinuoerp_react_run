(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1072],{74025:function($){$.exports={avatarHolder:"avatarHolder___oJeNk",name:"name___1RI-P",detail:"detail___1zGmD",tagsTitle:"tagsTitle___2j2o-",teamTitle:"teamTitle___2ugLT",tags:"tags___xSe4Y",team:"team___33bNk",tabsCard:"tabsCard___3W4EB","ant-picker-input":"ant-picker-input___UEZIG",leftContainer:"leftContainer___25RM9",rightContainer:"rightContainer___1ACtH",year:"year___AnGXN","ant-timeline":"ant-timeline___2zkGH","ant-timeline-alternate":"ant-timeline-alternate___2sJso","ant-timeline-item-right":"ant-timeline-item-right____Mg1F","ant-timeline-item-content":"ant-timeline-item-content___1tEGn","ant-timeline-item-head":"ant-timeline-item-head___jkoUE",content:"content___6Hwqp",plan:"plan___16hUy",report:"report___3Z_rZ"}},80877:function($,B,e){"use strict";e.d(B,{Z:function(){return de}});var u=e(57663),C=e(71577),g=e(9715),d=e(55843),y=e(47673),I=e(4107),W=e(54421),L=e(38272),x=e(60663),b=e(31990),T=e(2824),O=e(67294),i=e(2521),G=e(30381),P=e(39428),a=e(11849),p=e(3182),o=e(43237);function _(D,f){return n.apply(this,arguments)}function n(){return n=(0,p.Z)((0,P.Z)().mark(function D(f,j){var v,E;return(0,P.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return v=o.h+"base/comment/index",S.next=3,(0,i.WY)(v,{method:"GET",params:(0,a.Z)({},f)});case 3:return E=S.sent,S.abrupt("return",{data:E.data,success:E.success});case 5:case"end":return S.stop()}},D)})),n.apply(this,arguments)}function h(D){return l.apply(this,arguments)}function l(){return l=(0,p.Z)((0,P.Z)().mark(function D(f){var j;return(0,P.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return j=o.h+"base/comment/save",E.abrupt("return",(0,i.WY)(j,{method:"POST",data:f}));case 2:case"end":return E.stop()}},D)})),l.apply(this,arguments)}function s(D){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function D(f){var j;return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return j=api+"it/"+f.tablename+"/form",E.abrupt("return",request(j,{method:"POST",data:f}));case 2:case"end":return E.stop()}},D)})),c.apply(this,arguments)}function Z(D){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime().mark(function D(f){return _regeneratorRuntime().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",request(api+"it/think/form",_objectSpread({method:"DELETE"},f||{})));case 1:case"end":return v.stop()}},D)})),H.apply(this,arguments)}var t=e(85893),ue=function(f){var j=f.tablename,v=f.tableid,E=f.isEdit,X=f.isShowContent,S=(0,O.useState)([]),q=(0,T.Z)(S,2),ee=q[0],ie=q[1],le=(0,i.QT)(_,{manual:!0,onSuccess:function(m,J){var F=m.rows,K=[];F.map(function(w){w.tableid==v&&K.push(w)}),ie(K)}}),z=le.run;(0,O.useEffect)(function(){z({tablename:j,tableid:v})},[]);var oe=(0,O.useState)(!1),te=(0,T.Z)(oe,2),_e=te[0],k=te[1],Y=(0,O.useState)(""),ne=(0,T.Z)(Y,2),re=ne[0],N=ne[1],ae=(0,i.QT)(function(R){return h(R)},{manual:!0,onSuccess:function(m){k(!1),N(""),z({tablename:j,tableid:v})}}),ce=ae.run,me=function(m){N(m.target.value)},se=function(){k(!0);var m={content:re,tablename:j,tableid:v,parent:0};ce(m)},Q=function(m){if(m.indexOf("http")!=-1){var J=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,F=m.replace(J,function(w){return'<a href="'+w+'" target=_blank>'+w+"</a>"}),K={__html:F.replaceAll(`
`,"<br />")};return(0,t.jsx)("div",{dangerouslySetInnerHTML:K})}else return(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:m.replaceAll(`
`,"<br />")}})};return(0,t.jsxs)("div",{children:[ee.length>0?(0,t.jsx)(L.ZP,{className:"comment-list",itemLayout:"horizontal",dataSource:ee,renderItem:function(m){return(0,t.jsx)("li",{children:(0,t.jsx)(b.Z,{actions:m.actions,author:m.user.name,avatar:m.user.avatar,content:Q(m.content),datetime:m.insert_time})})}}):"",E?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z.Item,{children:(0,t.jsx)(I.Z.TextArea,{rows:2,onChange:function(m){return me(m)},value:re,className:"comment_textarea___hnYGe",style:{height:"70px"}})}),(0,t.jsx)(d.Z.Item,{children:(0,t.jsx)(C.Z,{htmlType:"submit",loading:_e,onClick:function(){return se()},type:"primary",children:"\u53D1\u8868\u8BC4\u8BBA"})})]}):""]})},de=ue},56484:function($,B,e){"use strict";e.d(B,{gp:function(){return I},dM:function(){return L},Y8:function(){return b},P4:function(){return O},R2:function(){return G},xg:function(){return o}});var u=e(39428),C=e(11849),g=e(3182),d=e(2521),y=e(43237);function I(n,h){return W.apply(this,arguments)}function W(){return W=(0,g.Z)((0,u.Z)().mark(function n(h,l){var s;return(0,u.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,d.WY)(y.h+"hr/user/index?mode=all",(0,C.Z)({method:"GET",params:(0,C.Z)({},h)},l||{}));case 2:return s=Z.sent,Z.abrupt("return",{data:s.data,success:s.success,total:s.data.total,pageSize:s.data.pageSize,current:s.data.current});case 4:case"end":return Z.stop()}},n)})),W.apply(this,arguments)}function L(n){return x.apply(this,arguments)}function x(){return x=(0,g.Z)((0,u.Z)().mark(function n(h){return(0,u.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(y.h+"hr/user/detail",{params:h}));case 1:case"end":return s.stop()}},n)})),x.apply(this,arguments)}function b(n){return T.apply(this,arguments)}function T(){return T=(0,g.Z)((0,u.Z)().mark(function n(h){var l;return(0,u.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,d.WY)(y.h+"hr/user/index?is_page=false&is_leave=0",{method:"GET",params:(0,C.Z)({},h)});case 2:return l=c.sent,c.abrupt("return",{data:l.data.list});case 4:case"end":return c.stop()}},n)})),T.apply(this,arguments)}function O(n){return i.apply(this,arguments)}function i(){return i=(0,g.Z)((0,u.Z)().mark(function n(h){var l;return(0,u.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,d.WY)(y.h+"hr/user/select",{method:"GET",params:(0,C.Z)({},h)});case 2:return l=c.sent,c.abrupt("return",{data:l.data.list});case 4:case"end":return c.stop()}},n)})),i.apply(this,arguments)}function G(n){return P.apply(this,arguments)}function P(){return P=(0,g.Z)((0,u.Z)().mark(function n(h){return(0,u.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(y.h+"hr/user/form",{method:"POST",data:h}));case 1:case"end":return s.stop()}},n)})),P.apply(this,arguments)}function a(n){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function n(h){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request(api+"hr/user/form",_objectSpread({method:"DELETE"},h||{})));case 1:case"end":return s.stop()}},n)})),p.apply(this,arguments)}function o(){return _.apply(this,arguments)}function _(){return _=(0,g.Z)((0,u.Z)().mark(function n(){return(0,u.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,d.WY)(y.h+"crontab/weixin/sync_user"));case 1:case"end":return l.stop()}},n)})),_.apply(this,arguments)}},90336:function($,B,e){"use strict";e.r(B);var u=e(18106),C=e(32267),g=e(402),d=e(97272),y=e(94233),I=e(51890),W=e(88983),L=e(55742),x=e(18446),b=e(90860),T=e(87593),O=e(37636),i=e(2824),G=e(67724),P=e(8812),a=e(67294),p=e(75362),o=e(21349),_=e(74025),n=e.n(_),h=e(30381),l=e.n(h),s=e(67547),c=e(56484),Z=e(2521),H=e(80877),t=e(85893),ue=function(){var D=(0,a.useState)("0"),f=(0,i.Z)(D,2),j=f[0],v=f[1],E=(0,a.useState)([]),X=(0,i.Z)(E,2),S=X[0],q=X[1],ee=(0,Z.QT)(c.Y8,{manual:!0,onSuccess:function(r,A){q(r),v(r[0].id),V()}}),ie=ee.run;(0,a.useEffect)(function(){ie()},[]);var le=(0,a.useState)([]),z=(0,i.Z)(le,2),oe=z[0],te=z[1],_e=(0,a.useState)([]),k=(0,i.Z)(_e,2),Y=k[0],ne=k[1],re=(0,a.useState)([]),N=(0,i.Z)(re,2),ae=N[0],ce=N[1],me=(0,a.useState)([]),se=(0,i.Z)(me,2),Q=se[0],R=se[1],m=(0,a.useState)("week"),J=(0,i.Z)(m,2),F=J[0],K=J[1],w=(0,a.useState)([]),pe=(0,i.Z)(w,2),U=pe[0],ve=pe[1],Ee=(0,Z.QT)(s.KS,{manual:!0,onSuccess:function(r,A){te(r.weeks),ne(r.year),ce(r.month),R(r.current_week),ye({year:r.year,month:r.month,week:r.current_week,uid:j}),r.current_week?K("week"):K("month")}}),V=Ee.run,ge=(0,Z.QT)(s.QL,{manual:!0,onSuccess:function(r,A){ve(r.row)}}),ye=ge.run,he=function(r,A){V({year:Y,month:r,week:A})},fe=function(r){r==-1?V({year:parseInt(Y)-1}):r==1&&V({year:parseInt(Y)+1})},Pe=function(r){v(r),V()},De=function(r){r?Z.m8.push({pathname:"/oa/plan/".concat(r)}):Z.m8.push({pathname:"/oa/plan"})},Ce=[1,2,3,4,5,6,7,8,9,10,11,12],Ze=function(r){if(r==ae)return oe.map(function(A){return(0,t.jsxs)(O.Z.Item,{position:"left",color:A.week==Q?"red":"gray",style:{fontSize:"12px",cursor:"pointer"},onClick:function(){return he(r,A.week)},children:["\u7B2C",A.week,"\u5468",(0,t.jsx)("br",{}),A.start,"\uFF5E",A.end]})})},je=!(S.length>0);return je?(0,t.jsx)(b.Z,{active:!0}):(0,t.jsxs)(p.ZP,{children:[(0,t.jsxs)(L.ZP.Group,{defaultValue:"\u8BA1\u5212\u62A5\u544A",buttonStyle:"solid",children:[(0,t.jsx)(L.ZP.Button,{value:"\u5DE5\u4F5C\u65E5\u62A5",onClick:function(){return De("others")},children:"\u5DE5\u4F5C\u65E5\u62A5"}),(0,t.jsx)(L.ZP.Button,{value:"\u8BA1\u5212\u62A5\u544A",children:"\u8BA1\u5212\u62A5\u544A"})]}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(C.Z,{defaultActiveKey:S[0].id,onChange:function(r){return Pe(r)},children:S.map(function(M){return(0,t.jsx)(C.Z.TabPane,{tab:(0,t.jsxs)("span",{children:[(0,t.jsx)(I.C,{src:M.avatar,size:"small"})," ",M.name]}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:n().leftContainer,style:{top:"224px",width:"230px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"10px",width:"100%"},children:[(0,t.jsx)("a",{style:{paddingRight:"24px",fontSize:"14px",width:"25%"},onClick:function(){return fe(-1)},children:(0,t.jsx)(G.Z,{})}),(0,t.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold",width:"50%"},children:[Y,"\u5E74"]}),(0,t.jsx)("a",{style:{paddingLeft:"24px",fontSize:"14px",width:"25%"},onClick:function(){return fe(1)},children:(0,t.jsx)(P.Z,{})})]}),Ce.map(function(r){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(O.Z,{mode:"alternate",className:n().year,children:[(0,t.jsxs)(O.Z.Item,{position:"right",color:r==ae&&Q==0?"red":"gray",onClick:function(){return he(r,0)},style:{cursor:"pointer"},children:[r,"\u6708"]}),Ze(r,Q),(0,t.jsx)("div",{})]})})})]}),(0,t.jsxs)("div",{className:n().rightContainer,style:{minWidth:document.body.clientWidth-480,top:"224px",left:"230px"},children:[(0,t.jsxs)(d.Z.Title,{level:5,style:{color:"#fa8c16"},children:["\u672C",F=="month"?"\u6708":"\u5468","\u5DE5\u4F5C\u8BA1\u5212"]}),U.plan&&U.plan.content?(0,t.jsx)("div",{style:{lineHeight:"28px"},dangerouslySetInnerHTML:{__html:U.plan.content.replaceAll(`
`,"<br />")}}):(0,t.jsx)("p",{style:{color:"#00000040"},children:"\u6682\u65E0\u5DE5\u4F5C\u8BA1\u5212"}),(0,t.jsx)("br",{}),(0,t.jsxs)(d.Z.Title,{level:5,style:{color:"#fa8c16"},children:["\u672C",F=="month"?"\u6708":"\u5468","\u603B\u7ED3\u5FC3\u5F97&\u5EFA\u8BAE"]}),U.plan&&U.plan.summary?(0,t.jsx)("div",{style:{lineHeight:"28px"},dangerouslySetInnerHTML:{__html:U.plan.summary.replaceAll(`
`,"<br />")}}):(0,t.jsx)("p",{style:{color:"#00000040"},children:"\u6682\u65E0\u603B\u7ED3"}),U.plan?(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{style:{color:"#00000040",marginTop:"5px"},children:["\u66F4\u65B0\u4E8E ",U.plan.update_time>0?l()(parseInt(U.plan.update_time)*1e3).format("YYYY-MM-DD HH:mm"):"",(0,t.jsx)("br",{})]}),(0,t.jsx)(H.Z,{tablename:"oa_plan_report",tableid:U.plan.id,isEdit:!0})]}):""]})]})},M.id)})})]})]})};B.default=ue},67547:function($,B,e){"use strict";e.d(B,{gp:function(){return I},v$:function(){return L},oc:function(){return b},KS:function(){return O},QL:function(){return G}});var u=e(39428),C=e(11849),g=e(3182),d=e(2521),y=e(43237);function I(a){return W.apply(this,arguments)}function W(){return W=(0,g.Z)((0,u.Z)().mark(function a(p){var o;return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.WY)(y.h+"oa/plan/index",{method:"GET",params:(0,C.Z)({},p)});case 2:return o=n.sent,n.abrupt("return",{data:o.data,success:o.success});case 4:case"end":return n.stop()}},a)})),W.apply(this,arguments)}function L(a){return x.apply(this,arguments)}function x(){return x=(0,g.Z)((0,u.Z)().mark(function a(p){return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.WY)(y.h+"oa/plan/delete",{method:"DELETE",data:p}));case 1:case"end":return _.stop()}},a)})),x.apply(this,arguments)}function b(a){return T.apply(this,arguments)}function T(){return T=(0,g.Z)((0,u.Z)().mark(function a(p){return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.WY)(y.h+"oa/plan/save",{method:"POST",data:p}));case 1:case"end":return _.stop()}},a)})),T.apply(this,arguments)}function O(a){return i.apply(this,arguments)}function i(){return i=(0,g.Z)((0,u.Z)().mark(function a(p){var o;return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.WY)(y.h+"oa/plan/weekline",{method:"GET",params:(0,C.Z)({},p)});case 2:return o=n.sent,n.abrupt("return",{data:o.data,success:o.success});case 4:case"end":return n.stop()}},a)})),i.apply(this,arguments)}function G(a){return P.apply(this,arguments)}function P(){return P=(0,g.Z)((0,u.Z)().mark(function a(p){var o;return(0,u.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.WY)(y.h+"oa/plan/report",{method:"GET",params:(0,C.Z)({},p)});case 2:return o=n.sent,n.abrupt("return",{data:o.data,success:o.success});case 4:case"end":return n.stop()}},a)})),P.apply(this,arguments)}}}]);
