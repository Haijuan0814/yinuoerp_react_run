(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7115],{39930:function(K){K.exports={cardList:"cardList___Thdjy",card:"card___14fEj",item:"item___1BNC4",extraImg:"extraImg___t3H5c",newButton:"newButton___qK3FL",cardAvatar:"cardAvatar___16HsC",cardDescription:"cardDescription___37iEd",pageHeaderContent:"pageHeaderContent___1uYiS",contentLink:"contentLink___2msPM",standardList:"standardList___gd8l2",headerInfo:"headerInfo___20RuN",listContent:"listContent___1-Q5f",listContentItem:"listContentItem___2cbtP",extraContentSearch:"extraContentSearch___3_5Na",extraContentButton:"extraContentButton___r7t3a",listCard:"listCard___3Wq1E",standardListForm:"standardListForm___1Ztjq",formResult:"formResult___3RuK_"}},64139:function(){},80877:function(K,T,t){"use strict";t.d(T,{Z:function(){return X}});var P=t(57663),A=t(71577),R=t(9715),M=t(55843),a=t(47673),c=t(4107),I=t(54421),L=t(38272),v=t(60663),E=t(31990),O=t(2824),r=t(67294),u=t(2521),d=t(30381),C=t(39428),g=t(11849),i=t(3182),m=t(43237);function Z(f,l){return b.apply(this,arguments)}function b(){return b=(0,i.Z)((0,C.Z)().mark(function f(l,y){var p,D;return(0,C.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return p=m.h+"base/comment/index",B.next=3,(0,u.WY)(p,{method:"GET",params:(0,g.Z)({},l)});case 3:return D=B.sent,B.abrupt("return",{data:D.data,success:D.success});case 5:case"end":return B.stop()}},f)})),b.apply(this,arguments)}function J(f){return F.apply(this,arguments)}function F(){return F=(0,i.Z)((0,C.Z)().mark(function f(l){var y;return(0,C.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return y=m.h+"base/comment/save",D.abrupt("return",(0,u.WY)(y,{method:"POST",data:l}));case 2:case"end":return D.stop()}},f)})),F.apply(this,arguments)}function ae(f){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function f(l){var y;return _regeneratorRuntime().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return y=api+"it/"+l.tablename+"/form",D.abrupt("return",request(y,{method:"POST",data:l}));case 2:case"end":return D.stop()}},f)})),h.apply(this,arguments)}function re(f){return N.apply(this,arguments)}function N(){return N=_asyncToGenerator(_regeneratorRuntime().mark(function f(l){return _regeneratorRuntime().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",request(api+"it/think/form",_objectSpread({method:"DELETE"},l||{})));case 1:case"end":return p.stop()}},f)})),N.apply(this,arguments)}var s=t(85893),U=function(l){var y=l.tablename,p=l.tableid,D=l.isEdit,n=l.isShowContent,B=(0,r.useState)([]),Y=(0,O.Z)(B,2),se=Y[0],ve=Y[1],_e=(0,u.QT)(Z,{manual:!0,onSuccess:function(_,ne){var Q=_.rows,V=[];Q.map(function($){$.tableid==p&&V.push($)}),ve(V)}}),k=_e.run;(0,r.useEffect)(function(){k({tablename:y,tableid:p})},[]);var z=(0,r.useState)(!1),G=(0,O.Z)(z,2),ce=G[0],q=G[1],de=(0,r.useState)(""),H=(0,O.Z)(de,2),oe=H[0],ee=H[1],S=(0,u.QT)(function(x){return J(x)},{manual:!0,onSuccess:function(_){q(!1),ee(""),k({tablename:y,tableid:p})}}),te=S.run,me=function(_){ee(_.target.value)},ue=function(){q(!0);var _={content:oe,tablename:y,tableid:p,parent:0};te(_)},ie=function(_){if(_.indexOf("http")!=-1){var ne=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,Q=_.replace(ne,function($){return'<a href="'+$+'" target=_blank>'+$+"</a>"}),V={__html:Q.replaceAll(`
`,"<br />")};return(0,s.jsx)("div",{dangerouslySetInnerHTML:V})}else return(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:_.replaceAll(`
`,"<br />")}})};return(0,s.jsxs)("div",{children:[se.length>0?(0,s.jsx)(L.ZP,{className:"comment-list",itemLayout:"horizontal",dataSource:se,renderItem:function(_){return(0,s.jsx)("li",{children:(0,s.jsx)(E.Z,{actions:_.actions,author:_.user.name,avatar:_.user.avatar,content:ie(_.content),datetime:_.insert_time})})}}):"",D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M.Z.Item,{children:(0,s.jsx)(c.Z.TextArea,{rows:2,onChange:function(_){return me(_)},value:oe,className:"comment_textarea___hnYGe",style:{height:"70px"}})}),(0,s.jsx)(M.Z.Item,{children:(0,s.jsx)(A.Z,{htmlType:"submit",loading:ce,onClick:function(){return ue()},type:"primary",children:"\u53D1\u8868\u8BC4\u8BBA"})})]}):""]})},X=U},55080:function(K,T,t){"use strict";t.r(T);var P=t(57338),A=t(440),R=t(54029),M=t(79166),a=t(39428),c=t(3182),I=t(48736),L=t(27049),v=t(62350),E=t(24565),O=t(58024),r=t(91894),u=t(54421),d=t(38272),C=t(18446),g=t(90860),i=t(57663),m=t(71577),Z=t(2824),b=t(47673),J=t(4107),F=t(7085),ae=t(49101),h=t(75362),re=t(64335),N=t(36653),s=t(67294),U=t(2521),X=t(30381),f=t.n(X),l=t(7079),y=t(39930),p=t.n(y),D=t(80877),n=t(85893),B=J.Z.Search,Y=10,se=function(){var _e=(0,s.useState)(1),k=(0,Z.Z)(_e,2),z=k[0],G=k[1],ce=(0,s.useState)(!1),q=(0,Z.Z)(ce,2),de=q[0],H=q[1],oe=(0,s.useState)(),ee=(0,Z.Z)(oe,2),S=ee[0],te=ee[1],me=(0,s.useState)([]),ue=(0,Z.Z)(me,2),ie=ue[0],x=ue[1],_=(0,s.useState)(!0),ne=(0,Z.Z)(_,2),Q=ne[0],V=ne[1],$=(0,s.useState)(!0),Ee=(0,Z.Z)($,2),De=Ee[0],Pe=Ee[1],Me=(0,s.useState)(!1),fe=(0,Z.Z)(Me,2),Oe=fe[0],xe=fe[1],Ce=(0,U.QT)(l.gp,{manual:!0,onSuccess:function(o,W){if(W[0].loadMore){var pe=ie.concat(o.list);x(pe)}else x(o.list),G(1);V(!1),o.total<=o.pageSize*o.current&&Pe(!1)}}),le=Ce.run;(0,s.useEffect)(function(){le({current:z,pageSize:Y,tab:"all"})},[]);var ge=function(){G(z+1),le({current:z+1,pageSize:Y,loadMore:!0})},ye=function(o){G(1),le({keywords:o,current:z,pageSize:Y})},Se=De?(0,n.jsx)("div",{style:{textAlign:"center",marginTop:16},children:(0,n.jsx)(m.Z,{onClick:ge,style:{paddingLeft:48,paddingRight:48},children:Oe?(0,n.jsxs)("span",{children:[(0,n.jsx)(F.Z,{})," \u52A0\u8F7D\u4E2D..."]}):"\u52A0\u8F7D\u66F4\u591A"})}):(0,n.jsx)("div",{style:{textAlign:"center",marginTop:16},children:(0,n.jsx)(m.Z,{style:{paddingLeft:48,paddingRight:48},children:"\u6CA1\u6709\u66F4\u591A\u4E86"})}),he=function(o){o?U.m8.push({pathname:"/oa/notice/edit/".concat(o.id)}):U.m8.push({pathname:"/oa/notice/create"})},je=(0,U.QT)(l.v$,{manual:!0,onSuccess:function(o,W){message.success("\u64CD\u4F5C\u6210\u529F"),setTimeout(function(){te(void 0),H(!1),le({keywords:e,current:z,pageSize:Y})},400)}}),Le=je.run,Re=function(o){Le({id:o.id})};return Q?(0,n.jsx)(g.Z,{}):(0,n.jsxs)(h.ZP,{extra:(0,n.jsxs)(m.Z,{type:"primary",onClick:function(){he()},children:[(0,n.jsx)(ae.Z,{})," ",(0,n.jsx)(U._H,{id:"pages.new",defaultMessage:"New"})]},"primary"),children:[(0,n.jsx)("div",{className:p().standardList,children:(0,n.jsx)(r.Z,{className:p().listCard,style:{marginTop:24},extra:(0,n.jsx)(B,{placeholder:"\u8BF7\u8F93\u5165\u901A\u77E5\u540D\u79F0",onSearch:function(o){return ye(o)}}),children:(0,n.jsx)(re.Z.Consumer,{children:function(o){var W=o.isMobile;return(0,n.jsx)(d.ZP,{size:"large",loading:Q,rowKey:"id",itemLayout:W?"vertical":"horizontal",loadMore:Se,dataSource:ie,renderItem:function(w){return(0,n.jsxs)(d.ZP.Item,{children:[(0,n.jsx)(d.ZP.Item.Meta,{style:{marginBottom:"0px"},title:(0,n.jsx)("a",{onClick:function(){te(w),H(!0)},children:w.title})}),(0,n.jsx)("div",{style:{width:"100px"},children:(0,n.jsx)("span",{children:w.insert_user})}),(0,n.jsx)("div",{style:{width:"120px"},children:(0,n.jsx)("span",{children:w.insert_time>0?f()(parseInt(w.insert_time)*1e3).format("YYYY-MM-DD"):""})})]},"notice-list-"+w.id)}})}})})}),(0,n.jsx)(A.Z,{width:"80%",visible:de,onClose:function(){te(void 0),H(!1)},closable:!1,title:S==null?void 0:S.title,footer:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{type:"primary",onClick:function(){he(S)},children:"\u7F16\u8F91"}),"\xA0"]}),(0,n.jsx)(E.Z,{title:"\u786E\u5B9A\u5220\u9664\u5F53\u524D\u901A\u77E5\u5417\uFF1F",onConfirm:function(){return Re(S)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsx)(m.Z,{children:"\u5220\u9664"})})],footerStyle:{textAlign:"right"},children:S?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:S&&S.content?S.content:"\u6682\u65E0\u5185\u5BB9"},className:"editorDetail"}),(0,n.jsx)(L.Z,{}),(0,n.jsx)(N.ZP,{column:1,request:(0,c.Z)((0,a.Z)().mark(function j(){return(0,a.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",{data:S||{}});case 1:case"end":return W.stop()}},j)})),columns:[{title:"\u53D1\u9001\u72B6\u6001",dataIndex:"is_send",render:function(o){return(0,n.jsxs)("span",{children:[o==1?(0,n.jsx)(M.Z,{color:"#87d068",text:"\u5DF2\u53D1\u9001"}):(0,n.jsx)(M.Z,{color:"#f50",text:"\u672A\u53D1\u9001"})," "]})}},{title:"\u53D1\u5E03\u4EBA\u5458",dataIndex:"insert_user"},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"insert_time",render:function(o){return(0,n.jsxs)("span",{children:[o>0?f()(parseInt(o)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}}]}),(0,n.jsx)(D.Z,{tablename:"oa_notice",tableid:S==null?void 0:S.id,isEdit:!0})]}):""})]})};T.default=se},7079:function(K,T,t){"use strict";t.d(T,{gp:function(){return c},R2:function(){return L},dM:function(){return E},v$:function(){return r}});var P=t(39428),A=t(11849),R=t(3182),M=t(2521),a=t(43237);function c(d){return I.apply(this,arguments)}function I(){return I=(0,R.Z)((0,P.Z)().mark(function d(C){var g;return(0,P.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,M.WY)(a.h+"oa/notice/index",{method:"GET",params:(0,A.Z)({},C)});case 2:return g=m.sent,m.abrupt("return",{data:g.data,success:g.success,total:g.data.total,pageSize:g.data.pageSize,current:g.data.current});case 4:case"end":return m.stop()}},d)})),I.apply(this,arguments)}function L(d){return v.apply(this,arguments)}function v(){return v=(0,R.Z)((0,P.Z)().mark(function d(C){return(0,P.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.WY)(a.h+"oa/notice/form",{method:"POST",data:C}));case 1:case"end":return i.stop()}},d)})),v.apply(this,arguments)}function E(d){return O.apply(this,arguments)}function O(){return O=(0,R.Z)((0,P.Z)().mark(function d(C){return(0,P.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.WY)(a.h+"oa/notice/detail",{params:C}));case 1:case"end":return i.stop()}},d)})),O.apply(this,arguments)}function r(d){return u.apply(this,arguments)}function u(){return u=(0,R.Z)((0,P.Z)().mark(function d(C){return(0,P.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.WY)(a.h+"oa/notice/delete",{params:C}));case 1:case"end":return i.stop()}},d)})),u.apply(this,arguments)}},31990:function(K,T,t){"use strict";var P=t(22122),A=t(96156),R=t(94184),M=t.n(R),a=t(67294),c=t(53124),I=function(v,E){var O={};for(var r in v)Object.prototype.hasOwnProperty.call(v,r)&&E.indexOf(r)<0&&(O[r]=v[r]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(v);u<r.length;u++)E.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(v,r[u])&&(O[r[u]]=v[r[u]]);return O},L=function(E){var O=E.actions,r=E.author,u=E.avatar,d=E.children,C=E.className,g=E.content,i=E.prefixCls,m=E.datetime,Z=I(E,["actions","author","avatar","children","className","content","prefixCls","datetime"]),b=a.useContext(c.E_),J=b.getPrefixCls,F=b.direction,ae=function(l,y){return a.createElement("div",{className:M()("".concat(l,"-nested"))},y)},h=J("comment",i),re=u?a.createElement("div",{className:"".concat(h,"-avatar")},typeof u=="string"?a.createElement("img",{src:u,alt:"comment-avatar"}):u):null,N=O&&O.length?a.createElement("ul",{className:"".concat(h,"-actions")},O.map(function(f,l){return a.createElement("li",{key:"action-".concat(l)},f)})):null,s=(r||m)&&a.createElement("div",{className:"".concat(h,"-content-author")},r&&a.createElement("span",{className:"".concat(h,"-content-author-name")},r),m&&a.createElement("span",{className:"".concat(h,"-content-author-time")},m)),U=a.createElement("div",{className:"".concat(h,"-content")},s,a.createElement("div",{className:"".concat(h,"-content-detail")},g),N),X=M()(h,(0,A.Z)({},"".concat(h,"-rtl"),F==="rtl"),C);return a.createElement("div",(0,P.Z)({},Z,{className:X}),a.createElement("div",{className:"".concat(h,"-inner")},re,U),d?ae(h,d):null)};T.Z=L},60663:function(K,T,t){"use strict";var P=t(38663),A=t.n(P),R=t(64139),M=t.n(R)},58083:function(K,T,t){"use strict";t.d(T,{G:function(){return M}});var P=t(70526),A=function(c){if((0,P.Z)()&&window.document.documentElement){var I=Array.isArray(c)?c:[c],L=window.document.documentElement;return I.some(function(v){return v in L.style})}return!1},R=function(c,I){if(!A(c))return!1;var L=document.createElement("div"),v=L.style[c];return L.style[c]=I,L.style[c]!==v};function M(a,c){return!Array.isArray(a)&&c!==void 0?R(a,c):A(a)}}}]);
