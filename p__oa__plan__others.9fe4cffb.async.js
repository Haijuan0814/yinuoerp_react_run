(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1584],{74025:function(F){F.exports={avatarHolder:"avatarHolder___oJeNk",name:"name___1RI-P",detail:"detail___1zGmD",tagsTitle:"tagsTitle___2j2o-",teamTitle:"teamTitle___2ugLT",tags:"tags___xSe4Y",team:"team___33bNk",tabsCard:"tabsCard___3W4EB","ant-picker-input":"ant-picker-input___UEZIG",leftContainer:"leftContainer___25RM9",rightContainer:"rightContainer___1ACtH",year:"year___AnGXN","ant-timeline":"ant-timeline___2zkGH","ant-timeline-alternate":"ant-timeline-alternate___2sJso","ant-timeline-item-right":"ant-timeline-item-right____Mg1F","ant-timeline-item-content":"ant-timeline-item-content___1tEGn","ant-timeline-item-head":"ant-timeline-item-head___jkoUE",content:"content___6Hwqp",plan:"plan___16hUy",report:"report___3Z_rZ"}},80877:function(F,W,e){"use strict";e.d(W,{Z:function(){return oe}});var s=e(57663),M=e(71577),g=e(9715),p=e(55843),P=e(47673),b=e(4107),S=e(54421),B=e(38272),L=e(60663),U=e(31990),Z=e(2824),R=e(67294),c=e(2521),K=e(30381),D=e(39428),u=e(11849),d=e(3182),l=e(43237);function o(y,f){return t.apply(this,arguments)}function t(){return t=(0,d.Z)((0,D.Z)().mark(function y(f,C){var E,v;return(0,D.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return E=l.h+"base/comment/index",T.next=3,(0,c.WY)(E,{method:"GET",params:(0,u.Z)({},f)});case 3:return v=T.sent,T.abrupt("return",{data:v.data,success:v.success});case 5:case"end":return T.stop()}},y)})),t.apply(this,arguments)}function h(y){return i.apply(this,arguments)}function i(){return i=(0,d.Z)((0,D.Z)().mark(function y(f){var C;return(0,D.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return C=l.h+"base/comment/save",v.abrupt("return",(0,c.WY)(C,{method:"POST",data:f}));case 2:case"end":return v.stop()}},y)})),i.apply(this,arguments)}function r(y){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function y(f){var C;return _regeneratorRuntime().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return C=api+"it/"+f.tablename+"/form",v.abrupt("return",request(C,{method:"POST",data:f}));case 2:case"end":return v.stop()}},y)})),_.apply(this,arguments)}function O(y){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function y(f){return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",request(api+"it/think/form",_objectSpread({method:"DELETE"},f||{})));case 1:case"end":return E.stop()}},y)})),w.apply(this,arguments)}var n=e(85893),te=function(f){var C=f.tablename,E=f.tableid,v=f.isEdit,J=f.isShowContent,T=(0,R.useState)([]),V=(0,Z.Z)(T,2),X=V[0],ne=V[1],ae=(0,c.QT)(o,{manual:!0,onSuccess:function(m,I){var G=m.rows,$=[];G.map(function(x){x.tableid==E&&$.push(x)}),ne($)}}),z=ae.run;(0,R.useEffect)(function(){z({tablename:C,tableid:E})},[]);var re=(0,R.useState)(!1),H=(0,Z.Z)(re,2),se=H[0],N=H[1],Y=(0,R.useState)(""),k=(0,Z.Z)(Y,2),q=k[0],Q=k[1],ue=(0,c.QT)(function(j){return h(j)},{manual:!0,onSuccess:function(m){N(!1),Q(""),z({tablename:C,tableid:E})}}),ie=ue.run,le=function(m){Q(m.target.value)},ee=function(){N(!0);var m={content:q,tablename:C,tableid:E,parent:0};ie(m)},_e=function(m){if(m.indexOf("http")!=-1){var I=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,G=m.replace(I,function(x){return'<a href="'+x+'" target=_blank>'+x+"</a>"}),$={__html:G.replaceAll(`
`,"<br />")};return(0,n.jsx)("div",{dangerouslySetInnerHTML:$})}else return(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:m.replaceAll(`
`,"<br />")}})};return(0,n.jsxs)("div",{children:[X.length>0?(0,n.jsx)(B.ZP,{className:"comment-list",itemLayout:"horizontal",dataSource:X,renderItem:function(m){return(0,n.jsx)("li",{children:(0,n.jsx)(U.Z,{actions:m.actions,author:m.user.name,avatar:m.user.avatar,content:_e(m.content),datetime:m.insert_time})})}}):"",v?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z.Item,{children:(0,n.jsx)(b.Z.TextArea,{rows:2,onChange:function(m){return le(m)},value:q,className:"comment_textarea___hnYGe",style:{height:"70px"}})}),(0,n.jsx)(p.Z.Item,{children:(0,n.jsx)(M.Z,{htmlType:"submit",loading:se,onClick:function(){return ee()},type:"primary",children:"\u53D1\u8868\u8BC4\u8BBA"})})]}):""]})},oe=te},56484:function(F,W,e){"use strict";e.d(W,{gp:function(){return b},dM:function(){return B},Y8:function(){return U},P4:function(){return R},R2:function(){return K},xg:function(){return l}});var s=e(39428),M=e(11849),g=e(3182),p=e(2521),P=e(43237);function b(t,h){return S.apply(this,arguments)}function S(){return S=(0,g.Z)((0,s.Z)().mark(function t(h,i){var r;return(0,s.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,p.WY)(P.h+"hr/user/index?mode=all",(0,M.Z)({method:"GET",params:(0,M.Z)({},h)},i||{}));case 2:return r=O.sent,O.abrupt("return",{data:r.data,success:r.success,total:r.data.total,pageSize:r.data.pageSize,current:r.data.current});case 4:case"end":return O.stop()}},t)})),S.apply(this,arguments)}function B(t){return L.apply(this,arguments)}function L(){return L=(0,g.Z)((0,s.Z)().mark(function t(h){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)(P.h+"hr/user/detail",{params:h}));case 1:case"end":return r.stop()}},t)})),L.apply(this,arguments)}function U(t){return Z.apply(this,arguments)}function Z(){return Z=(0,g.Z)((0,s.Z)().mark(function t(h){var i;return(0,s.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,p.WY)(P.h+"hr/user/index?is_page=false&is_leave=0",{method:"GET",params:(0,M.Z)({},h)});case 2:return i=_.sent,_.abrupt("return",{data:i.data.list});case 4:case"end":return _.stop()}},t)})),Z.apply(this,arguments)}function R(t){return c.apply(this,arguments)}function c(){return c=(0,g.Z)((0,s.Z)().mark(function t(h){var i;return(0,s.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,p.WY)(P.h+"hr/user/select",{method:"GET",params:(0,M.Z)({},h)});case 2:return i=_.sent,_.abrupt("return",{data:i.data.list});case 4:case"end":return _.stop()}},t)})),c.apply(this,arguments)}function K(t){return D.apply(this,arguments)}function D(){return D=(0,g.Z)((0,s.Z)().mark(function t(h){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)(P.h+"hr/user/form",{method:"POST",data:h}));case 1:case"end":return r.stop()}},t)})),D.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function t(h){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request(api+"hr/user/form",_objectSpread({method:"DELETE"},h||{})));case 1:case"end":return r.stop()}},t)})),d.apply(this,arguments)}function l(){return o.apply(this,arguments)}function o(){return o=(0,g.Z)((0,s.Z)().mark(function t(){return(0,s.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.WY)(P.h+"crontab/weixin/sync_user"));case 1:case"end":return i.stop()}},t)})),o.apply(this,arguments)}},95994:function(F,W,e){"use strict";e.r(W);var s=e(18106),M=e(32267),g=e(58024),p=e(91894),P=e(87593),b=e(37636),S=e(94233),B=e(51890),L=e(88983),U=e(55742),Z=e(18446),R=e(90860),c=e(2824),K=e(67724),D=e(8812),u=e(67294),d=e(75362),l=e(21349),o=e(74025),t=e.n(o),h=e(30381),i=e.n(h),r=e(67547),_=e(56484),O=e(2521),w=e(80877),n=e(85893),te=function(){var y=(0,u.useState)("0"),f=(0,c.Z)(y,2),C=f[0],E=f[1],v=(0,u.useState)([]),J=(0,c.Z)(v,2),T=J[0],V=J[1],X=(0,O.QT)(_.Y8,{manual:!0,onSuccess:function(a,ce){V(a),E(a[0].id),I({uid:a[0].id})}}),ne=X.run;(0,u.useEffect)(function(){ne()},[]);var ae=(0,u.useState)([]),z=(0,c.Z)(ae,2),re=z[0],H=z[1],se=(0,u.useState)([]),N=(0,c.Z)(se,2),Y=N[0],k=N[1],q=(0,u.useState)([]),Q=(0,c.Z)(q,2),ue=Q[0],ie=Q[1],le=(0,u.useState)(!0),ee=(0,c.Z)(le,2),_e=ee[0],j=ee[1],m=(0,O.QT)(r.gp,{manual:!0,onSuccess:function(a,ce){H(a.list),k(a.monday),ie(a.sunday),j(!1)}}),I=m.run,G=function(a){a==-1?I({uid:C,time:Y-86400*7}):a==1&&I({uid:C,time:Number(Y)+Number(86400*7)})},$=function(a){E(a),H([]),I({uid:a,time:Y})},x=function(a){a?O.m8.push({pathname:"/oa/plan/".concat(a)}):O.m8.push({pathname:"/oa/plan"})},me=!(T.length>0);return me?(0,n.jsx)(R.Z,{active:!0}):(0,n.jsxs)(d.ZP,{children:[(0,n.jsxs)(U.ZP.Group,{defaultValue:"\u5DE5\u4F5C\u65E5\u62A5",buttonStyle:"solid",children:[(0,n.jsx)(U.ZP.Button,{value:"\u5DE5\u4F5C\u65E5\u62A5",children:"\u5DE5\u4F5C\u65E5\u62A5"}),(0,n.jsx)(U.ZP.Button,{value:"\u8BA1\u5212\u62A5\u544A",onClick:function(){return x("othersreport")},children:"\u8BA1\u5212\u62A5\u544A"})]}),(0,n.jsxs)(l.Z,{children:[(0,n.jsx)("br",{}),(0,n.jsx)(M.Z,{defaultActiveKey:T[0].id,onChange:function(a){return $(a)},children:T.map(function(A){return(0,n.jsx)(M.Z.TabPane,{tab:(0,n.jsxs)("span",{children:[(0,n.jsx)(B.C,{src:A.avatar,size:"small"})," ",A.name]}),children:(0,n.jsx)(p.Z,{title:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("a",{style:{paddingRight:"24px",fontSize:"14px"},onClick:function(){return G(-1)},children:[(0,n.jsx)(K.Z,{}),"\u4E0A\u4E00\u5468"]}),(0,n.jsxs)("span",{children:[i()(parseInt(Y)*1e3).format("YYYY/MM/DD"),"~",i()(parseInt(ue)*1e3).format("YYYY/MM/DD")]}),(0,n.jsxs)("a",{style:{paddingLeft:"24px",fontSize:"14px"},onClick:function(){return G(1)},children:["\u4E0B\u4E00\u5468",(0,n.jsx)(D.Z,{})]})]}),className:t().tabsCard,bordered:!1,children:(0,n.jsx)(b.Z,{children:re.map(function(a){return(0,n.jsx)(b.Z.Item,{dot:(0,n.jsx)(B.C,{style:{backgroundColor:a.active?"#e27f19":"#a6d1e9"},size:"large",children:a.week}),children:a.plan?(0,n.jsxs)("div",{style:{marginLeft:"20px",minHeight:"100px"},children:[(0,n.jsx)("div",{style:{padding:"12px",border:"2px solid",borderColor:a.active?"#e27f19":"#a6d1e9"},dangerouslySetInnerHTML:{__html:a&&a.plan.content?a.plan.content.replaceAll(`
`,"<br />"):"\u6682\u65E0\u5185\u5BB9"}}),(0,n.jsxs)("p",{style:{color:"#00000040",marginTop:"5px"},children:["\u66F4\u65B0\u4E8E ",a.plan.update_time>0?i()(parseInt(a.plan.update_time)*1e3).format("YYYY-MM-DD HH:mm"):""]}),(0,n.jsx)(w.Z,{tablename:"oa_plan",tableid:a.plan.id,isEdit:!0,isShowContent:!1})]}):(0,n.jsx)("div",{style:{marginLeft:"20px",height:"100px"},children:(0,n.jsx)("p",{style:{color:"#00000040"},children:"\u8FD8\u6CA1\u6709\u5236\u5B9A\u4EFB\u4F55\u8BA1\u5212"})})},a.time)})})})},A.id)})})]})]})};W.default=te},67547:function(F,W,e){"use strict";e.d(W,{gp:function(){return b},v$:function(){return B},oc:function(){return U},KS:function(){return R},QL:function(){return K}});var s=e(39428),M=e(11849),g=e(3182),p=e(2521),P=e(43237);function b(u){return S.apply(this,arguments)}function S(){return S=(0,g.Z)((0,s.Z)().mark(function u(d){var l;return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.WY)(P.h+"oa/plan/index",{method:"GET",params:(0,M.Z)({},d)});case 2:return l=t.sent,t.abrupt("return",{data:l.data,success:l.success});case 4:case"end":return t.stop()}},u)})),S.apply(this,arguments)}function B(u){return L.apply(this,arguments)}function L(){return L=(0,g.Z)((0,s.Z)().mark(function u(d){return(0,s.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.WY)(P.h+"oa/plan/delete",{method:"DELETE",data:d}));case 1:case"end":return o.stop()}},u)})),L.apply(this,arguments)}function U(u){return Z.apply(this,arguments)}function Z(){return Z=(0,g.Z)((0,s.Z)().mark(function u(d){return(0,s.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.WY)(P.h+"oa/plan/save",{method:"POST",data:d}));case 1:case"end":return o.stop()}},u)})),Z.apply(this,arguments)}function R(u){return c.apply(this,arguments)}function c(){return c=(0,g.Z)((0,s.Z)().mark(function u(d){var l;return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.WY)(P.h+"oa/plan/weekline",{method:"GET",params:(0,M.Z)({},d)});case 2:return l=t.sent,t.abrupt("return",{data:l.data,success:l.success});case 4:case"end":return t.stop()}},u)})),c.apply(this,arguments)}function K(u){return D.apply(this,arguments)}function D(){return D=(0,g.Z)((0,s.Z)().mark(function u(d){var l;return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.WY)(P.h+"oa/plan/report",{method:"GET",params:(0,M.Z)({},d)});case 2:return l=t.sent,t.abrupt("return",{data:l.data,success:l.success});case 4:case"end":return t.stop()}},u)})),D.apply(this,arguments)}}}]);
