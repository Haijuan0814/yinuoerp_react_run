(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[567],{49e3:function(x,M,e){"use strict";e.d(M,{Z:function(){return O}});var s=e(28991),_=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 680h-54V540H546v-92h238c8.8 0 16-7.2 16-16V168c0-8.8-7.2-16-16-16H240c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h238v92H190v140h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8zM256 805.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zm288 0c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM288 384V216h448v168H288zm544 421.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM360 300a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"cluster",theme:"outlined"},i=d,f=e(27029),m=function(E,l){return _.createElement(f.Z,(0,s.Z)((0,s.Z)({},E),{},{ref:l,icon:i}))};m.displayName="ClusterOutlined";var O=_.forwardRef(m)},16640:function(x,M,e){"use strict";e.d(M,{Z:function(){return O}});var s=e(28991),_=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M594.3 601.5a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1 8 8 0 008 8.4H407c4.2 0 7.6-3.3 7.9-7.5 3.8-50.6 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H661a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.7-126.1zM512 578c-28.5 0-51.7-23.3-51.7-52s23.2-52 51.7-52 51.7 23.3 51.7 52-23.2 52-51.7 52zm416-354H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zm-40 568H136V296h120v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h120v496z"}}]},name:"contacts",theme:"outlined"},i=d,f=e(27029),m=function(E,l){return _.createElement(f.Z,(0,s.Z)((0,s.Z)({},E),{},{ref:l,icon:i}))};m.displayName="ContactsOutlined";var O=_.forwardRef(m)},4711:function(x,M,e){"use strict";e.d(M,{Z:function(){return O}});var s=e(28991),_=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M573.7 252.5C422.5 197.4 201.3 96.7 201.3 96.7c-15.7-4.1-17.9 11.1-17.9 11.1-5 61.1 33.6 160.5 53.6 182.8 19.9 22.3 319.1 113.7 319.1 113.7S326 357.9 270.5 341.9c-55.6-16-37.9 17.8-37.9 17.8 11.4 61.7 64.9 131.8 107.2 138.4 42.2 6.6 220.1 4 220.1 4s-35.5 4.1-93.2 11.9c-42.7 5.8-97 12.5-111.1 17.8-33.1 12.5 24 62.6 24 62.6 84.7 76.8 129.7 50.5 129.7 50.5 33.3-10.7 61.4-18.5 85.2-24.2L565 743.1h84.6L603 928l205.3-271.9H700.8l22.3-38.7c.3.5.4.8.4.8S799.8 496.1 829 433.8l.6-1h-.1c5-10.8 8.6-19.7 10-25.8 17-71.3-114.5-99.4-265.8-154.5z"}}]},name:"dingtalk",theme:"outlined"},i=d,f=e(27029),m=function(E,l){return _.createElement(f.Z,(0,s.Z)((0,s.Z)({},E),{},{ref:l,icon:i}))};m.displayName="DingtalkOutlined";var O=_.forwardRef(m)},59271:function(x,M,e){"use strict";e.d(M,{Z:function(){return O}});var s=e(28991),_=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},i=d,f=e(27029),m=function(E,l){return _.createElement(f.Z,(0,s.Z)((0,s.Z)({},E),{},{ref:l,icon:i}))};m.displayName="HomeOutlined";var O=_.forwardRef(m)},3544:function(x){x.exports={avatarHolder:"avatarHolder___3jDfr",name:"name___1RzMT",detail:"detail___3xWYv",tagsTitle:"tagsTitle___1vsI4",teamTitle:"teamTitle___30y-P",tags:"tags___3PQp1",team:"team___37uqq",tabsCard:"tabsCard___1qKZs"}},31743:function(x,M,e){"use strict";e.r(M);var s=e(57338),_=e(440),d=e(39428),i=e(3182),f=e(48736),m=e(27049),O=e(58024),p=e(91894),E=e(66456),l=e(55499),P=e(62350),U=e(24565),B=e(57663),R=e(71577),L=e(22385),W=e(89456),j=e(94233),y=e(51890),K=e(34792),r=e(48086),u=e(2824),v=e(71153),a=e(60331),h=e(16640),g=e(49e3),C=e(59271),I=e(49101),Z=e(1870),ae=e(4711),S=e(2521),A=e(67294),se=e(30381),H=e.n(se),re=e(75362),ue=e(36653),N=e(56484),ie=e(3544),T=e.n(ie),t=e(85893),le=function(Y){var b=Y.tags;return(0,t.jsxs)("div",{className:T().tags,children:[(0,t.jsx)("div",{className:T().tagsTitle,children:"\u6807\u7B7E"}),(b||[]).map(function(F){return(0,t.jsx)(a.Z,{children:F},F)})]})},z=20,_e=function(){var Y=(0,A.useState)(1),b=(0,u.Z)(Y,2),F=b[0],V=b[1],de=(0,A.useState)([]),$=(0,u.Z)(de,2),ce=$[0],G=$[1],me=(0,A.useState)(!0),Q=(0,u.Z)(me,2),ve=Q[0],he=Q[1],fe=(0,A.useState)([]),J=(0,u.Z)(fe,2),Ee=J[0],Oe=J[1],ge=(0,S.QT)(N.gp,{manual:!0,onSuccess:function(n,c){G(n.data),V(n.current),Oe(n.total),he(!1)}}),X=ge.run;(0,A.useEffect)(function(){X({current:F,pageSize:z})},[]);var Ze=(0,A.useRef)(),De=(0,A.useState)(!1),w=(0,u.Z)(De,2),Me=w[0],k=w[1],Pe=(0,A.useState)(),q=(0,u.Z)(Pe,2),D=q[0],ee=q[1],te=function(n){n?S.m8.push({pathname:"/hr/user/edit/".concat(n.id)}):S.m8.push({pathname:"/hr/user/create"})},Ce=(0,S.QT)(N.xg,{manual:!0,onSuccess:function(n,c){r.default.success("\u64CD\u4F5C\u6210\u529F")}}),pe=Ce.run,je=function(){pe()},Ie=[{title:"\u5DE5\u53F7",dataIndex:"id",key:"id",search:!1},{title:"\u5458\u5DE5",dataIndex:"name",key:"name",render:function(n,c){return(0,t.jsxs)("a",{onClick:function(){ee(c),k(c)},children:[(0,t.jsx)(y.C,{src:c.avatar,shape:"square",size:"small"})," \xA0\xA0",c.name," "]})}},{title:"\u624B\u673A\u53F7",dataIndex:"mobile",key:"mobile"},{title:"\u6027\u522B",dataIndex:"sex",key:"sex"},{title:"\u5E74\u9F84",dataIndex:"age",key:"age"},{title:"\u90E8\u95E8",dataIndex:"department_name",key:"department_name"},{title:"\u5C97\u4F4D",dataIndex:"job_name",key:"job_name"},{title:"\u7C7B\u578B",dataIndex:"is_fulltime",key:"is_fulltime",hideInForm:!0,render:function(n){return(0,t.jsxs)("span",{children:[n==1?"\u5168\u804C":"\u517C\u804C"," "]})}},{title:"\u5165\u804C\u65F6\u95F4",sorter:!0,dataIndex:"join_time",key:"join_time",render:function(n){return(0,t.jsxs)("span",{children:[n>0?H()(parseInt(n)*1e3).format("YYYY\u5E74MM\u6708DD\u65E5"):""," "]})},search:!1},{title:"\u5728\u804C\u72B6\u6001",dataIndex:"is_leave",key:"is_leave",hideInForm:!0,render:function(n,c){return(0,t.jsxs)("span",{children:[n==1?(0,t.jsx)(W.Z,{title:(0,t.jsxs)(t.Fragment,{children:["\u79BB\u804C\u65F6\u95F4\uFF1A",c.leave_time>0?H()(parseInt(c.leave_time)*1e3).format("YYYY\u5E74MM\u6708DD\u65E5"):"\u6682\u672A\u8BB0\u5F55\u79BB\u804C\u65F6\u95F4",(0,t.jsx)("br",{}),"\u79BB\u804C\u539F\u56E0\uFF1A",c.leave_reason?c.leave_reason:"\u6682\u672A\u8BB0\u5F55\u79BB\u804C\u539F\u56E0"]}),children:(0,t.jsx)(a.Z,{color:"magenta",children:"\u79BB\u804C"})}):(0,t.jsx)(a.Z,{color:"green",children:"\u5728\u804C"})," "]})}}],Te=function(n){var c=n.mobile,ne=n.department_name,Re=n.job_name,ye=n.address;return(0,t.jsxs)("div",{className:T().detail,children:[(0,t.jsxs)("p",{children:[(0,t.jsx)(h.Z,{style:{marginRight:8}}),c]}),(0,t.jsxs)("p",{children:[(0,t.jsx)(g.Z,{style:{marginRight:8}}),ne," - ",Re]}),(0,t.jsxs)("p",{children:[(0,t.jsx)(C.Z,{style:{marginRight:8}}),ye]})]})},xe=function(n){V(n),G([]),X({current:n,pageSize:z})};return(0,t.jsxs)(re.ZP,{children:[(0,t.jsx)(p.Z,{className:T().listCard,bordered:!1,style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:(0,t.jsxs)("div",{className:T().extraContent,children:[(0,t.jsxs)(R.Z,{className:T().extraContentButton,type:"primary",onClick:function(){return te()},children:[(0,t.jsx)(I.Z,{})," ",(0,t.jsx)(S._H,{id:"pages.new",defaultMessage:"New"})]},"primary"),"\xA0\xA0",(0,t.jsx)(U.Z,{title:"\u786E\u5B9A\u5F53\u524D\u64CD\u4F5C\u5417\uFF1F",onConfirm:function(){return je()},icon:(0,t.jsx)(Z.Z,{style:{color:"red"}}),children:(0,t.jsxs)(R.Z,{children:[(0,t.jsx)(ae.Z,{}),"\u540C\u6B65\u4F01\u4E1A\u5FAE\u4FE1"]})})]}),children:(0,t.jsx)(l.Z,{dataSource:ce,loading:ve,columns:Ie,pagination:{simple:!1,current:F,defaultCurrent:1,total:Ee,showSizeChanger:!0,pageSize:z,showTotal:function(n){return"\u5171"+n+"\u6761\u6570\u636E"},onChange:function(n,c){xe(n)}}})}),(0,t.jsx)(_.Z,{width:"80%",visible:Me,onClose:function(){ee(void 0),k(!1)},closable:!1,footer:[(0,t.jsx)(R.Z,{type:"primary",onClick:function(){te(D)},children:"\u4FEE\u6539\u8D44\u6599"})],footerStyle:{textAlign:"right"},children:(D==null?void 0:D.name)&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:T().avatarHolder,children:[(0,t.jsx)("img",{alt:"",src:D.avatar}),(0,t.jsx)("div",{className:T().name,children:D.name}),(0,t.jsx)("div",{children:D==null?void 0:D.signature})]}),Te(D),(0,t.jsx)(m.Z,{dashed:!0}),(0,t.jsx)(le,{tags:D.tags||[]}),(0,t.jsx)(m.Z,{dashed:!0}),(0,t.jsx)("div",{className:T().tagsTitle,children:"\u66F4\u591A\u4FE1\u606F"}),(0,t.jsx)(ue.ZP,{column:2,request:(0,i.Z)((0,d.Z)().mark(function o(){return(0,d.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",{data:D||{}});case 1:case"end":return c.stop()}},o)})),params:{id:D==null?void 0:D.name},columns:[{title:"\u5DE5\u53F7",dataIndex:"id"},{title:"\u6027\u522B",dataIndex:"sex"},{title:"\u751F\u65E5",dataIndex:"birthday",render:function(n){return(0,t.jsxs)("span",{children:[n>0?H()(parseInt(n)*1e3).format("YYYY-MM-DD"):""," "]})}},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5165\u804C\u65F6\u95F4",dataIndex:"join_time",render:function(n){return(0,t.jsxs)("span",{children:[n>0?H()(parseInt(n)*1e3).format("YYYY-MM-DD"):""," "]})}},{title:"\u5168\u517C\u804C\u72B6\u6001",dataIndex:"is_fulltime",render:function(n){return(0,t.jsxs)("span",{children:[n>0?"\u5168\u804C":"\u517C\u804C"," "]})}}]})]})})]})};M.default=_e},56484:function(x,M,e){"use strict";e.d(M,{gp:function(){return m},dM:function(){return p},Y8:function(){return l},P4:function(){return U},R2:function(){return R},xg:function(){return y}});var s=e(39428),_=e(11849),d=e(3182),i=e(2521),f=e(43237);function m(r,u){return O.apply(this,arguments)}function O(){return O=(0,d.Z)((0,s.Z)().mark(function r(u,v){var a;return(0,s.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,i.WY)(f.h+"hr/user/index?mode=all",(0,_.Z)({method:"GET",params:(0,_.Z)({},u)},v||{}));case 2:return a=g.sent,g.abrupt("return",{data:a.data,success:a.success,total:a.data.total,pageSize:a.data.pageSize,current:a.data.current});case 4:case"end":return g.stop()}},r)})),O.apply(this,arguments)}function p(r){return E.apply(this,arguments)}function E(){return E=(0,d.Z)((0,s.Z)().mark(function r(u){return(0,s.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.WY)(f.h+"hr/user/detail",{params:u}));case 1:case"end":return a.stop()}},r)})),E.apply(this,arguments)}function l(r){return P.apply(this,arguments)}function P(){return P=(0,d.Z)((0,s.Z)().mark(function r(u){var v;return(0,s.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,i.WY)(f.h+"hr/user/index?is_page=false&is_leave=0",{method:"GET",params:(0,_.Z)({},u)});case 2:return v=h.sent,h.abrupt("return",{data:v.data.list});case 4:case"end":return h.stop()}},r)})),P.apply(this,arguments)}function U(r){return B.apply(this,arguments)}function B(){return B=(0,d.Z)((0,s.Z)().mark(function r(u){var v;return(0,s.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,i.WY)(f.h+"hr/user/select",{method:"GET",params:(0,_.Z)({},u)});case 2:return v=h.sent,h.abrupt("return",{data:v.data.list});case 4:case"end":return h.stop()}},r)})),B.apply(this,arguments)}function R(r){return L.apply(this,arguments)}function L(){return L=(0,d.Z)((0,s.Z)().mark(function r(u){return(0,s.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.WY)(f.h+"hr/user/form",{method:"POST",data:u}));case 1:case"end":return a.stop()}},r)})),L.apply(this,arguments)}function W(r){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function r(u){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request(api+"hr/user/form",_objectSpread({method:"DELETE"},u||{})));case 1:case"end":return a.stop()}},r)})),j.apply(this,arguments)}function y(){return K.apply(this,arguments)}function K(){return K=(0,d.Z)((0,s.Z)().mark(function r(){return(0,s.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,i.WY)(f.h+"crontab/weixin/sync_user"));case 1:case"end":return v.stop()}},r)})),K.apply(this,arguments)}},86743:function(x,M,e){"use strict";var s=e(22122),_=e(28481),d=e(9475),i=e(67294),f=e(71577),m=e(73839);function O(E){return!!(E&&!!E.then)}var p=function(l){var P=i.useRef(!1),U=i.useRef(null),B=(0,d.Z)(!1),R=(0,_.Z)(B,2),L=R[0],W=R[1],j=l.close,y=function(){j==null||j.apply(void 0,arguments)};i.useEffect(function(){var g=null;return l.autoFocus&&(g=setTimeout(function(){var C;(C=U.current)===null||C===void 0||C.focus()})),function(){g&&clearTimeout(g)}},[]);var K=function(C){!O(C)||(W(!0),C.then(function(){W(!1,!0),y.apply(void 0,arguments),P.current=!1},function(I){console.error(I),W(!1,!0),P.current=!1}))},r=function(C){var I=l.actionFn;if(!P.current){if(P.current=!0,!I){y();return}var Z;if(l.emitEvent){if(Z=I(C),l.quitOnNullishReturnValue&&!O(Z)){P.current=!1,y(C);return}}else if(I.length)Z=I(j),P.current=!1;else if(Z=I(),!Z){y();return}K(Z)}},u=l.type,v=l.children,a=l.prefixCls,h=l.buttonProps;return i.createElement(f.Z,(0,s.Z)({},(0,m.n)(u),{onClick:r,loading:L,prefixCls:a},h,{ref:U}),v)};M.Z=p}}]);
