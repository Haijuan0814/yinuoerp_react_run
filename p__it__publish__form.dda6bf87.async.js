(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4274],{11316:function(B,R,r){"use strict";var _=r(67294),i=r(64317),l=r(2521),m=r(56484),o=r(85893),b=function(Z){var E=Z.name,M=Z.label,v=Z.mode,U=Z.value,P=Z._require,f=Z.width,D=(0,l.QT)(m.P4),C=D.data;return(0,o.jsx)(i.Z,{style:{width:f||"328px"},width:"sm",label:M,name:E,placeholder:"\u8BF7\u9009\u62E9"+(M||""),mode:v,allowClear:!0,initialValue:U,rules:[{required:!!P,message:"\u8BF7\u9009\u62E9"+(M||"")}],options:C})};R.Z=b},56484:function(B,R,r){"use strict";r.d(R,{gp:function(){return b},dM:function(){return Z},Y8:function(){return M},P4:function(){return U},R2:function(){return f},xg:function(){return t}});var _=r(39428),i=r(11849),l=r(3182),m=r(2521),o=r(43237);function b(n,e){return O.apply(this,arguments)}function O(){return O=(0,l.Z)((0,_.Z)().mark(function n(e,s){var a;return(0,_.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,m.WY)(o.h+"hr/user/index?mode=all",(0,i.Z)({method:"GET",params:(0,i.Z)({},e)},s||{}));case 2:return a=T.sent,T.abrupt("return",{data:a.data,success:a.success,total:a.data.total,pageSize:a.data.pageSize,current:a.data.current});case 4:case"end":return T.stop()}},n)})),O.apply(this,arguments)}function Z(n){return E.apply(this,arguments)}function E(){return E=(0,l.Z)((0,_.Z)().mark(function n(e){return(0,_.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.WY)(o.h+"hr/user/detail",{params:e}));case 1:case"end":return a.stop()}},n)})),E.apply(this,arguments)}function M(n){return v.apply(this,arguments)}function v(){return v=(0,l.Z)((0,_.Z)().mark(function n(e){var s;return(0,_.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,m.WY)(o.h+"hr/user/index?is_page=false&is_leave=0",{method:"GET",params:(0,i.Z)({},e)});case 2:return s=c.sent,c.abrupt("return",{data:s.data.list});case 4:case"end":return c.stop()}},n)})),v.apply(this,arguments)}function U(n){return P.apply(this,arguments)}function P(){return P=(0,l.Z)((0,_.Z)().mark(function n(e){var s;return(0,_.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,m.WY)(o.h+"hr/user/select",{method:"GET",params:(0,i.Z)({},e)});case 2:return s=c.sent,c.abrupt("return",{data:s.data.list});case 4:case"end":return c.stop()}},n)})),P.apply(this,arguments)}function f(n){return D.apply(this,arguments)}function D(){return D=(0,l.Z)((0,_.Z)().mark(function n(e){return(0,_.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.WY)(o.h+"hr/user/form",{method:"POST",data:e}));case 1:case"end":return a.stop()}},n)})),D.apply(this,arguments)}function C(n){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function n(e){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request(api+"hr/user/form",_objectSpread({method:"DELETE"},e||{})));case 1:case"end":return a.stop()}},n)})),g.apply(this,arguments)}function t(){return u.apply(this,arguments)}function u(){return u=(0,l.Z)((0,_.Z)().mark(function n(){return(0,_.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.WY)(o.h+"crontab/weixin/sync_user"));case 1:case"end":return s.stop()}},n)})),u.apply(this,arguments)}},56002:function(B,R,r){"use strict";r.d(R,{gp:function(){return b},wg:function(){return Z},dM:function(){return M},R2:function(){return U},v$:function(){return f},rw:function(){return C}});var _=r(11849),i=r(39428),l=r(3182),m=r(2521),o=r(43237);function b(t){return O.apply(this,arguments)}function O(){return O=(0,l.Z)((0,i.Z)().mark(function t(u){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/product/index",{params:u}));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}function Z(t){return E.apply(this,arguments)}function E(){return E=(0,l.Z)((0,i.Z)().mark(function t(u){var n;return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,m.WY)(o.h+"it/product/select",{method:"GET",params:(0,_.Z)({},u)});case 2:return n=s.sent,s.abrupt("return",{data:n.data.list});case 4:case"end":return s.stop()}},t)})),E.apply(this,arguments)}function M(t){return v.apply(this,arguments)}function v(){return v=(0,l.Z)((0,i.Z)().mark(function t(u){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/product/detail",{params:u}));case 1:case"end":return e.stop()}},t)})),v.apply(this,arguments)}function U(t){return P.apply(this,arguments)}function P(){return P=(0,l.Z)((0,i.Z)().mark(function t(u){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/product/form",{method:"POST",data:u}));case 1:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function f(t){return D.apply(this,arguments)}function D(){return D=(0,l.Z)((0,i.Z)().mark(function t(u){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/product/form",{method:"DELETE",data:u}));case 1:case"end":return e.stop()}},t)})),D.apply(this,arguments)}function C(t,u){return g.apply(this,arguments)}function g(){return g=(0,l.Z)((0,i.Z)().mark(function t(u,n){return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.WY)(o.h+"it/product/productServer",(0,_.Z)({method:"GET",params:(0,_.Z)({},u)},n||{})));case 1:case"end":return s.stop()}},t)})),g.apply(this,arguments)}},25168:function(B,R,r){"use strict";r.r(R);var _=r(58024),i=r(91894),l=r(11849),m=r(9715),o=r(55843),b=r(36877),O=r(75948),Z=r(18446),E=r(90860),M=r(39428),v=r(3182),U=r(34792),P=r(48086),f=r(2824),D=r(952),C=r(61768),g=r(31199),t=r(90672),u=r(5966),n=r(86615),e=r(75362),s=r(85224),a=r(2521),c=r(67294),T=r(73316),ee=r(11316),re=r(56002),d=r(85893),te=function(W){var G=W.match.params.id,ne=(0,c.useState)({}),V=(0,f.Z)(ne,2),j=V[0],ae=V[1],ue=(0,c.useState)([]),z=(0,f.Z)(ue,2),Te=z[0],be=z[1],se=(0,c.useState)(""),Q=(0,f.Z)(se,2),L=Q[0],J=Q[1],_e=(0,c.useState)(""),N=(0,f.Z)(_e,2),S=N[0],H=N[1],ie=(0,c.useState)(1),X=(0,f.Z)(ie,2),A=X[0],w=X[1],le=(0,c.useState)(0),k=(0,f.Z)(le,2),I=k[0],K=k[1],oe=(0,c.useState)(0),q=(0,f.Z)(oe,2),F=q[0],$=q[1],ce=(0,a.QT)(re.rw),x=ce.data;if(JSON.stringify(W.match.params)!="{}"){var me=(0,a.QT)(T.dM,{manual:!0,onSuccess:function(h,y){if(ae(h.row),!1)var je;w(h.row.v1),K(h.row.v2),$(h.row.v3),J(h.row.product_id),H(h.row.server_id)}}),de=me.run;(0,c.useEffect)(function(){de(W.match.params)},[])}var pe=(0,a.QT)(T.R2,{manual:!0,onSuccess:function(){P.default.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){ge()},400)}}),he=pe.run,fe=(0,a.QT)(T.sc,{manual:!0,onSuccess:function(h,y){w(h.v1),K(h.v2),$(h.v3)}}),Ee=fe.run,ve=function(){var p=(0,v.Z)((0,M.Z)().mark(function h(y){return(0,M.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:y.id=G,y.product_id=L,y.server_id=S,y.version=[A,I,F],console.log(y),he(y);case 6:case"end":return Y.stop()}},h)}));return function(y){return p.apply(this,arguments)}}();function Pe(p){p.length>0&&(J(p[0]),G||Ee({product_id:p[0]})),p.length>1&&H(p[1])}function De(p){w(p[0]),K(p[1]),$(p[2])}var ge=function(){a.m8.push({pathname:"/it/publish",state:{}})},Oe=JSON.stringify(W.match.params)=="{}"?!1:!(j&&j.id>0&&L>0),Me=j.id>0?{version:[j.v1,j.v2,j.v3],content:j.content,is_forceupdate:j.is_forceupdate,is_delete:j.is_delete,related_uids:j.related_uids,apk_url:j.apk_url}:{version:[A,I,F],is_forceupdate:"1",is_delete:"0"},Ze={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};function ye(p,h){return h.some(function(y){return y.label.toLowerCase().indexOf(p.toLowerCase())>-1})}return Oe?(0,d.jsx)(E.Z,{active:!0}):(0,d.jsx)(e.ZP,{children:(0,d.jsx)(i.Z,{bordered:!1,children:(0,d.jsxs)(D.ZP,(0,l.Z)((0,l.Z)({name:"basic",layout:"Horizontal"},Ze),{},{initialValues:Me,submitter:{render:function(h,y){return(0,d.jsx)(s.Z,{children:y})}},onFinish:ve,children:[(0,d.jsx)(o.Z.Item,{label:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{marginRight:"4px",color:"#ff4d4f",fontSize:"14px",fontFamily:"SimSun, sans-serif"},children:"*"}),"\u4EA7\u54C1\u7CFB\u7EDF"]}),children:(0,d.jsx)(O.Z,{name:"test",width:"sm",showSearch:{filter:ye},defaultValue:[L||0,S||0],options:x==null?void 0:x.list,onChange:Pe,placeholder:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u548C\u7CFB\u7EDF"})}),(0,d.jsxs)(C.Z,{name:"version",label:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{marginRight:"4px",color:"#ff4d4f",fontSize:"14px",fontFamily:"SimSun, sans-serif"},children:"*"})," \u7248\u672C\u53F7"]}),type:"group",value:[A,I,F],onChange:function(h){return De(h)},children:[(0,d.jsx)(g.Z,{name:"v1",width:"xs",min:1,max:20,placeholder:"\u4E3B\u7248\u672C\u53F7"}),(0,d.jsx)(g.Z,{name:"v2",width:"xs",min:0,max:20,placeholder:"\u5B50\u7248\u672C\u53F7"}),(0,d.jsx)(g.Z,{name:"v3",width:"xs",min:0,max:20,placeholder:"\u9636\u6BB5\u7248\u672C\u53F7"})]}),(0,d.jsx)(t.Z,{label:"\u53D1\u5E03\u8BF4\u660E",width:"xl",name:"content",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u5E03\u8BF4\u660E"}],placeholder:"\u8BF7\u8BF4\u660E\u672C\u6B21\u53D1\u5E03\u7684\u5185\u5BB9"}),(0,d.jsx)(u.Z,{width:"md",label:"APK\u4E0B\u8F7D\u5730\u5740",name:"apk_url",placeholder:"APP\u5728\u82F9\u679C\u5546\u5E97\u4E0A\u7684\u4E0B\u8F7D\u5730\u5740,Android\u5728\u4E91\u670D\u52A1\u5668\u7684\u4E0B\u8F7D\u5730\u5740"}),(0,d.jsx)(ee.Z,{label:"\u5173\u8054\u4EBA\u5458",name:"related_uids",mode:"multiple",_require:!1}),(0,d.jsx)(n.Z.Group,{radioType:"button",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F3A\u5236\u66F4\u65B0\u72B6\u6001"}],options:[{value:"1",label:"\u5F3A\u5236\u66F4\u65B0"},{value:"0",label:"\u4E0D\u5F3A\u5236\u66F4\u65B0"}],label:"\u66F4\u65B0\u8981\u6C42",name:"is_forceupdate"}),(0,d.jsx)(n.Z.Group,{radioType:"button",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u662F\u5426\u5E9F\u5F03"}],options:[{value:"0",label:"\u4E0D\u5E9F\u5F03"},{value:"1",label:"\u5E9F\u5F03"}],label:"\u662F\u5426\u5E9F\u5F03",name:"is_delete"})]}))})})};R.default=te},73316:function(B,R,r){"use strict";r.d(R,{gp:function(){return b},dM:function(){return Z},R2:function(){return M},v$:function(){return f},sc:function(){return C}});var _=r(39428),i=r(11849),l=r(3182),m=r(2521),o=r(43237);function b(t,u){return O.apply(this,arguments)}function O(){return O=(0,l.Z)((0,_.Z)().mark(function t(u,n){var e;return(0,_.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,m.WY)(o.h+"it/publish/index",(0,i.Z)({method:"GET",params:(0,i.Z)({},u)},n||{}));case 2:return e=a.sent,a.abrupt("return",{data:e.data,success:e.success,total:e.data.total,pageSize:e.data.pageSize,current:e.data.current});case 4:case"end":return a.stop()}},t)})),O.apply(this,arguments)}function Z(t){return E.apply(this,arguments)}function E(){return E=(0,l.Z)((0,_.Z)().mark(function t(u){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/publish/detail",{params:u}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function M(t){return v.apply(this,arguments)}function v(){return v=(0,l.Z)((0,_.Z)().mark(function t(u){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/publish/form",{method:"POST",data:u}));case 1:case"end":return e.stop()}},t)})),v.apply(this,arguments)}function U(t){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function t(u){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request(api+"it/publish/finish",{params:u}));case 1:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function f(t){return D.apply(this,arguments)}function D(){return D=(0,l.Z)((0,_.Z)().mark(function t(u){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/publish/delete",{params:u}));case 1:case"end":return e.stop()}},t)})),D.apply(this,arguments)}function C(t){return g.apply(this,arguments)}function g(){return g=(0,l.Z)((0,_.Z)().mark(function t(u){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)(o.h+"it/publish/productVersion",{params:u}));case 1:case"end":return e.stop()}},t)})),g.apply(this,arguments)}}}]);
