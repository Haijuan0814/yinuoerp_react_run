(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3953],{34540:function(O,m,e){"use strict";var c=e(28991),v=e(81253),l=e(85893),P=e(51617),p=e(67294),h=e(66758),o=e(39863),s=["fieldProps","proFieldProps"],r="dateRange",g=p.forwardRef(function(_,M){var u=_.fieldProps,t=_.proFieldProps,n=(0,v.Z)(_,s),i=(0,p.useContext)(h.Z);return(0,l.jsx)(o.Z,(0,c.Z)({ref:M,fieldProps:(0,c.Z)({getPopupContainer:i.getPopupContainer},u),valueType:r,proFieldProps:t,filedConfig:{valueType:r,lightFilterLabelFormatter:function(E){return(0,P.Z)(E,(u==null?void 0:u.format)||"YYYY-MM-DD")}}},n))});m.Z=g},86615:function(O,m,e){"use strict";var c=e(88983),v=e(55742),l=e(28991),P=e(81253),p=e(85893),h=e(96202),o=e(67294),s=e(52772),r=e(39863),g=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],_=o.forwardRef(function(n,i){var a=n.fieldProps,E=n.options,I=n.radioType,T=n.layout,A=n.proFieldProps,U=n.valueEnum,y=(0,P.Z)(n,g);return(0,p.jsx)(r.Z,(0,l.Z)((0,l.Z)({valueType:I==="button"?"radioButton":"radio",ref:i,valueEnum:(0,h.h)(U,void 0)},y),{},{fieldProps:(0,l.Z)({options:E,layout:T},a),proFieldProps:A,filedConfig:{customLightMode:!0}}))}),M=o.forwardRef(function(n,i){var a=n.fieldProps,E=n.children;return(0,p.jsx)(v.ZP,(0,l.Z)((0,l.Z)({},a),{},{ref:i,children:E}))}),u=(0,s.G)(M,{valuePropName:"checked",ignoreWidth:!0}),t=u;t.Group=_,t.Button=v.ZP.Button,t.displayName="ProFormComponent",m.Z=t},38026:function(){(function(O){const m=O["zh-cn"]=O["zh-cn"]||{};m.dictionary=Object.assign(m.dictionary||{},{"%0 of %1":"\u7B2C %0 \u6B65\uFF0C\u5171 %1 \u6B65",Aquamarine:"\u6D77\u84DD\u8272",Black:"\u9ED1\u8272","Block quote":"\u5757\u5F15\u7528",Blue:"\u84DD\u8272",Bold:"\u52A0\u7C97","Break text":"","Bulleted List":"\u9879\u76EE\u7B26\u53F7\u5217\u8868",Cancel:"\u53D6\u6D88","Cannot upload file:":"\u65E0\u6CD5\u4E0A\u4F20\u7684\u6587\u4EF6\uFF1A","Centered image":"\u56FE\u7247\u5C45\u4E2D","Change image text alternative":"\u66F4\u6539\u56FE\u7247\u66FF\u6362\u6587\u672C","Choose heading":"\u6807\u9898\u7C7B\u578B",Column:"\u5217","Could not insert image at the current position.":"\u65E0\u6CD5\u5728\u5F53\u524D\u4F4D\u7F6E\u63D2\u5165\u56FE\u7247","Could not obtain resized image URL.":"\u65E0\u6CD5\u83B7\u53D6\u91CD\u8BBE\u5927\u5C0F\u7684\u56FE\u7247URL","Decrease indent":"\u51CF\u5C11\u7F29\u8FDB","Delete column":"\u5220\u9664\u672C\u5217","Delete row":"\u5220\u9664\u672C\u884C","Dim grey":"\u6697\u7070\u8272",Downloadable:"\u53EF\u4E0B\u8F7D","Dropdown toolbar":"\u4E0B\u62C9\u5DE5\u5177\u680F","Edit block":"\u7F16\u8F91\u6846","Edit link":"\u4FEE\u6539\u94FE\u63A5","Editor toolbar":"\u7F16\u8F91\u5668\u5DE5\u5177\u680F","Enter image caption":"\u8F93\u5165\u56FE\u7247\u6807\u9898","Full size image":"\u56FE\u7247\u901A\u680F\u663E\u793A",Green:"\u7EFF\u8272",Grey:"\u7070\u8272","Header column":"\u6807\u9898\u5217","Header row":"\u6807\u9898\u884C",Heading:"\u6807\u9898","Heading 1":"\u6807\u9898 1","Heading 2":"\u6807\u9898 2","Heading 3":"\u6807\u9898 3","Heading 4":"\u6807\u9898 4","Heading 5":"\u6807\u9898 5","Heading 6":"\u6807\u9898 6","Image toolbar":"\u56FE\u7247\u5DE5\u5177\u680F","image widget":"\u56FE\u50CF\u5C0F\u90E8\u4EF6","In line":"","Increase indent":"\u589E\u52A0\u7F29\u8FDB","Insert column left":"\u5DE6\u4FA7\u63D2\u5165\u5217","Insert column right":"\u53F3\u4FA7\u63D2\u5165\u5217","Insert image":"\u63D2\u5165\u56FE\u50CF","Insert image or file":"\u63D2\u5165\u56FE\u7247\u6216\u6587\u4EF6","Insert media":"\u63D2\u5165\u5A92\u4F53","Insert paragraph after block":"\u5728\u540E\u9762\u63D2\u5165\u6BB5\u843D","Insert paragraph before block":"\u5728\u524D\u9762\u63D2\u5165\u6BB5\u843D","Insert row above":"\u5728\u4E0A\u9762\u63D2\u5165\u4E00\u884C","Insert row below":"\u5728\u4E0B\u9762\u63D2\u5165\u4E00\u884C","Insert table":"\u63D2\u5165\u8868\u683C","Inserting image failed":"\u63D2\u5165\u56FE\u7247\u5931\u8D25",Italic:"\u503E\u659C","Left aligned image":"\u56FE\u7247\u5DE6\u4FA7\u5BF9\u9F50","Light blue":"\u6D45\u84DD\u8272","Light green":"\u6D45\u7EFF\u8272","Light grey":"\u6D45\u7070\u8272",Link:"\u8D85\u94FE\u63A5","Link URL":"\u94FE\u63A5\u7F51\u5740","Media URL":"\u5A92\u4F53URL","media widget":"\u5A92\u4F53\u5C0F\u90E8\u4EF6","Merge cell down":"\u5411\u4E0B\u5408\u5E76\u5355\u5143\u683C","Merge cell left":"\u5411\u5DE6\u5408\u5E76\u5355\u5143\u683C","Merge cell right":"\u5411\u53F3\u5408\u5E76\u5355\u5143\u683C","Merge cell up":"\u5411\u4E0A\u5408\u5E76\u5355\u5143\u683C","Merge cells":"\u5408\u5E76\u5355\u5143\u683C",Next:"\u4E0B\u4E00\u6B65","Numbered List":"\u9879\u76EE\u7F16\u53F7\u5217\u8868","Open in a new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00","Open link in new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00\u94FE\u63A5",Orange:"\u6A59\u8272",Paragraph:"\u6BB5\u843D","Paste the media URL in the input.":"\u5728\u8F93\u5165\u4E2D\u7C98\u8D34\u5A92\u4F53URL",Previous:"\u4E0A\u4E00\u6B65",Purple:"\u7D2B\u8272",Red:"\u7EA2\u8272",Redo:"\u91CD\u505A","Rich Text Editor":"\u5BCC\u6587\u672C\u7F16\u8F91\u5668","Rich Text Editor, %0":"\u5BCC\u6587\u672C\u7F16\u8F91\u5668\uFF0C %0","Right aligned image":"\u56FE\u7247\u53F3\u4FA7\u5BF9\u9F50",Row:"\u884C",Save:"\u4FDD\u5B58","Select all":"\u5168\u9009","Select column":"\u9009\u62E9\u5217","Select row":"\u9009\u62E9\u884C","Selecting resized image failed":"\u9009\u62E9\u91CD\u8BBE\u5927\u5C0F\u7684\u56FE\u7247\u5931\u8D25","Show more items":"\u663E\u793A\u66F4\u591A","Side image":"\u56FE\u7247\u4FA7\u8FB9\u663E\u793A","Split cell horizontally":"\u6A2A\u5411\u62C6\u5206\u5355\u5143\u683C","Split cell vertically":"\u7EB5\u5411\u62C6\u5206\u5355\u5143\u683C","Table toolbar":"\u8868\u683C\u5DE5\u5177\u680F","Text alternative":"\u66FF\u6362\u6587\u672C","The URL must not be empty.":"URL\u4E0D\u53EF\u4EE5\u4E3A\u7A7A\u3002","This link has no URL":"\u6B64\u94FE\u63A5\u6CA1\u6709\u8BBE\u7F6E\u7F51\u5740","This media URL is not supported.":"\u4E0D\u652F\u6301\u6B64\u5A92\u4F53URL\u3002","Tip: Paste the URL into the content to embed faster.":"\u63D0\u793A\uFF1A\u5C06URL\u7C98\u8D34\u5230\u5185\u5BB9\u4E2D\u53EF\u66F4\u5FEB\u5730\u5D4C\u5165","Toggle caption off":"","Toggle caption on":"",Turquoise:"\u9752\u8272",Undo:"\u64A4\u9500",Unlink:"\u53D6\u6D88\u8D85\u94FE\u63A5","Upload failed":"\u4E0A\u4F20\u5931\u8D25","Upload in progress":"\u6B63\u5728\u4E0A\u4F20",White:"\u767D\u8272","Widget toolbar":"\u5C0F\u90E8\u4EF6\u5DE5\u5177\u680F","Wrap text":"",Yellow:"\u9EC4\u8272"}),m.getPluralForm=function(e){return 0}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}))},65821:function(O,m,e){"use strict";e.d(m,{H:function(){return p}});var c=e(69610),v=e(54941),l=e(11768),P=function(){function h(o){(0,c.Z)(this,h),this.loader=o,console.log(o)}return(0,v.Z)(h,[{key:"upload",value:function(){var s=this;return this.loader.file.then(function(r){return new Promise(function(g,_){s._initRequest(),s._initListeners(g,_,r),s._sendRequest(r)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var s=this.xhr=new XMLHttpRequest;s.open("POST","http://api.aws.yinuoerp.com/index.php/base/upload",!0),s.setRequestHeader("token",l.ZP.load("userInfo")?l.ZP.load("userInfo").token:""),s.responseType="json"}},{key:"_initListeners",value:function(s,r,g){var _=this.xhr,M=this.loader,u="\u65E0\u6CD5\u4E0A\u4F20\u6587\u4EF6: ".concat(g.name,".");_.addEventListener("error",function(){return r(u)}),_.addEventListener("abort",function(){return r()}),_.addEventListener("load",function(){var t=_.response;if(!t.success||!t||t.error)return r(t&&!t.success?t.msg:u);s({default:t.data.src})}),_.upload&&_.upload.addEventListener("progress",function(t){t.lengthComputable&&(M.uploadTotal=t.total,M.uploaded=t.loaded)})}},{key:"_sendRequest",value:function(s){var r=new FormData;r.append("file",s),this.xhr.send(r)}}]),h}();function p(h){h.plugins.get("FileRepository").createUploadAdapter=function(o){return new P(o)}}},4649:function(O,m,e){"use strict";e.r(m);var c=e(58024),v=e(91894),l=e(9715),P=e(55843),p=e(47673),h=e(4107),o=e(18446),s=e(90860),r=e(39428),g=e(3182),_=e(34792),M=e(48086),u=e(2824),t=e(43358),n=e(34041),i=e(67294),a=e(952),E=e(34540),I=e(86615),T=e(2521),A=e(30381),U=e.n(A),y=e(75362),H=e(85224),b=e(72757),oe=e.n(b),Y=e(5234),z=e.n(Y),N=e(38026),se=e.n(N),w=e(65821),K=e(7079),D=e(85893),_e=n.Z.Option,G=function(j){var B=j.match.params.id,$=(0,i.useState)({}),Z=(0,u.Z)($,2),d=Z[0],Q=Z[1],V=(0,i.useState)(""),x=(0,u.Z)(V,2),k=x[0],F=x[1],J={extraPlugins:[w.H],heading:{options:[{model:"paragraph",title:"\u6B63\u6587",class:"ck-heading_paragraph"},{model:"heading1",view:{name:"h1",styles:{color:"#E53333","font-size":"22px"},classes:["Heading_Class","H_1"]},title:"\u6807\u98981",class:"ck-content-h1",converterPriority:"high"},{model:"heading2",view:{name:"h2",styles:{color:"#337FE5","font-size":"20px"},classes:["Heading_Class","H_2"]},title:"\u6807\u98982",class:"ck-content-h2",converterPriority:"high"},{model:"heading3",view:{name:"h3",styles:{color:"#009900","font-size":"18px"},classes:["Heading_Class","H_3"]},title:"\u6807\u98983",class:"ck-content-h3",converterPriority:"high"},{model:"heading4",view:{name:"h4",styles:{color:"#FF9900","font-size":"16px"},classes:["Heading_Class","H_4"]},title:"\u6807\u98984",class:"ck-content-h4",converterPriority:"high"}]},toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","imageUpload","undo","redo"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};if(B){var X=(0,T.QT)(K.dM,{manual:!0,onSuccess:function(R,f){Q(R.row),F(R.row.content)}}),q=X.run;(0,i.useEffect)(function(){q({id:B})},[])}var ee=(0,T.QT)(K.R2,{manual:!0,onSuccess:function(){M.default.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){T.m8.push({pathname:"/oa/notice"})},400)}}),te=ee.run,ne=function(){var L=(0,g.Z)((0,r.Z)().mark(function R(f){var C,S;return(0,r.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:C=f._date,S={id:B,title:f.title,content:k,is_send:f.is_send,start_date:C[0],end_date:C[1]},te(S);case 3:case"end":return W.stop()}},R)}));return function(f){return L.apply(this,arguments)}}(),ae=JSON.stringify(j.match.params)=="{}"?!1:!(d&&d.id),re=d.id>0?{title:d==null?void 0:d.title,is_send:d.is_send,content:d==null?void 0:d.content,_date:d.start_date>0?[U()(d.start_date*1e3).format("YYYY-MM-DD"),U()(d.end_date*1e3).format("YYYY-MM-DD")]:[]}:{is_send:"0"};return ae?(0,D.jsx)(s.Z,{active:!0}):(0,D.jsx)(y.ZP,{children:(0,D.jsx)(v.Z,{bordered:!1,children:(0,D.jsxs)(a.ZP,{name:"basic",layout:"vertical",initialValues:re,submitter:{render:function(R,f){return(0,D.jsx)(H.Z,{children:f})}},onFinish:ne,children:[(0,D.jsx)(P.Z.Item,{label:"\u901A\u77E5\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u901A\u77E5\u516C\u544A\u7684\u6807\u9898"}],style:{width:"400px"},children:(0,D.jsx)(h.Z,{placeholder:"\u4E00\u53E5\u8BDD\u7B80\u8FF0\u901A\u77E5\u516C\u544A\u7684\u6807\u9898"})}),(0,D.jsx)(E.Z,{name:"_date",label:"\u9996\u9875\u663E\u793A",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9996\u9875\u663E\u793A\u65F6\u95F4\u6BB5"}],fieldProps:{style:{width:"400px"}}}),(0,D.jsx)(I.Z.Group,{radioType:"button",rules:[{required:!0,message:"\u8BF7\u786E\u8BA4\u662F\u5426\u53D1\u9001"}],options:[{value:"1",label:"\u7ACB\u5373\u53D1\u9001"},{value:"0",label:"\u6682\u4E0D\u53D1\u9001"}],label:"\u662F\u5426\u53D1\u9001",name:"is_send"}),(0,D.jsx)(P.Z.Item,{label:"\u901A\u77E5\u5185\u5BB9",name:"content",children:(0,D.jsx)("div",{className:"docsEditor",children:(0,D.jsx)(b.CKEditor,{editor:z(),id:"editor",data:d==null?void 0:d.content,config:J,onChange:function(R,f){var C=f.getData();F(C)}})})})]})})})};m.default=G},7079:function(O,m,e){"use strict";e.d(m,{gp:function(){return h},R2:function(){return s},dM:function(){return g},v$:function(){return M}});var c=e(39428),v=e(11849),l=e(3182),P=e(2521),p=e(43237);function h(t){return o.apply(this,arguments)}function o(){return o=(0,l.Z)((0,c.Z)().mark(function t(n){var i;return(0,c.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,P.WY)(p.h+"oa/notice/index",{method:"GET",params:(0,v.Z)({},n)});case 2:return i=E.sent,E.abrupt("return",{data:i.data,success:i.success,total:i.data.total,pageSize:i.data.pageSize,current:i.data.current});case 4:case"end":return E.stop()}},t)})),o.apply(this,arguments)}function s(t){return r.apply(this,arguments)}function r(){return r=(0,l.Z)((0,c.Z)().mark(function t(n){return(0,c.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,P.WY)(p.h+"oa/notice/form",{method:"POST",data:n}));case 1:case"end":return a.stop()}},t)})),r.apply(this,arguments)}function g(t){return _.apply(this,arguments)}function _(){return _=(0,l.Z)((0,c.Z)().mark(function t(n){return(0,c.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,P.WY)(p.h+"oa/notice/detail",{params:n}));case 1:case"end":return a.stop()}},t)})),_.apply(this,arguments)}function M(t){return u.apply(this,arguments)}function u(){return u=(0,l.Z)((0,c.Z)().mark(function t(n){return(0,c.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,P.WY)(p.h+"oa/notice/delete",{params:n}));case 1:case"end":return a.stop()}},t)})),u.apply(this,arguments)}}}]);
