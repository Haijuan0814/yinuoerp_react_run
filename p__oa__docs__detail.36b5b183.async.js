(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9459],{99165:function(b,L,e){"use strict";e.d(L,{Z:function(){return U}});var s=e(28991),D=e(67294),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},m=x,l=e(27029),R=function(_,a){return D.createElement(l.Z,(0,s.Z)((0,s.Z)({},_),{},{ref:a,icon:m}))};R.displayName="CopyOutlined";var U=D.forwardRef(R)},73171:function(b,L,e){"use strict";e.d(L,{Z:function(){return U}});var s=e(28991),D=e(67294),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},m=x,l=e(27029),R=function(_,a){return D.createElement(l.Z,(0,s.Z)((0,s.Z)({},_),{},{ref:a,icon:m}))};R.displayName="DeleteOutlined";var U=D.forwardRef(R)},54977:function(b,L,e){"use strict";e.d(L,{Z:function(){return U}});var s=e(28991),D=e(67294),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},m=x,l=e(27029),R=function(_,a){return D.createElement(l.Z,(0,s.Z)((0,s.Z)({},_),{},{ref:a,icon:m}))};R.displayName="FormOutlined";var U=D.forwardRef(R)},39930:function(b){b.exports={cardList:"cardList___Thdjy",card:"card___14fEj",item:"item___1BNC4",extraImg:"extraImg___t3H5c",newButton:"newButton___qK3FL",cardAvatar:"cardAvatar___16HsC",cardDescription:"cardDescription___37iEd",pageHeaderContent:"pageHeaderContent___1uYiS",contentLink:"contentLink___2msPM",standardList:"standardList___gd8l2",headerInfo:"headerInfo___20RuN",listContent:"listContent___1-Q5f",listContentItem:"listContentItem___2cbtP",extraContentSearch:"extraContentSearch___3_5Na",extraContentButton:"extraContentButton___r7t3a",listCard:"listCard___3Wq1E",standardListForm:"standardListForm___1Ztjq",formResult:"formResult___3RuK_"}},64139:function(){},13277:function(){},80877:function(b,L,e){"use strict";e.d(L,{Z:function(){return z}});var s=e(57663),D=e(71577),x=e(9715),m=e(55843),l=e(47673),R=e(4107),U=e(54421),f=e(38272),_=e(60663),a=e(31990),h=e(2824),d=e(67294),C=e(2521),I=e(30381),Z=e(39428),A=e(11849),u=e(3182),j=e(43237);function F(v,P){return N.apply(this,arguments)}function N(){return N=(0,u.Z)((0,Z.Z)().mark(function v(P,n){var y,B;return(0,Z.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return y=j.h+"base/comment/index",W.next=3,(0,C.WY)(y,{method:"GET",params:(0,A.Z)({},P)});case 3:return B=W.sent,W.abrupt("return",{data:B.data,success:B.success});case 5:case"end":return W.stop()}},v)})),N.apply(this,arguments)}function O(v){return o.apply(this,arguments)}function o(){return o=(0,u.Z)((0,Z.Z)().mark(function v(P){var n;return(0,Z.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return n=j.h+"base/comment/save",B.abrupt("return",(0,C.WY)(n,{method:"POST",data:P}));case 2:case"end":return B.stop()}},v)})),o.apply(this,arguments)}function E(v){return t.apply(this,arguments)}function t(){return t=_asyncToGenerator(_regeneratorRuntime().mark(function v(P){var n;return _regeneratorRuntime().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return n=api+"it/"+P.tablename+"/form",B.abrupt("return",request(n,{method:"POST",data:P}));case 2:case"end":return B.stop()}},v)})),t.apply(this,arguments)}function c(v){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function v(P){return _regeneratorRuntime().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",request(api+"it/think/form",_objectSpread({method:"DELETE"},P||{})));case 1:case"end":return y.stop()}},v)})),M.apply(this,arguments)}var i=e(85893),T=function(P){var n=P.tablename,y=P.tableid,B=P.isEdit,H=P.isShowContent,W=(0,d.useState)([]),$=(0,h.Z)(W,2),te=$[0],ce=$[1],Q=(0,C.QT)(F,{manual:!0,onSuccess:function(g,me){var ue=g.rows,k=[];ue.map(function(V){V.tableid==y&&k.push(V)}),ce(k)}}),ne=Q.run;(0,d.useEffect)(function(){ne({tablename:n,tableid:y})},[]);var se=(0,d.useState)(!1),Y=(0,h.Z)(se,2),oe=Y[0],G=Y[1],p=(0,d.useState)(""),ae=(0,h.Z)(p,2),w=ae[0],J=ae[1],de=(0,C.QT)(function(K){return O(K)},{manual:!0,onSuccess:function(g){G(!1),J(""),ne({tablename:n,tableid:y})}}),le=de.run,re=function(g){J(g.target.value)},ie=function(){G(!0);var g={content:w,tablename:n,tableid:y,parent:0};le(g)},X=function(g){if(g.indexOf("http")!=-1){var me=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,ue=g.replace(me,function(V){return'<a href="'+V+'" target=_blank>'+V+"</a>"}),k={__html:ue.replaceAll(`
`,"<br />")};return(0,i.jsx)("div",{dangerouslySetInnerHTML:k})}else return(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:g.replaceAll(`
`,"<br />")}})};return(0,i.jsxs)("div",{children:[te.length>0?(0,i.jsx)(f.ZP,{className:"comment-list",itemLayout:"horizontal",dataSource:te,renderItem:function(g){return(0,i.jsx)("li",{children:(0,i.jsx)(a.Z,{actions:g.actions,author:g.user.name,avatar:g.user.avatar,content:X(g.content),datetime:g.insert_time})})}}):"",B?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z.Item,{children:(0,i.jsx)(R.Z.TextArea,{rows:2,onChange:function(g){return re(g)},value:w,className:"comment_textarea___hnYGe",style:{height:"70px"}})}),(0,i.jsx)(m.Z.Item,{children:(0,i.jsx)(D.Z,{htmlType:"submit",loading:oe,onClick:function(){return ie()},type:"primary",children:"\u53D1\u8868\u8BC4\u8BBA"})})]}):""]})},z=T},19426:function(b,L,e){"use strict";e.r(L);var s=e(18446),D=e(90860),x=e(58024),m=e(91894),l=e(48736),R=e(27049),U=e(62350),f=e(24565),_=e(98858),a=e(4914),h=e(71153),d=e(60331),C=e(34792),I=e(48086),Z=e(2824),A=e(18106),u=e(32267),j=e(402),F=e(97272),N=e(73171),O=e(54977),o=e(49101),E=e(2521),t=e(67294),c=e(75362),M=e(85805),i=e(30381),T=e.n(i),z=e(80877),v=e(39930),P=e.n(v),n=e(85893),y=F.Z.Paragraph,B=u.Z.TabPane,H=function($){var te=$.match.params.openid,ce=$.location.query.docId,Q=(0,E.tT)("@@initialState"),ne=Q.initialState,se=Q.setInitialState,Y=ne.currentUser,oe=(0,t.useState)({}),G=(0,Z.Z)(oe,2),p=G[0],ae=G[1],w=(0,t.useState)({}),J=(0,Z.Z)(w,2),de=J[0],le=J[1],re=(0,E.QT)(M.dM,{manual:!0,onSuccess:function(S,r){ae(S.row),le({title:S.row.title,content:S.row.content})}}),ie=re.run;(0,t.useEffect)(function(){ie({openid:te})},[]);var X=function(S,r){S.id>0?E.m8.push({pathname:"/oa/docs/edit/".concat(S.openid),query:{parent:S.parent,from:$.location}}):E.m8.push({pathname:"/oa/docs/create",query:{parent:r,from:$.location}})},K=(0,E.QT)(M.v$,{manual:!0,onSuccess:function(S,r){I.default.success("\u64CD\u4F5C\u6210\u529F"),setTimeout(function(){E.m8.push({pathname:"/oa/docs"})},400)}}),g=K.run,me=function(S){g({openid:S.openid})},ue=function(S){var r=S.row;return(0,n.jsxs)(a.Z,{column:1,labelStyle:{color:"#868686"},children:[r&&r.tags?(0,n.jsx)(a.Z.Item,{children:r.tags.map(function(ee){return ee?(0,n.jsx)(d.Z,{children:ee},ee.toString()):""})}):"",(0,n.jsx)(a.Z.Item,{label:"\u4F5C\u8005",contentStyle:{color:"#868686"},children:r==null?void 0:r.insert_user}),r&&r.edit_users?(0,n.jsx)(a.Z.Item,{label:"\u5171\u540C\u7F16\u8F91",contentStyle:{color:"#868686"},children:r.edit_users}):"",r&&r.related_users?(0,n.jsx)(a.Z.Item,{label:"\u5173\u8054\u4EBA\u5458",contentStyle:{color:"#868686"},children:r.related_users}):"",(0,n.jsx)(a.Z.Item,{label:"\u521B\u5EFA\u65F6\u95F4",contentStyle:{color:"#868686"},children:(0,n.jsxs)("span",{children:[r&&r.insert_time>0?T()(parseInt(r.insert_time)*1e3).format("YYYY-MM-DD HH:mm"):"--"," "]})}),(0,n.jsx)(a.Z.Item,{label:"\u66F4\u65B0\u65F6\u95F4",contentStyle:{color:"#868686"},children:(0,n.jsxs)("span",{children:[r&&r.update_time>0?T()(parseInt(r.update_time)*1e3).format("YYYY-MM-DD HH:mm"):"--"," "]})})]})},k=function(S){var r=S.row;return(0,n.jsx)(f.Z,{title:"\u786E\u5B9A\u5220\u9664\u5F53\u524D\u6587\u6863\u5417\uFF1F",onConfirm:function(){return me(r)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsxs)("a",{style:{marginRight:"10px"},href:"#",children:[(0,n.jsx)(N.Z,{})," \u5220\u9664"]},"delete")})},V=function(S){var r=S.row;return(0,n.jsxs)("a",{type:"primary",onClick:function(){X(r,0)},children:[(0,n.jsx)(O.Z,{})," \u7F16\u8F91"]},"edit")},_e=function(S){var r=S.item,ee=S.isOption;return(0,n.jsxs)(m.Z,{title:ee?r.title:"",extra:r.edit_uids&&r.edit_uids.indexOf(Y.id)!=-1?[(0,n.jsx)(k,{row:r}),(0,n.jsx)(V,{row:r}),(0,n.jsxs)("a",{onClick:function(){X({},r.id)},children:[" ",(0,n.jsx)(o.Z,{})," \u65B0\u5EFA\u5B50\u6587\u6863"]})]:"",children:[(0,n.jsx)(F.Z,{style:{width:document.body.clientWidth-380},children:(0,n.jsx)(y,{style:{minHeight:"450px"},children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:r&&r.content?r.content:"\u6682\u65E0\u5185\u5BB9"},className:"editorDetail"})})}),(0,n.jsx)(R.Z,{}),(0,n.jsx)(ue,{row:r},1)]})},ve=!(p&&p.id);return ve?(0,n.jsx)(D.Z,{active:!0}):(0,n.jsxs)(c.ZP,{header:{title:p==null?void 0:p.title,breadcrumb:{}},extra:Y.id==p.insert_uid||p.edit_uids&&p.edit_uids.indexOf(Y.id)!=-1?[(0,n.jsx)(k,{row:p}),(0,n.jsx)(V,{row:p})]:"",children:[(0,n.jsx)(_e,{item:p,isOption:!1}),(0,n.jsx)(R.Z,{}),(0,n.jsx)(z.Z,{tablename:"oa_docs",tableid:p==null?void 0:p.openid,isEdit:!0})]})};L.default=H},85805:function(b,L,e){"use strict";e.d(L,{gp:function(){return R},R2:function(){return f},dM:function(){return a},v$:function(){return d}});var s=e(39428),D=e(11849),x=e(3182),m=e(2521),l=e(43237);function R(I){return U.apply(this,arguments)}function U(){return U=(0,x.Z)((0,s.Z)().mark(function I(Z){var A;return(0,s.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,m.WY)(l.h+"oa/docs/index",{method:"GET",params:(0,D.Z)({},Z)});case 2:return A=j.sent,j.abrupt("return",{data:A.data,success:A.success,total:A.data.total,pageSize:A.data.pageSize,current:A.data.current});case 4:case"end":return j.stop()}},I)})),U.apply(this,arguments)}function f(I){return _.apply(this,arguments)}function _(){return _=(0,x.Z)((0,s.Z)().mark(function I(Z){return(0,s.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,m.WY)(l.h+"oa/docs/form",{method:"POST",data:Z}));case 1:case"end":return u.stop()}},I)})),_.apply(this,arguments)}function a(I){return h.apply(this,arguments)}function h(){return h=(0,x.Z)((0,s.Z)().mark(function I(Z){return(0,s.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,m.WY)(l.h+"oa/docs/detail",{params:Z}));case 1:case"end":return u.stop()}},I)})),h.apply(this,arguments)}function d(I){return C.apply(this,arguments)}function C(){return C=(0,x.Z)((0,s.Z)().mark(function I(Z){return(0,s.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,m.WY)(l.h+"oa/docs/delete",{params:Z}));case 1:case"end":return u.stop()}},I)})),C.apply(this,arguments)}},86743:function(b,L,e){"use strict";var s=e(22122),D=e(28481),x=e(9475),m=e(67294),l=e(71577),R=e(73839);function U(_){return!!(_&&!!_.then)}var f=function(a){var h=m.useRef(!1),d=m.useRef(null),C=(0,x.Z)(!1),I=(0,D.Z)(C,2),Z=I[0],A=I[1],u=a.close,j=function(){u==null||u.apply(void 0,arguments)};m.useEffect(function(){var c=null;return a.autoFocus&&(c=setTimeout(function(){var M;(M=d.current)===null||M===void 0||M.focus()})),function(){c&&clearTimeout(c)}},[]);var F=function(M){!U(M)||(A(!0),M.then(function(){A(!1,!0),j.apply(void 0,arguments),h.current=!1},function(i){console.error(i),A(!1,!0),h.current=!1}))},N=function(M){var i=a.actionFn;if(!h.current){if(h.current=!0,!i){j();return}var T;if(a.emitEvent){if(T=i(M),a.quitOnNullishReturnValue&&!U(T)){h.current=!1,j(M);return}}else if(i.length)T=i(u),h.current=!1;else if(T=i(),!T){j();return}F(T)}},O=a.type,o=a.children,E=a.prefixCls,t=a.buttonProps;return m.createElement(l.Z,(0,s.Z)({},(0,R.n)(O),{onClick:N,loading:Z,prefixCls:E},t,{ref:d}),o)};L.Z=f},31990:function(b,L,e){"use strict";var s=e(22122),D=e(96156),x=e(94184),m=e.n(x),l=e(67294),R=e(53124),U=function(_,a){var h={};for(var d in _)Object.prototype.hasOwnProperty.call(_,d)&&a.indexOf(d)<0&&(h[d]=_[d]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,d=Object.getOwnPropertySymbols(_);C<d.length;C++)a.indexOf(d[C])<0&&Object.prototype.propertyIsEnumerable.call(_,d[C])&&(h[d[C]]=_[d[C]]);return h},f=function(a){var h=a.actions,d=a.author,C=a.avatar,I=a.children,Z=a.className,A=a.content,u=a.prefixCls,j=a.datetime,F=U(a,["actions","author","avatar","children","className","content","prefixCls","datetime"]),N=l.useContext(R.E_),O=N.getPrefixCls,o=N.direction,E=function(P,n){return l.createElement("div",{className:m()("".concat(P,"-nested"))},n)},t=O("comment",u),c=C?l.createElement("div",{className:"".concat(t,"-avatar")},typeof C=="string"?l.createElement("img",{src:C,alt:"comment-avatar"}):C):null,M=h&&h.length?l.createElement("ul",{className:"".concat(t,"-actions")},h.map(function(v,P){return l.createElement("li",{key:"action-".concat(P)},v)})):null,i=(d||j)&&l.createElement("div",{className:"".concat(t,"-content-author")},d&&l.createElement("span",{className:"".concat(t,"-content-author-name")},d),j&&l.createElement("span",{className:"".concat(t,"-content-author-time")},j)),T=l.createElement("div",{className:"".concat(t,"-content")},i,l.createElement("div",{className:"".concat(t,"-content-detail")},A),M),z=m()(t,(0,D.Z)({},"".concat(t,"-rtl"),o==="rtl"),Z);return l.createElement("div",(0,s.Z)({},F,{className:z}),l.createElement("div",{className:"".concat(t,"-inner")},c,T),I?E(t,I):null)};L.Z=f},60663:function(b,L,e){"use strict";var s=e(38663),D=e.n(s),x=e(64139),m=e.n(x)},60331:function(b,L,e){"use strict";e.d(L,{Z:function(){return N}});var s=e(96156),D=e(22122),x=e(28481),m=e(54549),l=e(94184),R=e.n(l),U=e(10366),f=e(67294),_=e(53124),a=e(98787),h=e(21790),d=function(O,o){var E={};for(var t in O)Object.prototype.hasOwnProperty.call(O,t)&&o.indexOf(t)<0&&(E[t]=O[t]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(O);c<t.length;c++)o.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(O,t[c])&&(E[t[c]]=O[t[c]]);return E},C=function(o){var E,t=o.prefixCls,c=o.className,M=o.checked,i=o.onChange,T=o.onClick,z=d(o,["prefixCls","className","checked","onChange","onClick"]),v=f.useContext(_.E_),P=v.getPrefixCls,n=function(W){i==null||i(!M),T==null||T(W)},y=P("tag",t),B=R()(y,(E={},(0,s.Z)(E,"".concat(y,"-checkable"),!0),(0,s.Z)(E,"".concat(y,"-checkable-checked"),M),E),c);return f.createElement("span",(0,D.Z)({},z,{className:B,onClick:n}))},I=C,Z=function(O,o){var E={};for(var t in O)Object.prototype.hasOwnProperty.call(O,t)&&o.indexOf(t)<0&&(E[t]=O[t]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(O);c<t.length;c++)o.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(O,t[c])&&(E[t[c]]=O[t[c]]);return E},A=new RegExp("^(".concat(a.Y.join("|"),")(-inverse)?$")),u=new RegExp("^(".concat(a.E.join("|"),")$")),j=function(o,E){var t,c=o.prefixCls,M=o.className,i=o.style,T=o.children,z=o.icon,v=o.color,P=o.onClose,n=o.closeIcon,y=o.closable,B=y===void 0?!1:y,H=Z(o,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),W=f.useContext(_.E_),$=W.getPrefixCls,te=W.direction,ce=f.useState(!0),Q=(0,x.Z)(ce,2),ne=Q[0],se=Q[1];f.useEffect(function(){"visible"in H&&se(H.visible)},[H.visible]);var Y=function(){return v?A.test(v)||u.test(v):!1},oe=(0,D.Z)({backgroundColor:v&&!Y()?v:void 0},i),G=Y(),p=$("tag",c),ae=R()(p,(t={},(0,s.Z)(t,"".concat(p,"-").concat(v),G),(0,s.Z)(t,"".concat(p,"-has-color"),v&&!G),(0,s.Z)(t,"".concat(p,"-hidden"),!ne),(0,s.Z)(t,"".concat(p,"-rtl"),te==="rtl"),t),M),w=function(g){g.stopPropagation(),P==null||P(g),!g.defaultPrevented&&("visible"in H||se(!1))},J=function(){return B?n?f.createElement("span",{className:"".concat(p,"-close-icon"),onClick:w},n):f.createElement(m.Z,{className:"".concat(p,"-close-icon"),onClick:w}):null},de="onClick"in H||T&&T.type==="a",le=(0,U.Z)(H,["visible"]),re=z||null,ie=re?f.createElement(f.Fragment,null,re,f.createElement("span",null,T)):T,X=f.createElement("span",(0,D.Z)({},le,{ref:E,className:ae,style:oe}),ie,J());return de?f.createElement(h.Z,null,X):X},F=f.forwardRef(j);F.CheckableTag=I;var N=F},71153:function(b,L,e){"use strict";var s=e(38663),D=e.n(s),x=e(13277),m=e.n(x)}}]);
