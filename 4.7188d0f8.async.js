(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4],{34540:function(K,D,e){"use strict";var d=e(28991),c=e(81253),u=e(85893),h=e(51617),p=e(67294),m=e(66758),a=e(39863),s=["fieldProps","proFieldProps"],_="dateRange",E=p.forwardRef(function(n,l){var i=n.fieldProps,r=n.proFieldProps,t=(0,c.Z)(n,s),M=(0,p.useContext)(m.Z);return(0,u.jsx)(a.Z,(0,d.Z)({ref:l,fieldProps:(0,d.Z)({getPopupContainer:M.getPopupContainer},i),valueType:_,proFieldProps:r,filedConfig:{valueType:_,lightFilterLabelFormatter:function(O){return(0,h.Z)(O,(i==null?void 0:i.format)||"YYYY-MM-DD")}}},t))});D.Z=E},86615:function(K,D,e){"use strict";var d=e(88983),c=e(55742),u=e(28991),h=e(81253),p=e(85893),m=e(96202),a=e(67294),s=e(52772),_=e(39863),E=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],n=a.forwardRef(function(t,M){var g=t.fieldProps,O=t.options,R=t.radioType,b=t.layout,f=t.proFieldProps,L=t.valueEnum,A=(0,h.Z)(t,E);return(0,p.jsx)(_.Z,(0,u.Z)((0,u.Z)({valueType:R==="button"?"radioButton":"radio",ref:M,valueEnum:(0,m.h)(L,void 0)},A),{},{fieldProps:(0,u.Z)({options:O,layout:b},g),proFieldProps:f,filedConfig:{customLightMode:!0}}))}),l=a.forwardRef(function(t,M){var g=t.fieldProps,O=t.children;return(0,p.jsx)(c.ZP,(0,u.Z)((0,u.Z)({},g),{},{ref:M,children:O}))}),i=(0,s.G)(l,{valuePropName:"checked",ignoreWidth:!0}),r=i;r.Group=n,r.Button=c.ZP.Button,r.displayName="ProFormComponent",D.Z=r},64317:function(K,D,e){"use strict";var d=e(28991),c=e(81253),u=e(85893),h=e(96202),p=e(67294),m=e(66758),a=e(39863),s=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],_=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],E=p.forwardRef(function(t,M){var g=t.fieldProps,O=t.children,R=t.params,b=t.proFieldProps,f=t.mode,L=t.valueEnum,A=t.request,Z=t.showSearch,W=t.options,x=(0,c.Z)(t,s),I=(0,p.useContext)(m.Z);return(0,u.jsx)(a.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,h.h)(L),request:A,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({options:W,mode:f,showSearch:Z,getPopupContainer:I.getPopupContainer},g),ref:M,proFieldProps:b},x),{},{children:O}))}),n=p.forwardRef(function(t,M){var g=t.fieldProps,O=t.children,R=t.params,b=t.proFieldProps,f=t.mode,L=t.valueEnum,A=t.request,Z=t.options,W=(0,c.Z)(t,_),x=(0,d.Z)({options:Z,mode:f||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},g),I=(0,p.useContext)(m.Z);return(0,u.jsx)(a.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,h.h)(L),request:A,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({getPopupContainer:I.getPopupContainer},x),ref:M,proFieldProps:b},W),{},{children:O}))}),l=E,i=n,r=l;r.SearchSelect=i,r.displayName="ProFormComponent",D.Z=r},5966:function(K,D,e){"use strict";var d=e(28991),c=e(81253),u=e(85893),h=e(39863),p=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],a="text",s=function(l){var i=l.fieldProps,r=l.proFieldProps,t=(0,c.Z)(l,p);return(0,u.jsx)(h.Z,(0,d.Z)({valueType:a,fieldProps:i,filedConfig:{valueType:a},proFieldProps:r},t))},_=function(l){var i=l.fieldProps,r=l.proFieldProps,t=(0,c.Z)(l,m);return(0,u.jsx)(h.Z,(0,d.Z)({valueType:"password",fieldProps:i,proFieldProps:r,filedConfig:{valueType:a}},t))},E=s;E.Password=_,E.displayName="ProFormComponent",D.Z=E},65821:function(K,D,e){"use strict";e.d(D,{H:function(){return p}});var d=e(69610),c=e(54941),u=e(11768),h=function(){function m(a){(0,d.Z)(this,m),this.loader=a,console.log(a)}return(0,c.Z)(m,[{key:"upload",value:function(){var s=this;return this.loader.file.then(function(_){return new Promise(function(E,n){s._initRequest(),s._initListeners(E,n,_),s._sendRequest(_)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var s=this.xhr=new XMLHttpRequest;s.open("POST","http://api.yinuoerp.com/index.php/base/upload",!0),s.setRequestHeader("token",u.ZP.load("userInfo")?u.ZP.load("userInfo").token:""),s.responseType="json"}},{key:"_initListeners",value:function(s,_,E){var n=this.xhr,l=this.loader,i="\u65E0\u6CD5\u4E0A\u4F20\u6587\u4EF6: ".concat(E.name,".");n.addEventListener("error",function(){return _(i)}),n.addEventListener("abort",function(){return _()}),n.addEventListener("load",function(){var r=n.response;if(!r.success||!r||r.error)return _(r&&!r.success?r.msg:i);s({default:r.data.src})}),n.upload&&n.upload.addEventListener("progress",function(r){r.lengthComputable&&(l.uploadTotal=r.total,l.uploaded=r.loaded)})}},{key:"_sendRequest",value:function(s){var _=new FormData;_.append("file",s),this.xhr.send(_)}}]),m}();function p(m){m.plugins.get("FileRepository").createUploadAdapter=function(a){return new h(a)}}},78656:function(K,D,e){"use strict";var d=e(58024),c=e(91894),u=e(9715),h=e(55843),p=e(18446),m=e(90860),a=e(39428),s=e(3182),_=e(34792),E=e(48086),n=e(2824),l=e(67294),i=e(72757),r=e.n(i),t=e(5234),M=e.n(t),g=e(952),O=e(5966),R=e(86615),b=e(34540),f=e(2521),L=e(75362),A=e(85224),Z=e(65821),W=e(11316),x=e(13623),I=e(66822),J=e(30381),j=e.n(J),v=e(85893),w=function(Y){var H=Y.module,P=Y.tablename,B=Y.id,G=Y.parent,k=(0,l.useState)({}),N=(0,n.Z)(k,2),o=N[0],q=N[1],U=[],y="";P=="think"?(U=[{value:"0",label:"\u6536\u96C6"},{value:"1",label:"\u91C7\u7EB3"},{value:"2",label:"\u5B9E\u73B0"},{value:"-1",label:"\u9000\u7A3F"}],y="<h1><strong>1\u3001\u4EA7\u54C1\u5C5E\u6027</strong></h1><p>(1)\u8FD9\u662F\u4E00\u4E2A\u65B0\u4EA7\u54C1\uFF1F<p>(2)\u8FD9\u662F\u5728\u6211\u4EEC\u73B0\u6709\u4EA7\u54C1\u4E0A\u589E\u52A0\u529F\u80FD\uFF1F\u54EA\u4E2A\u4EA7\u54C1\u7684\u4EC0\u4E48\u4F4D\u7F6E\u589E\u52A0\u4EC0\u4E48\u6A21\u5757\uFF1F</p><p>(3)\u8FD9\u662F\u6211\u4EEC\u73B0\u6709\u4EA7\u54C1\u7684\u6A21\u5757\u8FED\u4EE3\uFF1F\u54EA\u4E2A\u6A21\u5757\uFF1F</p></p><br/><h1><strong>2\u3001\u9700\u6C42\u80CC\u666F</strong></h1> <p>\u901A\u8FC7\u8FD9\u4E2A\u9700\u6C42\u671F\u671B\u5E2E\u52A9\u5BA2\u6237\u89E3\u51B3\u4EC0\u4E48\u6837\u7684\u95EE\u9898\uFF1F\u8FBE\u5230\u4EC0\u4E48\u76EE\u7684\u5462\uFF1F</p><br/><h1><strong>3\u3001\u9700\u6C42\u52A8\u4F5C</strong></h1>\u8FD9\u4E2A\u9700\u6C42\u4E3B\u8981\u5305\u62EC\u54EA\u51E0\u4E2A\u65B9\u9762\uFF1F<br/><h1><strong><br/>4\u3001\u65F6\u95F4\u548C\u4F18\u5148\u7EA7</strong></h1><p>\u8FD9\u4E2A\u9700\u6C42\u7684\u4F18\u5148\u7EA7\u662F\u4EC0\u4E48\u6837\u7684\uFF1F\u671F\u671B\u4EC0\u4E48\u65F6\u95F4\u53EF\u4EE5\u51FA\u4EA7\u54C1\uFF1F\u671F\u671B\u4EC0\u4E48\u65F6\u95F4\u53EF\u4EE5\u4E0A\u7EBF?<br/><br/><br/>"):P=="demand"?U=[{value:"0",label:"\u63A8\u8FDB"},{value:"1",label:"\u8BBE\u8BA1"},{value:"2",label:"\u5F00\u53D1"},{value:"3",label:"\u5B9E\u73B0"},{value:"-1",label:"\u9000\u7A3F"}]:P=="coding"?U=[{value:"0",label:"\u8BA1\u5212"},{value:"1",label:"\u5F00\u53D1"},{value:"2",label:"\u6D4B\u8BD5"},{value:"3",label:"\u5B8C\u6210"},{value:"-1",label:"\u9000\u7A3F"}]:P=="testing"||P=="testitem"?(P=="testing"&&(y="<h1><strong>1\u3001\u6D4B\u8BD5\u7F51\u5740</strong></h1><br/><h1><strong>2\u3001\u6D4B\u8BD5\u8303\u56F4</strong></h1><br/><h1><strong>3\u3001\u5173\u8054\u9700\u6C42</strong></h1><br/><h1><strong>4\u3001\u6D4B\u8BD5\u8D26\u53F7</strong></h1><br/>\u5982\u679C\u6CA1\u6709\u53EF\u4EE5\u4E0D\u63D0\u4F9B"),U=[{value:"0",label:"\u6D4B\u8BD5\u4E2D"},{value:"1",label:"\u5B8C\u6210"},{value:"-1",label:"\u9000\u7A3F"}]):P=="bug"?(U=[{value:"0",label:"\u672A\u89E3\u51B3"},{value:"1",label:"\u89E3\u51B3\u4E2D"},{value:"2",label:"\u5DF2\u89E3\u51B3"},{value:"-1",label:"\u9000\u7A3F"}],y="<h1><strong>1\u3001\u95EE\u9898\u4F4D\u7F6E</strong></h1><br/><h1><strong>2\u3001\u95EE\u9898\u63CF\u8FF0</strong></h1><br/><h1><strong>3\u3001\u671F\u671B\u7ED3\u679C</strong></h1>"):P=="publish"&&(U=[{value:"0",label:"\u5DF2\u53D1\u5E03"}],y="<h1><strong>1\u3001\u53D1\u5E03\u7248\u672C\u53F7</strong></h1><br/><h1><strong>2\u3001\u53D1\u5E03\u5185\u5BB9</strong></h1><br/><h1><strong>3\u3001\u4EE3\u7801Git\u5206\u652F</strong></h1>");var ee=(0,l.useState)(y),V=(0,n.Z)(ee,2),Q=V[0],X=V[1],te={extraPlugins:[Z.H],heading:{options:[{model:"paragraph",title:"\u6B63\u6587",class:"ck-heading_paragraph"},{model:"heading1",view:{name:"h1",styles:{color:"#E53333","font-size":"22px"},classes:["Heading_Class","H_1"]},title:"\u6807\u98981",class:"ck-content-h1",converterPriority:"high"},{model:"heading2",view:{name:"h2",styles:{color:"#337FE5","font-size":"20px"},classes:["Heading_Class","H_2"]},title:"\u6807\u98982",class:"ck-content-h2",converterPriority:"high"},{model:"heading3",view:{name:"h3",styles:{color:"#009900","font-size":"18px"},classes:["Heading_Class","H_3"]},title:"\u6807\u98983",class:"ck-content-h3",converterPriority:"high"},{model:"heading4",view:{name:"h4",styles:{color:"#FF9900","font-size":"16px"},classes:["Heading_Class","H_4"]},title:"\u6807\u98984",class:"ck-content-h4",converterPriority:"high"}]},toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","imageUpload","undo","redo"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};if(B){var oe=(0,f.QT)(I.dM,{manual:!0,onSuccess:function(F,C){q(F.row),X(F.row.content)}}),re=oe.run;(0,l.useEffect)(function(){re({id:B,tablename:P})},[])}var ae=(0,f.QT)(I.R2,{manual:!0,onSuccess:function(){E.default.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){G>0&&(P=="testitem"||P=="bug")?f.m8.push({pathname:"/it/coding/testing/detail/".concat(G)}):B>0?f.m8.push({pathname:H?"/it/".concat(H,"/").concat(P,"/detail/").concat(B):"/it/".concat(P,"/detail/").concat(B)}):f.m8.push({pathname:H?"/it/"+H+"/"+P:"/it/"+P})},400)}}),se=ae.run,ne=function(){var S=(0,s.Z)((0,a.Z)().mark(function F(C){var T,$;return(0,a.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:T=C.date,C.join_time||(C.join_time=j()(o.join_time).format("YYYY-MM-DD")),$={id:B,tablename:P,content:Q,start_time:T&&T[0]?T[0]:o.id>0?j()(o.start_time*1e3).format("YYYY-MM-DD"):"",end_time:T&&T[1]?T[1]:o.id>0?j()(o.end_time*1e3).format("YYYY-MM-DD"):"",parent:G},se(Object.assign(C,$));case 4:case"end":return z.stop()}},F)}));return function(C){return S.apply(this,arguments)}}(),le=B?!(o&&o.id):!1,_e=o.id>0?{title:o==null?void 0:o.title,date:o.start_time>0?[j()(o.start_time*1e3).format("YYYY-MM-DD"),j()(o.end_time*1e3).format("YYYY-MM-DD")]:[],product_ids:o==null?void 0:o.product_ids,deal_uids:o==null?void 0:o.deal_uids,related_uids:o==null?void 0:o.related_uids,content:o==null?void 0:o.content,status:o==null?void 0:o.status}:{status:"0"};return le?(0,v.jsx)(m.Z,{active:!0}):(0,v.jsx)(L.ZP,{children:(0,v.jsx)(c.Z,{bordered:!1,children:(0,v.jsxs)(g.ZP,{name:"basic",layout:"Horizontal",labelCol:{span:3},wrapperCol:{span:21},initialValues:_e,submitter:{render:function(F,C){return(0,v.jsx)(A.Z,{children:C})}},onFinish:ne,children:[(0,v.jsx)(O.Z,{width:"md",label:"\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}],placeholder:"\u4E00\u53E5\u8BDD\u7B80\u8FF0"}),(0,v.jsx)(x.Z,{label:"\u6240\u5C5E\u4EA7\u54C1",name:"product_ids",mode:"multiple",_require:!0}),(0,v.jsx)(W.Z,{label:"\u5904\u7406\u4EBA",name:"deal_uids",mode:"multiple",_require:!0}),(0,v.jsx)(W.Z,{label:"\u5173\u8054\u4EBA",name:"related_uids",mode:"multiple",_require:!1}),(0,v.jsx)(R.Z.Group,{options:U,label:"\u6587\u6863\u72B6\u6001",name:"status",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6587\u6863\u72B6\u6001"}]}),(0,v.jsx)(b.Z,{label:"\u4EFB\u52A1\u6392\u671F",width:"md",name:"date",placeholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"]}),(0,v.jsx)(h.Z.Item,{label:"\u6587\u6863\u5185\u5BB9",name:"content",children:(0,v.jsx)("div",{className:"docsEditor",children:(0,v.jsx)(i.CKEditor,{editor:M(),id:"editor",data:o.id?o.content:Q,config:te,onChange:function(F,C){var T=C.getData();X(T)}})})})]})})})};D.Z=w}}]);
