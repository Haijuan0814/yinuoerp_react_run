(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9345],{43545:function(j){j.exports={standardList:"standardList___1Qtns",headerInfo:"headerInfo___L33Ln",listContent:"listContent___nc7tG",listContentItem:"listContentItem___1B6x6",extraContentSearch:"extraContentSearch___38ESQ",listCard:"listCard___1mMvI",standardListForm:"standardListForm___14U0Z",formResult:"formResult___1e3U8"}},44943:function(){},35416:function(j,E,e){"use strict";e.r(E),e.d(E,{BasicList:function(){return ne},default:function(){return ue}});var m=e(54421),v=e(38272),P=e(54029),o=e(79166),b=e(58024),U=e(91894),c=e(94233),g=e(51890),O=e(59250),_=e(13013),d=e(30887),h=e(28682),p=e(71194),l=e(50146),f=e(2824),u=e(47673),s=e(4107),t=e(88983),r=e(55742),y=e(67294),W=e(57254),S=e(75362),D=e(2521),Q=e(30381),I=e.n(Q),C=e(39428),T=e(11849),L=e(3182),G=e(43237);function J(B){return $.apply(this,arguments)}function $(){return $=(0,L.Z)((0,C.Z)().mark(function B(i){var F;return(0,C.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,D.WY)(G.h+"oa/leave/index",{method:"GET",params:(0,T.Z)({},i)});case 2:return F=q.sent,q.abrupt("return",{data:F.data,success:F.success,total:F.data.total,pageSize:F.data.pageSize,current:F.data.current});case 4:case"end":return q.stop()}},B)})),$.apply(this,arguments)}function X(B){return V.apply(this,arguments)}function V(){return V=(0,L.Z)((0,C.Z)().mark(function B(i){return(0,C.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,D.WY)(G.h+"oa/leave/delete",{params:i}));case 1:case"end":return x.stop()}},B)})),V.apply(this,arguments)}function te(B){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime().mark(function B(i){return _regeneratorRuntime().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",request(api+"oa/leave/save",{method:"POST",data:i}));case 1:case"end":return x.stop()}},B)})),H.apply(this,arguments)}function N(B){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function B(i){return _regeneratorRuntime().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",request(api+"oa/leave/detail",{params:i}));case 1:case"end":return x.stop()}},B)})),M.apply(this,arguments)}var ee=e(43545),z=e.n(ee),a=e(85893),K=r.ZP.Button,R=r.ZP.Group,w=s.Z.Search,Y=10,oe=function(i){if(i=="success")return"\u5DF2\u751F\u6548";if(i=="check")return"\u5F85\u5BA1\u6279";if(i=="hr_check")return"\u884C\u653F\u5BA1\u6279";if(i=="dep_check")return"\u90E8\u95E8\u5BA1\u6279";if(i=="recheck")return"\u5F85\u590D\u5BA1";if(i=="fail")return"\u5DF2\u9A73\u56DE";if(i=="delete")return"\u5DF2\u4F5C\u5E9F"},Z=function(i){if(i=="success")return"green";if(i=="check"||i=="hr_check"||i=="dep_check"||i=="recheck")return"volcano";if(i=="fail")return"black";if(i=="delete")return"gray"},ne=function(){var i=(0,y.useState)(""),F=(0,f.Z)(i,2),x=F[0],q=F[1],ve=(0,y.useState)(1),le=(0,f.Z)(ve,2),re=le[0],se=le[1],fe=(0,y.useState)([]),ie=(0,f.Z)(fe,2),_e=ie[0],me=ie[1],he=(0,y.useState)([]),ce=(0,f.Z)(he,2),Ee=ce[0],Ce=ce[1],Pe=(0,y.useState)(!0),de=(0,f.Z)(Pe,2),Oe=de[0],De=de[1],ge=(0,D.QT)(J,{manual:!0,onSuccess:function(n,k){me(n.list),Ce(n.total),se(1),De(!1)}}),ae=ge.run;(0,y.useEffect)(function(){ae({current:re,pageSize:Y,admin:1})},[]);var Me=function(n){n&&D.m8.push({pathname:"/oa/leave/detail/".concat(n.id)})},xe=(0,D.QT)(function(A,n){if(A==="remove")return X(n)},{manual:!0,onSuccess:function(n){ae({current:re,pageSize:Y,admin:1})}}),ye=xe.run,Re=function(n){var k=n.target.value;se(1),ae({keywords:x,tab:k,current:re,pageSize:Y,admin:1})},Be=function(n){se(1),q(n),ae({keywords:n,current:re,pageSize:Y,admin:1})},pe=function(n){se(n),ae({keywords:x,current:n,pageSize:Y,admin:1})},Ie=function(n){var k=n.target.value;k=="kaoqin"&&D.m8.push({pathname:"/hr/kaoqin"})},Te=function(n){ye("remove",{id:n})},Ae=function(n,k){n==="delete"&&l.Z.confirm({title:"\u5220\u9664\u8BF7\u5047",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u8BF7\u5047\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return Te(k.id)}})},Le=(0,a.jsxs)("div",{className:z().extraContent,children:[(0,a.jsxs)(R,{defaultValue:"all",onChange:function(n){return Re(n)},children:[(0,a.jsx)(K,{value:"all",children:"\u5168\u90E8"}),(0,a.jsx)(K,{value:"approval",children:"\u5F85\u5BA1\u6279"}),(0,a.jsx)(K,{value:"success",children:"\u5DF2\u751F\u6548"})]}),(0,a.jsx)(w,{className:z().extraContentSearch,placeholder:"\u8BF7\u8F93\u5165\u5458\u5DE5\u59D3\u540D",onSearch:function(n){return Be(n)}})]}),Ke=function(n){var k=n.item;return(0,a.jsx)(_.Z,{overlay:(0,a.jsx)(h.Z,{onClick:function(Se){var be=Se.key;return Ae(be,k)},children:(0,a.jsx)(h.Z.Item,{children:"\u5220\u9664"},"delete")}),children:(0,a.jsxs)("a",{children:["\u66F4\u591A ",(0,a.jsx)(W.Z,{})]})})};return(0,a.jsx)("div",{children:(0,a.jsx)(S.ZP,{extra:(0,a.jsxs)(R,{defaultValue:"leave",onChange:function(n){return Ie(n)},children:[(0,a.jsx)(K,{value:"kaoqin",children:"\u8003\u52E4\u6708\u62A5"}),(0,a.jsx)(K,{value:"leave",children:"\u8BF7\u5047\u8BB0\u5F55"})]}),children:(0,a.jsx)("div",{className:z().standardList,children:(0,a.jsx)(U.Z,{className:z().listCard,bordered:!1,style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},title:Le,children:(0,a.jsx)(v.ZP,{size:"large",rowKey:"id",loading:Oe,pagination:{onChange:function(n){pe(n)},showSizeChanger:!0,showQuickJumper:!0,pageSize:Y,total:Ee},dataSource:_e,renderItem:function(n){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z.Ribbon,{text:oe(n.status),color:Z(n.status),children:(0,a.jsx)(U.Z,{title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.C,{src:n.insert_avatar,shape:"round"})," ",(0,a.jsxs)("a",{onClick:function(){Me(n)},children:[n.department_name," ",n.insert_user]})]}),size:"small",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["\u8BF7\u5047\u7C7B\u578B\uFF1A",n.thing_str]}),(0,a.jsxs)("p",{children:["\u8BF7\u5047\u539F\u56E0\uFF1A",n.reason]}),(0,a.jsxs)("p",{children:["\u8BF7\u5047\u65F6\u95F4\uFF1A",I()(n.start_time*1e3).format("YYYY-MM-DD HH:mm")," \u81F3 ",I()(n.end_time*1e3).format("MM-DD HH:mm")]}),(0,a.jsxs)("p",{children:["\u8BF7\u5047\u65F6\u957F\uFF1A",n.length,n.unit]}),(0,a.jsxs)("span",{style:{color:"#bfbfbf",fontSize:"10px"},children:[n.insert_time_str,"\u7684\u7533\u8BF7"]}),"\xA0\xA0",(0,a.jsx)(Ke,{item:n},"more")]})})}),(0,a.jsx)("br",{})]})}})})})})})},ue=ne},86743:function(j,E,e){"use strict";var m=e(22122),v=e(28481),P=e(9475),o=e(67294),b=e(71577),U=e(73839);function c(O){return!!(O&&!!O.then)}var g=function(_){var d=o.useRef(!1),h=o.useRef(null),p=(0,P.Z)(!1),l=(0,v.Z)(p,2),f=l[0],u=l[1],s=_.close,t=function(){s==null||s.apply(void 0,arguments)};o.useEffect(function(){var I=null;return _.autoFocus&&(I=setTimeout(function(){var C;(C=h.current)===null||C===void 0||C.focus()})),function(){I&&clearTimeout(I)}},[]);var r=function(C){!c(C)||(u(!0),C.then(function(){u(!1,!0),t.apply(void 0,arguments),d.current=!1},function(T){console.error(T),u(!1,!0),d.current=!1}))},y=function(C){var T=_.actionFn;if(!d.current){if(d.current=!0,!T){t();return}var L;if(_.emitEvent){if(L=T(C),_.quitOnNullishReturnValue&&!c(L)){d.current=!1,t(C);return}}else if(T.length)L=T(s),d.current=!1;else if(L=T(),!L){t();return}r(L)}},W=_.type,S=_.children,D=_.prefixCls,Q=_.buttonProps;return o.createElement(b.Z,(0,m.Z)({},(0,U.n)(W),{onClick:y,loading:f,prefixCls:D},Q,{ref:h}),S)};E.Z=g},5467:function(j,E,e){"use strict";e.d(E,{Z:function(){return m}});function m(v){return Object.keys(v).reduce(function(P,o){return(o.startsWith("data-")||o.startsWith("aria-")||o==="role")&&!o.startsWith("data-__")&&(P[o]=v[o]),P},{})}},91508:function(j,E,e){"use strict";e.d(E,{w:function(){return P},Ag:function(){return o},IH:function(){return b}});var m=e(67294),v=m.createContext(null),P=v.Provider;E.ZP=v;var o=m.createContext(null),b=o.Provider},99692:function(j,E,e){"use strict";var m=e(22122),v=e(96156),P=e(28481),o=e(94184),b=e.n(o),U=e(5663),c=e(67294),g=e(53124),O=e(97647),_=e(5467),d=e(91508),h=e(21846),p=c.forwardRef(function(l,f){var u,s=c.useContext(g.E_),t=s.getPrefixCls,r=s.direction,y=c.useContext(O.Z),W=(0,U.Z)(l.defaultValue,{value:l.value}),S=(0,P.Z)(W,2),D=S[0],Q=S[1],I=function(ne){var ue=D,B=ne.target.value;"value"in l||Q(B);var i=l.onChange;i&&B!==ue&&i(ne)},C=l.prefixCls,T=l.className,L=T===void 0?"":T,G=l.options,J=l.buttonStyle,$=J===void 0?"outline":J,X=l.disabled,V=l.children,te=l.size,H=l.style,N=l.id,M=l.onMouseEnter,ee=l.onMouseLeave,z=l.onFocus,a=l.onBlur,K=t("radio",C),R="".concat(K,"-group"),w=V;G&&G.length>0&&(w=G.map(function(Z){return typeof Z=="string"||typeof Z=="number"?c.createElement(h.Z,{key:Z.toString(),prefixCls:K,disabled:X,value:Z,checked:D===Z},Z):c.createElement(h.Z,{key:"radio-group-value-options-".concat(Z.value),prefixCls:K,disabled:Z.disabled||X,value:Z.value,checked:D===Z.value,style:Z.style},Z.label)}));var Y=te||y,oe=b()(R,"".concat(R,"-").concat($),(u={},(0,v.Z)(u,"".concat(R,"-").concat(Y),Y),(0,v.Z)(u,"".concat(R,"-rtl"),r==="rtl"),u),L);return c.createElement("div",(0,m.Z)({},(0,_.Z)(l),{className:oe,style:H,onMouseEnter:M,onMouseLeave:ee,onFocus:z,onBlur:a,id:N,ref:f}),c.createElement(d.w,{value:{onChange:I,value:D,disabled:l.disabled,name:l.name,optionType:l.optionType}},w))});E.Z=c.memo(p)},55742:function(j,E,e){"use strict";var m=e(99692),v=e(21846),P=e(16984),o=v.Z;o.Button=P.Z,o.Group=m.Z,o.__ANT_RADIO=!0,E.ZP=o},21846:function(j,E,e){"use strict";var m=e(96156),v=e(22122),P=e(94184),o=e.n(P),b=e(45947),U=e(17799),c=e(67294),g=e(53124),O=e(98866),_=e(65223),d=e(91508),h=function(f,u){var s={};for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&u.indexOf(t)<0&&(s[t]=f[t]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(f);r<t.length;r++)u.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(f,t[r])&&(s[t[r]]=f[t[r]]);return s},p=function(u,s){var t,r=c.useContext(d.ZP),y=c.useContext(d.Ag),W=c.useContext(g.E_),S=W.getPrefixCls,D=W.direction,Q=c.useRef(),I=(0,U.sQ)(s,Q),C=(0,c.useContext)(_.aM),T=C.isFormItemInput,L=function(K){var R,w;(R=u.onChange)===null||R===void 0||R.call(u,K),(w=r==null?void 0:r.onChange)===null||w===void 0||w.call(r,K)},G=u.prefixCls,J=u.className,$=u.children,X=u.style,V=u.disabled,te=h(u,["prefixCls","className","children","style","disabled"]),H=S("radio",G),N=((r==null?void 0:r.optionType)||y)==="button"?"".concat(H,"-button"):H,M=(0,v.Z)({},te),ee=c.useContext(O.Z);M.disabled=V||ee,r&&(M.name=r.name,M.onChange=L,M.checked=u.value===r.value,M.disabled=M.disabled||r.disabled);var z=o()("".concat(N,"-wrapper"),(t={},(0,m.Z)(t,"".concat(N,"-wrapper-checked"),M.checked),(0,m.Z)(t,"".concat(N,"-wrapper-disabled"),M.disabled),(0,m.Z)(t,"".concat(N,"-wrapper-rtl"),D==="rtl"),(0,m.Z)(t,"".concat(N,"-wrapper-in-form-item"),T),t),J);return c.createElement("label",{className:z,style:X,onMouseEnter:u.onMouseEnter,onMouseLeave:u.onMouseLeave},c.createElement(b.Z,(0,v.Z)({},M,{type:"radio",prefixCls:N,ref:I})),$!==void 0?c.createElement("span",null,$):null)},l=c.forwardRef(p);E.Z=l},16984:function(j,E,e){"use strict";var m=e(22122),v=e(67294),P=e(53124),o=e(91508),b=e(21846),U=function(g,O){var _={};for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&O.indexOf(d)<0&&(_[d]=g[d]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,d=Object.getOwnPropertySymbols(g);h<d.length;h++)O.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(g,d[h])&&(_[d[h]]=g[d[h]]);return _},c=function(O,_){var d=v.useContext(P.E_),h=d.getPrefixCls,p=O.prefixCls,l=U(O,["prefixCls"]),f=h("radio",p);return v.createElement(o.IH,{value:"button"},v.createElement(b.Z,(0,m.Z)({prefixCls:f},l,{type:"radio",ref:_})))};E.Z=v.forwardRef(c)},88983:function(j,E,e){"use strict";var m=e(38663),v=e.n(m),P=e(44943),o=e.n(P)},45947:function(j,E,e){"use strict";var m=e(22122),v=e(96156),P=e(81253),o=e(28991),b=e(6610),U=e(5991),c=e(10379),g=e(44144),O=e(67294),_=e(94184),d=e.n(_),h=function(p){(0,c.Z)(f,p);var l=(0,g.Z)(f);function f(u){var s;(0,b.Z)(this,f),s=l.call(this,u),s.handleChange=function(r){var y=s.props,W=y.disabled,S=y.onChange;W||("checked"in s.props||s.setState({checked:r.target.checked}),S&&S({target:(0,o.Z)((0,o.Z)({},s.props),{},{checked:r.target.checked}),stopPropagation:function(){r.stopPropagation()},preventDefault:function(){r.preventDefault()},nativeEvent:r.nativeEvent}))},s.saveInput=function(r){s.input=r};var t="checked"in u?u.checked:u.defaultChecked;return s.state={checked:t},s}return(0,U.Z)(f,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var s,t=this.props,r=t.prefixCls,y=t.className,W=t.style,S=t.name,D=t.id,Q=t.type,I=t.disabled,C=t.readOnly,T=t.tabIndex,L=t.onClick,G=t.onFocus,J=t.onBlur,$=t.onKeyDown,X=t.onKeyPress,V=t.onKeyUp,te=t.autoFocus,H=t.value,N=t.required,M=(0,P.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),ee=Object.keys(M).reduce(function(K,R){return(R.substr(0,5)==="aria-"||R.substr(0,5)==="data-"||R==="role")&&(K[R]=M[R]),K},{}),z=this.state.checked,a=d()(r,y,(s={},(0,v.Z)(s,"".concat(r,"-checked"),z),(0,v.Z)(s,"".concat(r,"-disabled"),I),s));return O.createElement("span",{className:a,style:W},O.createElement("input",(0,m.Z)({name:S,id:D,type:Q,required:N,readOnly:C,disabled:I,tabIndex:T,className:"".concat(r,"-input"),checked:!!z,onClick:L,onFocus:G,onBlur:J,onKeyUp:V,onKeyDown:$,onKeyPress:X,onChange:this.handleChange,autoFocus:te,ref:this.saveInput,value:H},ee)),O.createElement("span",{className:"".concat(r,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(s,t){return"checked"in s?(0,o.Z)((0,o.Z)({},t),{},{checked:s.checked}):null}}]),f}(O.Component);h.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},E.Z=h}}]);
