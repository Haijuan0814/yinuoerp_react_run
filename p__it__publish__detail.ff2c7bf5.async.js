(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8680],{7762:function(B,R,e){"use strict";e.r(R);var s=e(18446),T=e(90860),v=e(58024),i=e(91894),c=e(39428),j=e(3182),g=e(20136),U=e(55241),P=e(94233),u=e(51890),l=e(2824),C=e(2521),D=e(67294),A=e(75362),I=e(36653),M=e(73316),m=e(30381),r=e.n(m),n=e(85893),f=function(L){var d=L.match.params.id,y=(0,D.useState)({}),h=(0,l.Z)(y,2),o=h[0],p=h[1],O=(0,C.QT)(M.dM,{manual:!0,onSuccess:function(a,_){p(a.row)}}),Z=O.run;(0,D.useEffect)(function(){Z({id:d})},[]);var K=(0,C.QT)(M.v$,{manual:!0,onSuccess:function(a,_){message.success("\u64CD\u4F5C\u6210\u529F"),Z({id:d})}}),b=K.run,S=function(a){b({id:a.id})},x=[{title:"\u4EA7\u54C1",dataIndex:"product",render:function(a,_){var W=a;return(0,n.jsxs)("span",{children:[(0,n.jsx)(u.C,{src:W.avatar,shape:"square",size:"small"})," \xA0\xA0",W.name]})},search:!1},{title:"\u7248\u672C",dataIndex:"v1",render:function(a,_){return(0,n.jsxs)("span",{children:[" V",_.v1,".",_.v2,".",_.v3," "]})},search:!1},{title:"\u66F4\u65B0",dataIndex:"is_forceupdate",hideInForm:!0,valueEnum:{0:{text:"\u4E0D\u5F3A\u5236\u66F4\u65B0",status:"Processing"},1:{text:"\u5F3A\u5236\u66F4\u65B0",status:"Warning"}}},{title:"\u5E9F\u5F03",dataIndex:"is_delete",hideInForm:!0,valueEnum:{0:{text:"\u6B63\u5E38",status:"Success"},1:{text:"\u5DF2\u5E9F\u5F03",status:"Error"}}},{title:"\u521B\u5EFA\u4EBA",dataIndex:"insert_user"},{title:"\u5173\u8054\u4EBA",dataIndex:"related_uids",render:function(a,_){var W=a?Object.values(a):{};return(0,n.jsx)("span",{children:W.length>0?(0,n.jsxs)(U.Z,{content:_.related_user,trigger:"hover",children:[W.length,"\u4EBA"]}):""})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"insert_time",render:function(a){return(0,n.jsxs)("span",{children:[a>0?r()(parseInt(a)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}},{title:"\u521B\u5EFA\u4EBA",dataIndex:"insert_user"},{title:"\u6700\u8FD1\u66F4\u65B0",sorter:!0,dataIndex:"update_time",render:function(a){return(0,n.jsxs)("span",{children:[a>0?r()(parseInt(a)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})},search:!1},{title:"\u53D1\u5E03\u5185\u5BB9",dataIndex:"content",render:function(a){return(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:a?a.replaceAll(`
`,"<br />"):"\u6682\u65E0\u5185\u5BB9"}})}},{title:"Apple\u4E0B\u8F7D\u5730\u5740",dataIndex:"apple_url"},{title:"Android\u5B89\u88C5\u5305\u5730\u5740",dataIndex:"android_apk"}];return o.id>0?(0,n.jsx)(A.ZP,{children:(0,n.jsx)(i.Z,{bordered:!1,children:(0,n.jsx)(I.ZP,{column:1,request:(0,j.Z)((0,c.Z)().mark(function E(){return(0,c.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",{data:o});case 1:case"end":return _.stop()}},E)})),columns:x})})}):(0,n.jsx)(T.Z,{active:!0})};R.default=f},73316:function(B,R,e){"use strict";e.d(R,{gp:function(){return j},dM:function(){return U},R2:function(){return u},v$:function(){return A},sc:function(){return M}});var s=e(39428),T=e(11849),v=e(3182),i=e(2521),c=e(43237);function j(r,n){return g.apply(this,arguments)}function g(){return g=(0,v.Z)((0,s.Z)().mark(function r(n,f){var t;return(0,s.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,i.WY)(c.h+"it/publish/index",(0,T.Z)({method:"GET",params:(0,T.Z)({},n)},f||{}));case 2:return t=d.sent,d.abrupt("return",{data:t.data,success:t.success,total:t.data.total,pageSize:t.data.pageSize,current:t.data.current});case 4:case"end":return d.stop()}},r)})),g.apply(this,arguments)}function U(r){return P.apply(this,arguments)}function P(){return P=(0,v.Z)((0,s.Z)().mark(function r(n){return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.WY)(c.h+"it/publish/detail",{params:n}));case 1:case"end":return t.stop()}},r)})),P.apply(this,arguments)}function u(r){return l.apply(this,arguments)}function l(){return l=(0,v.Z)((0,s.Z)().mark(function r(n){return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.WY)(c.h+"it/publish/form",{method:"POST",data:n}));case 1:case"end":return t.stop()}},r)})),l.apply(this,arguments)}function C(r){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request(api+"it/publish/finish",{params:n}));case 1:case"end":return t.stop()}},r)})),D.apply(this,arguments)}function A(r){return I.apply(this,arguments)}function I(){return I=(0,v.Z)((0,s.Z)().mark(function r(n){return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.WY)(c.h+"it/publish/delete",{params:n}));case 1:case"end":return t.stop()}},r)})),I.apply(this,arguments)}function M(r){return m.apply(this,arguments)}function m(){return m=(0,v.Z)((0,s.Z)().mark(function r(n){return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.WY)(c.h+"it/publish/productVersion",{params:n}));case 1:case"end":return t.stop()}},r)})),m.apply(this,arguments)}},86743:function(B,R,e){"use strict";var s=e(22122),T=e(28481),v=e(9475),i=e(67294),c=e(71577),j=e(73839);function g(P){return!!(P&&!!P.then)}var U=function(u){var l=i.useRef(!1),C=i.useRef(null),D=(0,v.Z)(!1),A=(0,T.Z)(D,2),I=A[0],M=A[1],m=u.close,r=function(){m==null||m.apply(void 0,arguments)};i.useEffect(function(){var h=null;return u.autoFocus&&(h=setTimeout(function(){var o;(o=C.current)===null||o===void 0||o.focus()})),function(){h&&clearTimeout(h)}},[]);var n=function(o){!g(o)||(M(!0),o.then(function(){M(!1,!0),r.apply(void 0,arguments),l.current=!1},function(p){console.error(p),M(!1,!0),l.current=!1}))},f=function(o){var p=u.actionFn;if(!l.current){if(l.current=!0,!p){r();return}var O;if(u.emitEvent){if(O=p(o),u.quitOnNullishReturnValue&&!g(O)){l.current=!1,r(o);return}}else if(p.length)O=p(m),l.current=!1;else if(O=p(),!O){r();return}n(O)}},t=u.type,L=u.children,d=u.prefixCls,y=u.buttonProps;return i.createElement(c.Z,(0,s.Z)({},(0,j.n)(t),{onClick:f,loading:I,prefixCls:d},y,{ref:C}),L)};R.Z=U}}]);
