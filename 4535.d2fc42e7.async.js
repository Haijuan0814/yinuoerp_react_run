(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4535],{64139:function(){},80877:function(V,x,e){"use strict";e.d(x,{Z:function(){return X}});var L=e(57663),g=e(71577),Z=e(9715),y=e(55843),a=e(47673),_=e(4107),I=e(54421),O=e(38272),D=e(60663),h=e(31990),M=e(2824),r=e(67294),s=e(2521),z=e(30381),U=e(39428),b=e(11849),B=e(3182),R=e(43237);function N(v,i){return C.apply(this,arguments)}function C(){return C=(0,B.Z)((0,U.Z)().mark(function v(i,E){var o,c;return(0,U.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return o=R.h+"base/comment/index",S.next=3,(0,s.WY)(o,{method:"GET",params:(0,b.Z)({},i)});case 3:return c=S.sent,S.abrupt("return",{data:c.data,success:c.success});case 5:case"end":return S.stop()}},v)})),C.apply(this,arguments)}function T(v){return j.apply(this,arguments)}function j(){return j=(0,B.Z)((0,U.Z)().mark(function v(i){var E;return(0,U.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return E=R.h+"base/comment/save",c.abrupt("return",(0,s.WY)(E,{method:"POST",data:i}));case 2:case"end":return c.stop()}},v)})),j.apply(this,arguments)}function Q(v){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function v(i){var E;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return E=api+"it/"+i.tablename+"/form",c.abrupt("return",request(E,{method:"POST",data:i}));case 2:case"end":return c.stop()}},v)})),m.apply(this,arguments)}function J(v){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function v(i){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request(api+"it/think/form",_objectSpread({method:"DELETE"},i||{})));case 1:case"end":return o.stop()}},v)})),A.apply(this,arguments)}var P=e(85893),n=function(i){var E=i.tablename,o=i.tableid,c=i.isEdit,w=i.isShowContent,S=(0,r.useState)([]),F=(0,M.Z)(S,2),d=F[0],se=F[1],k=(0,s.QT)(N,{manual:!0,onSuccess:function(l,H){var $=l.rows,K=[];$.map(function(W){W.tableid==o&&K.push(W)}),se(K)}}),q=k.run;(0,r.useEffect)(function(){q({tablename:E,tableid:o})},[]);var de=(0,r.useState)(!1),ee=(0,M.Z)(de,2),oe=ee[0],te=ee[1],ue=(0,r.useState)(""),ne=(0,M.Z)(ue,2),ae=ne[0],Y=ne[1],le=(0,s.QT)(function(p){return T(p)},{manual:!0,onSuccess:function(l){te(!1),Y(""),q({tablename:E,tableid:o})}}),G=le.run,ie=function(l){Y(l.target.value)},re=function(){te(!0);var l={content:ae,tablename:E,tableid:o,parent:0};G(l)},ce=function(l){if(l.indexOf("http")!=-1){var H=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,$=l.replace(H,function(W){return'<a href="'+W+'" target=_blank>'+W+"</a>"}),K={__html:$.replaceAll(`
`,"<br />")};return(0,P.jsx)("div",{dangerouslySetInnerHTML:K})}else return(0,P.jsx)("div",{dangerouslySetInnerHTML:{__html:l.replaceAll(`
`,"<br />")}})};return(0,P.jsxs)("div",{children:[d.length>0?(0,P.jsx)(O.ZP,{className:"comment-list",itemLayout:"horizontal",dataSource:d,renderItem:function(l){return(0,P.jsx)("li",{children:(0,P.jsx)(h.Z,{actions:l.actions,author:l.user.name,avatar:l.user.avatar,content:ce(l.content),datetime:l.insert_time})})}}):"",c?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(y.Z.Item,{children:(0,P.jsx)(_.Z.TextArea,{rows:2,onChange:function(l){return ie(l)},value:ae,className:"comment_textarea___hnYGe",style:{height:"70px"}})}),(0,P.jsx)(y.Z.Item,{children:(0,P.jsx)(g.Z,{htmlType:"submit",loading:oe,onClick:function(){return re()},type:"primary",children:"\u53D1\u8868\u8BC4\u8BBA"})})]}):""]})},X=n},73836:function(V,x,e){"use strict";var L=e(58024),g=e(91894),Z=e(48736),y=e(27049),a=e(20136),_=e(55241),I=e(39428),O=e(3182),D=e(57663),h=e(71577),M=e(18446),r=e(90860),s=e(2824),z=e(402),U=e(97272),b=e(92977),B=e(18267),R=e(75362),N=e(36653),C=e(2521),T=e(67294),j=e(66822),Q=e(722),m=e(80877),J=e(30381),A=e.n(J),P=e(97),n=e(85893),X=U.Z.Paragraph,v=function(E){var o=E.tablename,c=E.module,w=E.id,S=(0,T.useState)({}),F=(0,s.Z)(S,2),d=F[0],se=F[1],k=(0,C.tT)("@@initialState"),q=k.initialState,de=k.setInitialState,ee=q.currentUser,oe=(0,C.QT)(j.dM,{manual:!0,onSuccess:function(t,f){se(t.row)}}),te=oe.run;(0,T.useEffect)(function(){te({tablename:o,id:w})},[]);var ue=function(t){if(t){var f=c?"/it/".concat(c,"/").concat(o,"/edit/").concat(t.id):"/it/".concat(o,"/edit/").concat(t.id);C.m8.push({pathname:f})}},ne=function(t){if(t.length>1)return t.map(function(f){return(0,n.jsx)("p",{children:f.name})})},ae=(0,T.useState)(!1),Y=(0,s.Z)(ae,2),le=Y[0],G=Y[1],ie=(0,T.useState)("related"),re=(0,s.Z)(ie,2),ce=re[0],p=re[1],l=(0,T.useState)("\u5173\u8054\u4EBA\u5458"),H=(0,s.Z)(l,2),$=H[0],K=H[1],W=function(){G(!0)},_e=function(t,f){p(t),K(f),W()},ve=function(t){console.log(t),G(!1),he(t)},Ee=function(t){G(!1)},fe=(0,C.QT)(function(u){return u.tablename=o,u.id=w,u.field=ce,(0,j.ko)(u)},{manual:!0,onSuccess:function(t){location.reload()}}),he=fe.run,Pe=!d.id;return Pe?(0,n.jsx)(r.Z,{active:!0}):(0,n.jsxs)(R.ZP,{title:d==null?void 0:d.title,extra:ee.id==d.insert_uid?[(0,n.jsx)(h.Z,{type:"primary",onClick:function(){ue(d)},children:"\u7F16\u8F91\u6587\u6863"})]:"",content:(0,n.jsx)(N.ZP,{column:{xs:1,sm:2,md:3},request:(0,O.Z)((0,I.Z)().mark(function u(){return(0,I.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",{data:d||{}});case 1:case"end":return f.stop()}},u)})),params:{id:d==null?void 0:d.id},columns:[{title:"\u521B\u5EFA\u4EBA",dataIndex:"insert_user"},{title:"\u6240\u5C5E\u4EA7\u54C1",dataIndex:"products",column:2,render:function(t){var f=Object.values(t),me=f[0],De=ne(f);return(0,n.jsxs)("span",{children:[me.name,f.length>1?(0,n.jsx)(_.Z,{content:De,trigger:"hover",children:(0,n.jsx)(b.Z,{style:{color:"#1890ff"}})}):""]})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"insert_time",render:function(t){return(0,n.jsxs)("span",{children:[t>0?A()(parseInt(t)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}},{title:"\u5904\u7406\u4EBA",dataIndex:"deal_user",render:function(t){return(0,n.jsxs)("span",{children:[t," ",(0,n.jsx)("a",{onClick:function(){return _e("deal_uids","\u5904\u7406\u4EBA\u5458")},children:(0,n.jsx)(B.Z,{})})]})}},{title:"\u5904\u7406\u72B6\u6001",dataIndex:"status",render:function(t){return(0,n.jsx)(Q.Z,{tablename:o,statusVal:t,id:d.id,row:d})}},{title:"\u6700\u540E\u66F4\u65B0",dataIndex:"update_time",render:function(t){return(0,n.jsxs)("span",{children:[t>0?A()(parseInt(t)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}},{title:"\u5173\u8054\u4EBA",dataIndex:"related_user",render:function(t,f){return(0,n.jsxs)("span",{children:[t," ",(0,n.jsx)("a",{onClick:function(){return _e("related_uids","\u5173\u8054\u4EBA")},children:(0,n.jsx)(B.Z,{})})]})}},{title:"\u8BA1\u5212\u65F6\u95F4",dataIndex:"date"}]}),children:[(0,n.jsxs)(g.Z,{children:[(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:d.content?d.content:"\u6682\u65E0\u5185\u5BB9"},className:"editorDetail"}),(0,n.jsx)(y.Z,{}),(0,n.jsx)(m.Z,{tablename:"it_"+o,tableid:d.id,isEdit:!0})]}),(0,n.jsx)(P.Z,{visible:le,onSubmit:ve,userlabel:$,onCancel:Ee})]})};x.Z=v},31990:function(V,x,e){"use strict";var L=e(22122),g=e(96156),Z=e(94184),y=e.n(Z),a=e(67294),_=e(53124),I=function(D,h){var M={};for(var r in D)Object.prototype.hasOwnProperty.call(D,r)&&h.indexOf(r)<0&&(M[r]=D[r]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(D);s<r.length;s++)h.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(D,r[s])&&(M[r[s]]=D[r[s]]);return M},O=function(h){var M=h.actions,r=h.author,s=h.avatar,z=h.children,U=h.className,b=h.content,B=h.prefixCls,R=h.datetime,N=I(h,["actions","author","avatar","children","className","content","prefixCls","datetime"]),C=a.useContext(_.E_),T=C.getPrefixCls,j=C.direction,Q=function(i,E){return a.createElement("div",{className:y()("".concat(i,"-nested"))},E)},m=T("comment",B),J=s?a.createElement("div",{className:"".concat(m,"-avatar")},typeof s=="string"?a.createElement("img",{src:s,alt:"comment-avatar"}):s):null,A=M&&M.length?a.createElement("ul",{className:"".concat(m,"-actions")},M.map(function(v,i){return a.createElement("li",{key:"action-".concat(i)},v)})):null,P=(r||R)&&a.createElement("div",{className:"".concat(m,"-content-author")},r&&a.createElement("span",{className:"".concat(m,"-content-author-name")},r),R&&a.createElement("span",{className:"".concat(m,"-content-author-time")},R)),n=a.createElement("div",{className:"".concat(m,"-content")},P,a.createElement("div",{className:"".concat(m,"-content-detail")},b),A),X=y()(m,(0,g.Z)({},"".concat(m,"-rtl"),j==="rtl"),U);return a.createElement("div",(0,L.Z)({},N,{className:X}),a.createElement("div",{className:"".concat(m,"-inner")},J,n),z?Q(m,z):null)};x.Z=O},60663:function(V,x,e){"use strict";var L=e(38663),g=e.n(L),Z=e(64139),y=e.n(Z)},58083:function(V,x,e){"use strict";e.d(x,{G:function(){return y}});var L=e(70526),g=function(_){if((0,L.Z)()&&window.document.documentElement){var I=Array.isArray(_)?_:[_],O=window.document.documentElement;return I.some(function(D){return D in O.style})}return!1},Z=function(_,I){if(!g(_))return!1;var O=document.createElement("div"),D=O.style[_];return O.style[_]=I,O.style[_]!==D};function y(a,_){return!Array.isArray(a)&&_!==void 0?Z(a,_):g(a)}}}]);
