(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9459],{99165:function(b,x,e){"use strict";e.d(x,{Z:function(){return I}});var r=e(28991),m=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},f=g,s=e(27029),l=function(u,o){return m.createElement(s.Z,(0,r.Z)((0,r.Z)({},u),{},{ref:o,icon:f}))};l.displayName="CopyOutlined";var I=m.forwardRef(l)},73171:function(b,x,e){"use strict";e.d(x,{Z:function(){return I}});var r=e(28991),m=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},f=g,s=e(27029),l=function(u,o){return m.createElement(s.Z,(0,r.Z)((0,r.Z)({},u),{},{ref:o,icon:f}))};l.displayName="DeleteOutlined";var I=m.forwardRef(l)},54977:function(b,x,e){"use strict";e.d(x,{Z:function(){return I}});var r=e(28991),m=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},f=g,s=e(27029),l=function(u,o){return m.createElement(s.Z,(0,r.Z)((0,r.Z)({},u),{},{ref:o,icon:f}))};l.displayName="FormOutlined";var I=m.forwardRef(l)},39930:function(b){b.exports={cardList:"cardList___Thdjy",card:"card___14fEj",item:"item___1BNC4",extraImg:"extraImg___t3H5c",newButton:"newButton___qK3FL",cardAvatar:"cardAvatar___16HsC",cardDescription:"cardDescription___37iEd",pageHeaderContent:"pageHeaderContent___1uYiS",contentLink:"contentLink___2msPM",standardList:"standardList___gd8l2",headerInfo:"headerInfo___20RuN",listContent:"listContent___1-Q5f",listContentItem:"listContentItem___2cbtP",extraContentSearch:"extraContentSearch___3_5Na",extraContentButton:"extraContentButton___r7t3a",listCard:"listCard___3Wq1E",standardListForm:"standardListForm___1Ztjq",formResult:"formResult___3RuK_"}},64139:function(){},13277:function(){},80877:function(b,x,e){"use strict";e.d(x,{Z:function(){return z}});var r=e(57663),m=e(71577),g=e(9715),f=e(55843),s=e(47673),l=e(4107),I=e(54421),c=e(38272),u=e(60663),o=e(31990),S=e(2824),_=e(67294),O=e(2521),T=e(30381),Z=e(39428),L=e(11849),E=e(3182),A=e(43237);function H(d,v){return N.apply(this,arguments)}function N(){return N=(0,E.Z)((0,Z.Z)().mark(function d(v,t){var D,R;return(0,Z.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return D=A.h+"base/comment/index",U.next=3,(0,O.WY)(D,{method:"GET",params:(0,L.Z)({},v)});case 3:return R=U.sent,U.abrupt("return",{data:R.data,success:R.success});case 5:case"end":return U.stop()}},d)})),N.apply(this,arguments)}function P(d){return i.apply(this,arguments)}function i(){return i=(0,E.Z)((0,Z.Z)().mark(function d(v){var t;return(0,Z.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return t=A.h+"base/comment/save",R.abrupt("return",(0,O.WY)(t,{method:"POST",data:v}));case 2:case"end":return R.stop()}},d)})),i.apply(this,arguments)}function h(d){return n.apply(this,arguments)}function n(){return n=_asyncToGenerator(_regeneratorRuntime().mark(function d(v){var t;return _regeneratorRuntime().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return t=api+"it/"+v.tablename+"/form",R.abrupt("return",request(t,{method:"POST",data:v}));case 2:case"end":return R.stop()}},d)})),n.apply(this,arguments)}function y(d){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function d(v){return _regeneratorRuntime().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",request(api+"it/think/form",_objectSpread({method:"DELETE"},v||{})));case 1:case"end":return D.stop()}},d)})),K.apply(this,arguments)}var M=e(85893),B=function(v){var t=v.tablename,D=v.tableid,R=v.isEdit,F=v.isShowContent,U=(0,_.useState)([]),$=(0,S.Z)(U,2),te=$[0],ue=$[1],w=(0,O.QT)(H,{manual:!0,onSuccess:function(C,me){var ce=C.rows,k=[];ce.map(function(V){V.tableid==D&&k.push(V)}),ue(k)}}),ne=w.run;(0,_.useEffect)(function(){ne({tablename:t,tableid:D})},[]);var se=(0,_.useState)(!1),Y=(0,S.Z)(se,2),oe=Y[0],G=Y[1],p=(0,_.useState)(""),ae=(0,S.Z)(p,2),Q=ae[0],J=ae[1],de=(0,O.QT)(function(W){return P(W)},{manual:!0,onSuccess:function(C){G(!1),J(""),ne({tablename:t,tableid:D})}}),le=de.run,re=function(C){J(C.target.value)},ie=function(){G(!0);var C={content:Q,tablename:t,tableid:D,parent:0};le(C)},X=function(C){if(C.indexOf("http")!=-1){var me=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,ce=C.replace(me,function(V){return'<a href="'+V+'" target=_blank>'+V+"</a>"}),k={__html:ce.replaceAll(`
`,"<br />")};return(0,M.jsx)("div",{dangerouslySetInnerHTML:k})}else return(0,M.jsx)("div",{dangerouslySetInnerHTML:{__html:C.replaceAll(`
`,"<br />")}})};return(0,M.jsxs)("div",{children:[te.length>0?(0,M.jsx)(c.ZP,{className:"comment-list",itemLayout:"horizontal",dataSource:te,renderItem:function(C){return(0,M.jsx)("li",{children:(0,M.jsx)(o.Z,{actions:C.actions,author:C.user.name,avatar:C.user.avatar,content:X(C.content),datetime:C.insert_time})})}}):"",R?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(f.Z.Item,{children:(0,M.jsx)(l.Z.TextArea,{rows:2,onChange:function(C){return re(C)},value:Q,className:"comment_textarea___hnYGe",style:{height:"70px"}})}),(0,M.jsx)(f.Z.Item,{children:(0,M.jsx)(m.Z,{htmlType:"submit",loading:oe,onClick:function(){return ie()},type:"primary",children:"\u53D1\u8868\u8BC4\u8BBA"})})]}):""]})},z=B},19426:function(b,x,e){"use strict";e.r(x);var r=e(18446),m=e(90860),g=e(58024),f=e(91894),s=e(48736),l=e(27049),I=e(62350),c=e(24565),u=e(98858),o=e(4914),S=e(71153),_=e(60331),O=e(34792),T=e(48086),Z=e(2824),L=e(18106),E=e(32267),A=e(402),H=e(97272),N=e(73171),P=e(54977),i=e(49101),h=e(2521),n=e(67294),y=e(75362),K=e(85805),M=e(30381),B=e.n(M),z=e(80877),d=e(39930),v=e.n(d),t=e(85893),D=H.Z.Paragraph,R=E.Z.TabPane,F=function($){var te=$.match.params.openid,ue=$.location.query.docId,w=(0,h.tT)("@@initialState"),ne=w.initialState,se=w.setInitialState,Y=ne.currentUser,oe=(0,n.useState)({}),G=(0,Z.Z)(oe,2),p=G[0],ae=G[1],Q=(0,n.useState)({}),J=(0,Z.Z)(Q,2),de=J[0],le=J[1],re=(0,h.QT)(K.dM,{manual:!0,onSuccess:function(j,a){ae(j.row),le({title:j.row.title,content:j.row.content})}}),ie=re.run;(0,n.useEffect)(function(){ie({openid:te})},[]);var X=function(j,a){j.id>0?h.m8.push({pathname:"/oa/docs/edit/".concat(j.openid),query:{parent:j.parent,from:$.location}}):h.m8.push({pathname:"/oa/docs/create",query:{parent:a,from:$.location}})},W=(0,h.QT)(K.v$,{manual:!0,onSuccess:function(j,a){T.default.success("\u64CD\u4F5C\u6210\u529F"),setTimeout(function(){h.m8.push({pathname:"/oa/docs"})},400)}}),C=W.run,me=function(j){C({openid:j.openid})},ce=function(j){var a=j.row;return(0,t.jsxs)(o.Z,{column:1,labelStyle:{color:"#868686"},children:[a&&a.tags?(0,t.jsx)(o.Z.Item,{children:a.tags.map(function(ee){return ee?(0,t.jsx)(_.Z,{children:ee},ee.toString()):""})}):"",(0,t.jsx)(o.Z.Item,{label:"\u4F5C\u8005",contentStyle:{color:"#868686"},children:a==null?void 0:a.insert_user}),a&&a.edit_users?(0,t.jsx)(o.Z.Item,{label:"\u5171\u540C\u7F16\u8F91",contentStyle:{color:"#868686"},children:a.edit_users}):"",a&&a.related_users?(0,t.jsx)(o.Z.Item,{label:"\u5173\u8054\u4EBA\u5458",contentStyle:{color:"#868686"},children:a.related_users}):"",(0,t.jsx)(o.Z.Item,{label:"\u521B\u5EFA\u65F6\u95F4",contentStyle:{color:"#868686"},children:(0,t.jsxs)("span",{children:[a&&a.insert_time>0?B()(parseInt(a.insert_time)*1e3).format("YYYY-MM-DD HH:mm"):"--"," "]})}),(0,t.jsx)(o.Z.Item,{label:"\u66F4\u65B0\u65F6\u95F4",contentStyle:{color:"#868686"},children:(0,t.jsxs)("span",{children:[a&&a.update_time>0?B()(parseInt(a.update_time)*1e3).format("YYYY-MM-DD HH:mm"):"--"," "]})})]})},k=function(j){var a=j.row;return(0,t.jsx)(c.Z,{title:"\u786E\u5B9A\u5220\u9664\u5F53\u524D\u6587\u6863\u5417\uFF1F",onConfirm:function(){return me(a)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,t.jsxs)("a",{style:{marginRight:"10px"},href:"#",children:[(0,t.jsx)(N.Z,{})," \u5220\u9664"]},"delete")})},V=function(j){var a=j.row;return(0,t.jsxs)("a",{type:"primary",onClick:function(){X(a,0)},children:[(0,t.jsx)(P.Z,{})," \u7F16\u8F91"]},"edit")},_e=function(j){var a=j.item,ee=j.isOption;return(0,t.jsxs)(f.Z,{title:ee?a.title:"",extra:a.edit_uids&&a.edit_uids.indexOf(Y.id)!=-1?[(0,t.jsx)(k,{row:a}),(0,t.jsx)(V,{row:a}),(0,t.jsxs)("a",{onClick:function(){X({},a.id)},children:[" ",(0,t.jsx)(i.Z,{})," \u65B0\u5EFA\u5B50\u6587\u6863"]})]:"",children:[(0,t.jsx)(H.Z,{style:{width:document.body.clientWidth-380},children:(0,t.jsx)(D,{style:{minHeight:"450px"},children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:a&&a.content?a.content:"\u6682\u65E0\u5185\u5BB9"},className:"editorDetail"})})}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(ce,{row:a},1)]})},ve=!(p&&p.id);return ve?(0,t.jsx)(m.Z,{active:!0}):(0,t.jsxs)(y.ZP,{header:{title:p==null?void 0:p.title,breadcrumb:{}},extra:Y.id==p.insert_uid||p.edit_uids&&p.edit_uids.indexOf(Y.id)!=-1?[(0,t.jsx)(k,{row:p}),(0,t.jsx)(V,{row:p})]:"",children:[(0,t.jsx)(_e,{item:p,isOption:!1}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(z.Z,{tablename:"oa_docs",tableid:p==null?void 0:p.openid,isEdit:!0})]})};x.default=F},85805:function(b,x,e){"use strict";e.d(x,{gp:function(){return l},R2:function(){return c},dM:function(){return o},v$:function(){return _}});var r=e(39428),m=e(11849),g=e(3182),f=e(2521),s=e(43237);function l(T){return I.apply(this,arguments)}function I(){return I=(0,g.Z)((0,r.Z)().mark(function T(Z){var L;return(0,r.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,f.WY)(s.h+"oa/docs/index",{method:"GET",params:(0,m.Z)({},Z)});case 2:return L=A.sent,A.abrupt("return",{data:L.data,success:L.success,total:L.data.total,pageSize:L.data.pageSize,current:L.data.current});case 4:case"end":return A.stop()}},T)})),I.apply(this,arguments)}function c(T){return u.apply(this,arguments)}function u(){return u=(0,g.Z)((0,r.Z)().mark(function T(Z){return(0,r.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,f.WY)(s.h+"oa/docs/form",{method:"POST",data:Z}));case 1:case"end":return E.stop()}},T)})),u.apply(this,arguments)}function o(T){return S.apply(this,arguments)}function S(){return S=(0,g.Z)((0,r.Z)().mark(function T(Z){return(0,r.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,f.WY)(s.h+"oa/docs/detail",{params:Z}));case 1:case"end":return E.stop()}},T)})),S.apply(this,arguments)}function _(T){return O.apply(this,arguments)}function O(){return O=(0,g.Z)((0,r.Z)().mark(function T(Z){return(0,r.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,f.WY)(s.h+"oa/docs/delete",{params:Z}));case 1:case"end":return E.stop()}},T)})),O.apply(this,arguments)}},31990:function(b,x,e){"use strict";var r=e(22122),m=e(96156),g=e(94184),f=e.n(g),s=e(67294),l=e(53124),I=function(u,o){var S={};for(var _ in u)Object.prototype.hasOwnProperty.call(u,_)&&o.indexOf(_)<0&&(S[_]=u[_]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,_=Object.getOwnPropertySymbols(u);O<_.length;O++)o.indexOf(_[O])<0&&Object.prototype.propertyIsEnumerable.call(u,_[O])&&(S[_[O]]=u[_[O]]);return S},c=function(o){var S=o.actions,_=o.author,O=o.avatar,T=o.children,Z=o.className,L=o.content,E=o.prefixCls,A=o.datetime,H=I(o,["actions","author","avatar","children","className","content","prefixCls","datetime"]),N=s.useContext(l.E_),P=N.getPrefixCls,i=N.direction,h=function(v,t){return s.createElement("div",{className:f()("".concat(v,"-nested"))},t)},n=P("comment",E),y=O?s.createElement("div",{className:"".concat(n,"-avatar")},typeof O=="string"?s.createElement("img",{src:O,alt:"comment-avatar"}):O):null,K=S&&S.length?s.createElement("ul",{className:"".concat(n,"-actions")},S.map(function(d,v){return s.createElement("li",{key:"action-".concat(v)},d)})):null,M=(_||A)&&s.createElement("div",{className:"".concat(n,"-content-author")},_&&s.createElement("span",{className:"".concat(n,"-content-author-name")},_),A&&s.createElement("span",{className:"".concat(n,"-content-author-time")},A)),B=s.createElement("div",{className:"".concat(n,"-content")},M,s.createElement("div",{className:"".concat(n,"-content-detail")},L),K),z=f()(n,(0,m.Z)({},"".concat(n,"-rtl"),i==="rtl"),Z);return s.createElement("div",(0,r.Z)({},H,{className:z}),s.createElement("div",{className:"".concat(n,"-inner")},y,B),T?h(n,T):null)};x.Z=c},60663:function(b,x,e){"use strict";var r=e(38663),m=e.n(r),g=e(64139),f=e.n(g)},60331:function(b,x,e){"use strict";e.d(x,{Z:function(){return N}});var r=e(96156),m=e(22122),g=e(28481),f=e(54549),s=e(94184),l=e.n(s),I=e(10366),c=e(67294),u=e(53124),o=e(98787),S=e(21790),_=function(P,i){var h={};for(var n in P)Object.prototype.hasOwnProperty.call(P,n)&&i.indexOf(n)<0&&(h[n]=P[n]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,n=Object.getOwnPropertySymbols(P);y<n.length;y++)i.indexOf(n[y])<0&&Object.prototype.propertyIsEnumerable.call(P,n[y])&&(h[n[y]]=P[n[y]]);return h},O=function(i){var h,n=i.prefixCls,y=i.className,K=i.checked,M=i.onChange,B=i.onClick,z=_(i,["prefixCls","className","checked","onChange","onClick"]),d=c.useContext(u.E_),v=d.getPrefixCls,t=function(U){M==null||M(!K),B==null||B(U)},D=v("tag",n),R=l()(D,(h={},(0,r.Z)(h,"".concat(D,"-checkable"),!0),(0,r.Z)(h,"".concat(D,"-checkable-checked"),K),h),y);return c.createElement("span",(0,m.Z)({},z,{className:R,onClick:t}))},T=O,Z=function(P,i){var h={};for(var n in P)Object.prototype.hasOwnProperty.call(P,n)&&i.indexOf(n)<0&&(h[n]=P[n]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,n=Object.getOwnPropertySymbols(P);y<n.length;y++)i.indexOf(n[y])<0&&Object.prototype.propertyIsEnumerable.call(P,n[y])&&(h[n[y]]=P[n[y]]);return h},L=new RegExp("^(".concat(o.Y.join("|"),")(-inverse)?$")),E=new RegExp("^(".concat(o.E.join("|"),")$")),A=function(i,h){var n,y=i.prefixCls,K=i.className,M=i.style,B=i.children,z=i.icon,d=i.color,v=i.onClose,t=i.closeIcon,D=i.closable,R=D===void 0?!1:D,F=Z(i,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),U=c.useContext(u.E_),$=U.getPrefixCls,te=U.direction,ue=c.useState(!0),w=(0,g.Z)(ue,2),ne=w[0],se=w[1];c.useEffect(function(){"visible"in F&&se(F.visible)},[F.visible]);var Y=function(){return d?L.test(d)||E.test(d):!1},oe=(0,m.Z)({backgroundColor:d&&!Y()?d:void 0},M),G=Y(),p=$("tag",y),ae=l()(p,(n={},(0,r.Z)(n,"".concat(p,"-").concat(d),G),(0,r.Z)(n,"".concat(p,"-has-color"),d&&!G),(0,r.Z)(n,"".concat(p,"-hidden"),!ne),(0,r.Z)(n,"".concat(p,"-rtl"),te==="rtl"),n),K),Q=function(C){C.stopPropagation(),v==null||v(C),!C.defaultPrevented&&("visible"in F||se(!1))},J=function(){return R?t?c.createElement("span",{className:"".concat(p,"-close-icon"),onClick:Q},t):c.createElement(f.Z,{className:"".concat(p,"-close-icon"),onClick:Q}):null},de="onClick"in F||B&&B.type==="a",le=(0,I.Z)(F,["visible"]),re=z||null,ie=re?c.createElement(c.Fragment,null,re,c.createElement("span",null,B)):B,X=c.createElement("span",(0,m.Z)({},le,{ref:h,className:ae,style:oe}),ie,J());return de?c.createElement(S.Z,null,X):X},H=c.forwardRef(A);H.CheckableTag=T;var N=H},71153:function(b,x,e){"use strict";var r=e(38663),m=e.n(r),g=e(13277),f=e.n(g)},58083:function(b,x,e){"use strict";e.d(x,{G:function(){return f}});var r=e(70526),m=function(l){if((0,r.Z)()&&window.document.documentElement){var I=Array.isArray(l)?l:[l],c=window.document.documentElement;return I.some(function(u){return u in c.style})}return!1},g=function(l,I){if(!m(l))return!1;var c=document.createElement("div"),u=c.style[l];return c.style[l]=I,c.style[l]!==u};function f(s,l){return!Array.isArray(s)&&l!==void 0?g(s,l):m(s)}}}]);
