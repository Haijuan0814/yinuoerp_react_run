(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5955],{31199:function(b,M,e){"use strict";var i=e(28991),E=e(81253),_=e(85893),f=e(67294),P=e(39863),O=["fieldProps","min","proFieldProps","max"],g=function(p,h){var s=p.fieldProps,y=p.min,Z=p.proFieldProps,l=p.max,t=(0,E.Z)(p,O);return(0,_.jsx)(P.Z,(0,i.Z)({valueType:"digit",fieldProps:(0,i.Z)({min:y,max:l},s),ref:h,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:Z},t))};M.Z=f.forwardRef(g)},86615:function(b,M,e){"use strict";var i=e(88983),E=e(55742),_=e(28991),f=e(81253),P=e(85893),O=e(96202),g=e(67294),F=e(52772),p=e(39863),h=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],s=g.forwardRef(function(t,o){var n=t.fieldProps,v=t.options,d=t.radioType,u=t.layout,T=t.proFieldProps,B=t.valueEnum,I=(0,f.Z)(t,h);return(0,P.jsx)(p.Z,(0,_.Z)((0,_.Z)({valueType:d==="button"?"radioButton":"radio",ref:o,valueEnum:(0,O.h)(B,void 0)},I),{},{fieldProps:(0,_.Z)({options:v,layout:u},n),proFieldProps:T,filedConfig:{customLightMode:!0}}))}),y=g.forwardRef(function(t,o){var n=t.fieldProps,v=t.children;return(0,P.jsx)(E.ZP,(0,_.Z)((0,_.Z)({},n),{},{ref:o,children:v}))}),Z=(0,F.G)(y,{valuePropName:"checked",ignoreWidth:!0}),l=Z;l.Group=s,l.Button=E.ZP.Button,l.displayName="ProFormComponent",M.Z=l},64317:function(b,M,e){"use strict";var i=e(28991),E=e(81253),_=e(85893),f=e(96202),P=e(67294),O=e(66758),g=e(39863),F=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],h=P.forwardRef(function(t,o){var n=t.fieldProps,v=t.children,d=t.params,u=t.proFieldProps,T=t.mode,B=t.valueEnum,I=t.request,Y=t.showSearch,L=t.options,S=(0,E.Z)(t,F),D=(0,P.useContext)(O.Z);return(0,_.jsx)(g.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,f.h)(B),request:I,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:L,mode:T,showSearch:Y,getPopupContainer:D.getPopupContainer},n),ref:o,proFieldProps:u},S),{},{children:v}))}),s=P.forwardRef(function(t,o){var n=t.fieldProps,v=t.children,d=t.params,u=t.proFieldProps,T=t.mode,B=t.valueEnum,I=t.request,Y=t.options,L=(0,E.Z)(t,p),S=(0,i.Z)({options:Y,mode:T||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},n),D=(0,P.useContext)(O.Z);return(0,_.jsx)(g.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,f.h)(B),request:I,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({getPopupContainer:D.getPopupContainer},S),ref:o,proFieldProps:u},L),{},{children:v}))}),y=h,Z=s,l=y;l.SearchSelect=Z,l.displayName="ProFormComponent",M.Z=l},90672:function(b,M,e){"use strict";var i=e(28991),E=e(81253),_=e(85893),f=e(67294),P=e(39863),O=["fieldProps","proFieldProps"],g=function(p,h){var s=p.fieldProps,y=p.proFieldProps,Z=(0,E.Z)(p,O);return(0,_.jsx)(P.Z,(0,i.Z)({ref:h,valueType:"textarea",fieldProps:s,proFieldProps:y},Z))};M.Z=f.forwardRef(g)},39930:function(b){b.exports={cardList:"cardList___Thdjy",card:"card___14fEj",item:"item___1BNC4",extraImg:"extraImg___t3H5c",newButton:"newButton___qK3FL",cardAvatar:"cardAvatar___16HsC",cardDescription:"cardDescription___37iEd",pageHeaderContent:"pageHeaderContent___1uYiS",contentLink:"contentLink___2msPM",standardList:"standardList___gd8l2",headerInfo:"headerInfo___20RuN",listContent:"listContent___1-Q5f",listContentItem:"listContentItem___2cbtP",extraContentSearch:"extraContentSearch___3_5Na",extraContentButton:"extraContentButton___r7t3a",listCard:"listCard___3Wq1E",standardListForm:"standardListForm___1Ztjq",formResult:"formResult___3RuK_"}},52200:function(b,M,e){"use strict";e.d(M,{gp:function(){return O},R2:function(){return F},xb:function(){return h},dM:function(){return y},v$:function(){return l}});var i=e(39428),E=e(11849),_=e(3182),f=e(2521),P=e(43237);function O(o,n){return g.apply(this,arguments)}function g(){return g=(0,_.Z)((0,i.Z)().mark(function o(n,v){return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,f.WY)(P.h+"storage/goods/index",(0,E.Z)({method:"GET",params:(0,E.Z)({},n)},v||{})));case 1:case"end":return u.stop()}},o)})),g.apply(this,arguments)}function F(o){return p.apply(this,arguments)}function p(){return p=(0,_.Z)((0,i.Z)().mark(function o(n){return(0,i.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.WY)(P.h+"storage/goods/form",{method:"POST",data:n}));case 1:case"end":return d.stop()}},o)})),p.apply(this,arguments)}function h(o){return s.apply(this,arguments)}function s(){return s=(0,_.Z)((0,i.Z)().mark(function o(n){var v;return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,f.WY)(P.h+"storage/goods/select",{method:"GET",params:(0,E.Z)({},n)});case 2:return v=u.sent,u.abrupt("return",{data:v.data.list});case 4:case"end":return u.stop()}},o)})),s.apply(this,arguments)}function y(o){return Z.apply(this,arguments)}function Z(){return Z=(0,_.Z)((0,i.Z)().mark(function o(n){return(0,i.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.WY)(P.h+"storage/goods/detail",{params:n}));case 1:case"end":return d.stop()}},o)})),Z.apply(this,arguments)}function l(o){return t.apply(this,arguments)}function t(){return t=(0,_.Z)((0,i.Z)().mark(function o(n){return(0,i.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.WY)(P.h+"storage/goods/delete",{params:n}));case 1:case"end":return d.stop()}},o)})),t.apply(this,arguments)}},24430:function(b,M,e){"use strict";e.r(M),e.d(M,{BasicList:function(){return ue},default:function(){return Oe}});var i=e(58024),E=e(91894),_=e(66456),f=e(55499),P=e(57663),O=e(71577),g=e(71153),F=e(60331),p=e(94233),h=e(51890),s=e(2824),y=e(47673),Z=e(4107),l=e(67294),t=e(49101),o=e(75362),n=e(2521),v=e(30381),d=e.n(v),u=e(39428),T=e(3182),B=e(37476),I=e(86615),Y=e(31199),L=e(90672),S=e(39930),D=e.n(S),K=e(64317),he=e(52200),a=e(85893),Pe=function(m){var R=m.name,c=m.label,j=m.mode,z=m.value,N=m._require,W=(0,n.QT)(he.xb),U=W.data;return(0,a.jsx)(K.Z,{width:"md",label:c,name:R,placeholder:"\u8BF7\u9009\u62E9"+c,mode:j,allowClear:!0,initialValue:z,rules:[{required:!!N,message:"\u8BF7\u9009\u62E9"+c}],options:U})},Ee=Pe,ge=function(m){var R=m.done,c=m.visible,j=m.current,z=m.onDone,N=m.onSubmit,W=m.children,U=(0,l.useState)([]),X=(0,s.Z)(U,2),$=X[0],ie=X[1];return c?(0,a.jsx)(B.Y,{visible:c,title:"\u7269\u8D44\u767B\u8BB0",className:D().standardListForm,width:"50%",onFinish:function(){var H=(0,T.Z)((0,u.Z)().mark(function V(G){var k;return(0,u.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:$.length>0?(k=$.length>0?$[0].response.data.src:"",G.avatar=k):G.avatar="",N(G);case 2:case"end":return Q.stop()}},V)}));return function(V){return H.apply(this,arguments)}}(),initialValues:j||{type:"1",num:"1"},submitter:{render:function(V,G){return R?null:G}},trigger:(0,a.jsx)(a.Fragment,{children:W}),modalProps:{onCancel:function(){return z()},destroyOnClose:!0,bodyStyle:R?{padding:"72px 0"}:{}},children:R?"":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ee,{label:"\u9009\u62E9\u7269\u8D44",name:"goods_id",mode:"",_require:!0}),(0,a.jsx)(I.Z.Group,{radioType:"button",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B"}],options:[{value:"1",label:"\u5165\u5E93"},{value:"2",label:"\u51FA\u5E93"}],label:"\u51FA\u5165\u5E93",name:"type"}),(0,a.jsx)(Y.Z,{label:"\u51FA\u5165\u5E93\u6570\u91CF",name:"num",min:1,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7269\u8D44\u5355\u4F4D"}]}),(0,a.jsx)(L.Z,{name:"remark",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5907\u6CE8\u8BF4\u660E"}],label:(0,a.jsx)(a.Fragment,{children:"\xA0\xA0\xA0\u5907\u6CE8\u8BF4\u660E"}),placeholder:"\u5907\u6CE8\u8BF4\u660E\uFF0C\u8BF4\u660E\u51FA\u5165\u53E3\u7684\u7F18\u7531"})]})}):null},Ce=ge,oe=e(11849),q=e(43237);function De(x,m){return ee.apply(this,arguments)}function ee(){return ee=(0,T.Z)((0,u.Z)().mark(function x(m,R){return(0,u.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,n.WY)(q.h+"storage/inventory/index",(0,oe.Z)({method:"GET",params:(0,oe.Z)({},m)},R||{})));case 1:case"end":return j.stop()}},x)})),ee.apply(this,arguments)}function Ze(x){return te.apply(this,arguments)}function te(){return te=(0,T.Z)((0,u.Z)().mark(function x(m){return(0,u.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,n.WY)(q.h+"storage/inventory/form",{method:"POST",data:m}));case 1:case"end":return c.stop()}},x)})),te.apply(this,arguments)}function we(x){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function x(m){return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request(api+"storage/inventory/detail",{params:m}));case 1:case"end":return c.stop()}},x)})),re.apply(this,arguments)}function Se(x){return ne.apply(this,arguments)}function ne(){return ne=(0,T.Z)((0,u.Z)().mark(function x(m){return(0,u.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,n.WY)(q.h+"storage/inventory/delete",{params:m}));case 1:case"end":return c.stop()}},x)})),ne.apply(this,arguments)}var Me=Z.Z.Search,w=20,ue=function(){var m=(0,l.useState)(""),R=(0,s.Z)(m,2),c=R[0],j=R[1],z=(0,l.useState)(1),N=(0,s.Z)(z,2),W=N[0],U=N[1],X=(0,l.useState)([]),$=(0,s.Z)(X,2),ie=$[0],H=$[1],V=(0,l.useState)(!0),G=(0,s.Z)(V,2),k=G[0],le=G[1],Q=(0,l.useState)([]),de=(0,s.Z)(Q,2),xe=de[0],ye=de[1],Re=(0,n.QT)(De,{manual:!0,onSuccess:function(r,A){H(r.data),U(r.current),ye(r.total),le(!1)}}),J=Re.run;(0,l.useEffect)(function(){J({current:W,pageSize:w})},[]);var Fe=(0,l.useState)(!1),ce=(0,s.Z)(Fe,2),me=ce[0],pe=ce[1],Te=(0,l.useState)(!1),ve=(0,s.Z)(Te,2),Le=ve[0],ae=ve[1],je=(0,l.useState)(void 0),_e=(0,s.Z)(je,2),Ae=_e[0],se=_e[1],fe=(0,n.QT)(function(C,r){return C==="remove"?Se(r):Ze(r)},{manual:!0,onSuccess:function(r){pe(!1),ae(!1),se({}),J({current:W,pageSize:w})}}),Ne=fe.error,Be=fe.run,Ie=function(r){U(1),j(r),J({keywords:r,current:W,pageSize:w})},We=function(r){U(r),J({keywords:c,current:r,pageSize:w})},be=function(r){ae(!0),se(r)},Ke=function(r,A){r==="add"&&be()},Ue=function(){pe(!1),ae(!1),se({}),me&&(j(""),U(1),J({keywords:c,current:W,pageSize:w}))},Ge=function(r){var A=r!=null&&r.id?"update":"add";Be(A,r)},Ye=[{title:"\u65F6\u95F4",sorter:!0,dataIndex:"insert_time",render:function(r){return(0,a.jsxs)("span",{children:[d()(parseInt(r)*1e3).format("YYYY-MM-DD HH:mm")," "]})}},{title:"\u7269\u8D44\u540D\u79F0",dataIndex:"goods",render:function(r,A){return(0,a.jsxs)("span",{children:[(0,a.jsx)(h.C,{src:A.goods.avatar,shape:"square",size:"small"})," \xA0\xA0",A.goods.name," "]})}},{title:"\u7C7B\u578B",dataIndex:"type",render:function(r){return(0,a.jsx)("span",{children:r==1?(0,a.jsx)(F.Z,{color:"warning",children:"\u5165\u5E93"}):(0,a.jsx)(F.Z,{color:"error",children:"\u51FA\u5E93"})})}},{title:"\u53D8\u52A8",align:"center",dataIndex:"num",render:function(r,A){if(A.type==1)return"+"+r;if(A.type==2)return"-"+r}},{title:"\u5B9E\u65F6\u5E93\u5B58",align:"center",dataIndex:"storage_num"},{title:"\u5907\u6CE8\u8BF4\u660E",dataIndex:"remark"},{title:"\u521B\u5EFA\u4EBA",dataIndex:"insert_user"}];return(0,a.jsxs)("div",{children:[(0,a.jsx)(o.ZP,{children:(0,a.jsx)("div",{className:D().standardList,children:(0,a.jsx)(E.Z,{bordered:!1,style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:(0,a.jsxs)("div",{className:D().extraContent,children:[(0,a.jsx)(Me,{className:D().extraContentSearch,placeholder:"\u8BF7\u8F93\u5165\u7269\u8D44\u540D\u79F0",onSearch:function(r){return Ie(r)}}),(0,a.jsxs)(O.Z,{type:"primary",onClick:function(){return Ke("add")},children:[(0,a.jsx)(t.Z,{})," ",(0,a.jsx)(n._H,{id:"pages.new",defaultMessage:"New"})]},"primary")]}),children:(0,a.jsx)(f.Z,{dataSource:ie,loading:k,columns:Ye,pagination:{simple:!1,current:W,defaultCurrent:1,total:xe,showSizeChanger:!0,pageSize:w,showTotal:function(r){return"\u5171"+r+"\u6761\u6570\u636E"},onChange:function(r,A){We(r)}}})})})}),(0,a.jsx)(Ce,{done:me,visible:Le,current:Ae,onDone:Ue,onSubmit:Ge})]})},Oe=ue},86743:function(b,M,e){"use strict";var i=e(22122),E=e(28481),_=e(9475),f=e(67294),P=e(71577),O=e(73839);function g(p){return!!(p&&!!p.then)}var F=function(h){var s=f.useRef(!1),y=f.useRef(null),Z=(0,_.Z)(!1),l=(0,E.Z)(Z,2),t=l[0],o=l[1],n=h.close,v=function(){n==null||n.apply(void 0,arguments)};f.useEffect(function(){var L=null;return h.autoFocus&&(L=setTimeout(function(){var S;(S=y.current)===null||S===void 0||S.focus()})),function(){L&&clearTimeout(L)}},[]);var d=function(S){!g(S)||(o(!0),S.then(function(){o(!1,!0),v.apply(void 0,arguments),s.current=!1},function(D){console.error(D),o(!1,!0),s.current=!1}))},u=function(S){var D=h.actionFn;if(!s.current){if(s.current=!0,!D){v();return}var K;if(h.emitEvent){if(K=D(S),h.quitOnNullishReturnValue&&!g(K)){s.current=!1,v(S);return}}else if(D.length)K=D(n),s.current=!1;else if(K=D(),!K){v();return}d(K)}},T=h.type,B=h.children,I=h.prefixCls,Y=h.buttonProps;return f.createElement(P.Z,(0,i.Z)({},(0,O.n)(T),{onClick:u,loading:t,prefixCls:I},Y,{ref:y}),B)};M.Z=F}}]);
