(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4574],{42723:function(W){W.exports={standardList:"standardList___1bpjc",headerInfo:"headerInfo___2G9B6",listContent:"listContent___18UDW",listContentItem:"listContentItem___3qUeL",extraContentSearch:"extraContentSearch___2QdiY",listCard:"listCard___3TDyC",standardListForm:"standardListForm___G3zXw",formResult:"formResult___1M7rq"}},11316:function(W,O,e){"use strict";var r=e(67294),E=e(64317),v=e(2521),m=e(56484),p=e(85893),T=function(y){var D=y.name,Z=y.label,j=y.mode,x=y.value,C=y._require,M=y.width,h=(0,v.QT)(m.P4),d=h.data;return(0,p.jsx)(E.Z,{style:{width:M||"328px"},width:"sm",label:Z,name:D,placeholder:"\u8BF7\u9009\u62E9"+(Z||""),mode:j,allowClear:!0,initialValue:x,rules:[{required:!!C,message:"\u8BF7\u9009\u62E9"+(Z||"")}],options:d})};O.Z=T},45918:function(W,O,e){"use strict";e.r(O),e.d(O,{default:function(){return ve}});var r=e(66456),E=e(55499),v=e(62350),m=e(24565),p=e(57663),T=e(71577),S=e(18446),y=e(90860),D=e(71194),Z=e(50146),j=e(49111),x=e(19650),C=e(34792),M=e(48086),h=e(2824),d=e(15873),f=e(73218),_=e(49101),c=e(1870),t=e(4711),s=e(67294),l=e(2521),a=e(75362),o=e(42306),U=e(63185),ae=e(9676),Oe=e(9715),k=e(55843),Te=e(62999),se=e(52489),q=e(39428),ue=e(3182),ie=e(37476),le=e(5966),oe=e(11316),de=e(42723),ce=e.n(de),n=e(85893),me=function(R){var w=R.done,K=R.visible,u=R.current,z=R.onDone,$=R.onSubmit,N=R.children;if(!K)return null;var b=(0,s.useState)([]),Y=(0,h.Z)(b,2),I=Y[0],V=Y[1],G=(0,l.QT)(o.Sb,{manual:!0,onSuccess:function(L){V(L.rows)}}),H=G.run;(0,s.useEffect)(function(){H()},[]);var Q=!I;return Q?(0,n.jsx)(y.Z,{active:!0}):(0,n.jsxs)(ie.Y,{visible:K,title:u?"\u7F16\u8F91\u90E8\u95E8":"\u6DFB\u52A0\u90E8\u95E8",className:ce().standardListForm,width:640,onFinish:function(){var F=(0,ue.Z)((0,q.Z)().mark(function L(A){return(0,q.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:A.id=u==null?void 0:u.id,$(A);case 2:case"end":return B.stop()}},L)}));return function(L){return F.apply(this,arguments)}}(),initialValues:{id:u==null?void 0:u.id,parent:u&&u.parent>0?u.parent:"",name:u==null?void 0:u.title,uid:u&&u.uid>0?u.uid:"",is_key:u&&u.is_key>0?u.is_key:""},submitter:{render:function(L,A){return w?null:A}},trigger:(0,n.jsx)(n.Fragment,{children:N}),modalProps:{onCancel:function(){return z()},destroyOnClose:!0},children:[(0,n.jsx)(k.Z.Item,{name:"parent",label:"\u4E0A\u5C42",style:{width:"100%"},children:(0,n.jsx)(se.Z,{showSearch:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,treeDefaultExpandAll:!0,treeData:I})}),(0,n.jsx)(le.Z,{name:"name",label:"\u90E8\u95E8\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"}),(0,n.jsx)(oe.Z,{label:"\u8D1F\u8D23\u4EBA",name:"uid",_require:!1}),(0,n.jsx)(k.Z.Item,{name:"is_key",valuePropName:"1",children:(0,n.jsx)(ae.Z,{children:"\u662F\u804C\u80FD\u90E8\u95E8"})})]})},he=me,fe=function(){var R=(0,s.useState)(!1),w=(0,h.Z)(R,2),K=w[0],u=w[1],z=(0,s.useState)(!1),$=(0,h.Z)(z,2),N=$[0],b=$[1],Y=(0,s.useState)(void 0),I=(0,h.Z)(Y,2),V=I[0],G=I[1],H=(0,s.useState)([]),Q=(0,h.Z)(H,2),F=Q[0],L=Q[1],A=(0,s.useState)(!0),X=(0,h.Z)(A,2),B=X[0],_e=X[1],ge=(0,l.QT)(o.gp,{manual:!0,onSuccess:function(i,P){L(i),_e(!1)}}),ee=ge.run;(0,s.useEffect)(function(){ee()},[]);var Ee=(0,l.QT)(o.nc,{manual:!0,onSuccess:function(i,P){M.default.success("\u64CD\u4F5C\u6210\u529F")}}),ye=Ee.run,Ze=function(){ye()},De=[{title:"\u90E8\u95E8",dataIndex:"title"},{title:"\u804C\u80FD\u90E8\u95E8",dataIndex:"is_key",align:"center",render:function(i){return i>0?(0,n.jsx)(d.Z,{style:{color:"#52c41a"}}):(0,n.jsx)(f.Z,{style:{color:"#eb2f96"}})}},{title:"\u8D1F\u8D23\u4EBA",dataIndex:"uid_name"},{title:"\u5728\u5C97\u4EBA\u6570",dataIndex:"user_num",align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",render:function(i,P){return(0,n.jsxs)(x.Z,{size:"middle",children:[(0,n.jsx)("a",{onClick:function(){return J("edit",P)},children:"\u7F16\u8F91"}),(0,n.jsx)("a",{onClick:function(){return J("delete",P)},children:"\u5220\u9664"})]})}}],je=(0,l.QT)(function(g,i){return g==="remove"?(0,o.v$)(i):(0,o.R2)(i)},{manual:!0,onSuccess:function(i){ee()}}),te=je.run,Ce=function(){u(!1),b(!1),G({})},Se=function(i){u(!0),b(!1);var P=i!=null&&i.id?"update":"add";te(P,i)},Pe=function(i){te("remove",{id:i})},ne=function(i){b(!0),G(i)},J=function(i,P){i==="add"?ne():i==="edit"?ne(P):i==="delete"&&Z.Z.confirm({title:"\u5220\u9664\u90E8\u95E8",content:"\u786E\u5B9A\u8BE5\u90E8\u95E8\u4E0B\u7684\u4EBA\u5458\u5DF2\u8F6C\u79FB\u4E86\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return Pe(P.id)}})};return B?(0,n.jsx)(y.Z,{active:!0}):(0,n.jsxs)(a.ZP,{extra:[(0,n.jsxs)(T.Z,{type:"primary",onClick:function(){return J("add")},children:[(0,n.jsx)(_.Z,{})," ",(0,n.jsx)(l._H,{id:"pages.new",defaultMessage:"New"})]},"primary"),(0,n.jsx)(m.Z,{title:"\u786E\u5B9A\u5F53\u524D\u64CD\u4F5C\u5417\uFF1F",onConfirm:function(){return Ze()},icon:(0,n.jsx)(c.Z,{style:{color:"red"}}),children:(0,n.jsxs)(T.Z,{children:[(0,n.jsx)(t.Z,{}),"\u540C\u6B65\u4F01\u4E1A\u5FAE\u4FE1"]})})],children:[(0,n.jsx)(E.Z,{filterMode:"tree",columns:De,dataSource:F,defaultExpandAllRows:!0}),(0,n.jsx)(he,{done:K,visible:N,current:V,onDone:Ce,onSubmit:Se})]})},ve=fe},42306:function(W,O,e){"use strict";e.d(O,{gp:function(){return T},Sb:function(){return y},v$:function(){return Z},R2:function(){return x},nc:function(){return M}});var r=e(39428),E=e(11849),v=e(3182),m=e(2521),p=e(43237);function T(d,f){return S.apply(this,arguments)}function S(){return S=(0,v.Z)((0,r.Z)().mark(function d(f,_){return(0,r.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)(p.h+"hr/department/all",(0,E.Z)({method:"GET",params:(0,E.Z)({},f)},_||{})));case 1:case"end":return t.stop()}},d)})),S.apply(this,arguments)}function y(d,f){return D.apply(this,arguments)}function D(){return D=(0,v.Z)((0,r.Z)().mark(function d(f,_){return(0,r.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)(p.h+"hr/department/tree",(0,E.Z)({method:"GET",params:(0,E.Z)({},f)},_||{})));case 1:case"end":return t.stop()}},d)})),D.apply(this,arguments)}function Z(d){return j.apply(this,arguments)}function j(){return j=(0,v.Z)((0,r.Z)().mark(function d(f){return(0,r.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,m.WY)(p.h+"hr/department/delete",{params:f}));case 1:case"end":return c.stop()}},d)})),j.apply(this,arguments)}function x(d){return C.apply(this,arguments)}function C(){return C=(0,v.Z)((0,r.Z)().mark(function d(f){return(0,r.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,m.WY)(p.h+"hr/department/save",{method:"POST",data:f}));case 1:case"end":return c.stop()}},d)})),C.apply(this,arguments)}function M(){return h.apply(this,arguments)}function h(){return h=(0,v.Z)((0,r.Z)().mark(function d(){return(0,r.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,m.WY)(p.h+"crontab/weixin/sync_department"));case 1:case"end":return _.stop()}},d)})),h.apply(this,arguments)}},56484:function(W,O,e){"use strict";e.d(O,{gp:function(){return T},dM:function(){return y},Y8:function(){return Z},P4:function(){return x},R2:function(){return M},xg:function(){return _}});var r=e(39428),E=e(11849),v=e(3182),m=e(2521),p=e(43237);function T(t,s){return S.apply(this,arguments)}function S(){return S=(0,v.Z)((0,r.Z)().mark(function t(s,l){var a;return(0,r.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,m.WY)(p.h+"hr/user/index?mode=all",(0,E.Z)({method:"GET",params:(0,E.Z)({},s)},l||{}));case 2:return a=U.sent,U.abrupt("return",{data:a.data,success:a.success,total:a.data.total,pageSize:a.data.pageSize,current:a.data.current});case 4:case"end":return U.stop()}},t)})),S.apply(this,arguments)}function y(t){return D.apply(this,arguments)}function D(){return D=(0,v.Z)((0,r.Z)().mark(function t(s){return(0,r.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.WY)(p.h+"hr/user/detail",{params:s}));case 1:case"end":return a.stop()}},t)})),D.apply(this,arguments)}function Z(t){return j.apply(this,arguments)}function j(){return j=(0,v.Z)((0,r.Z)().mark(function t(s){var l;return(0,r.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,m.WY)(p.h+"hr/user/index?is_page=false&is_leave=0",{method:"GET",params:(0,E.Z)({},s)});case 2:return l=o.sent,o.abrupt("return",{data:l.data.list});case 4:case"end":return o.stop()}},t)})),j.apply(this,arguments)}function x(t){return C.apply(this,arguments)}function C(){return C=(0,v.Z)((0,r.Z)().mark(function t(s){var l;return(0,r.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,m.WY)(p.h+"hr/user/select",{method:"GET",params:(0,E.Z)({},s)});case 2:return l=o.sent,o.abrupt("return",{data:l.data.list});case 4:case"end":return o.stop()}},t)})),C.apply(this,arguments)}function M(t){return h.apply(this,arguments)}function h(){return h=(0,v.Z)((0,r.Z)().mark(function t(s){return(0,r.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.WY)(p.h+"hr/user/form",{method:"POST",data:s}));case 1:case"end":return a.stop()}},t)})),h.apply(this,arguments)}function d(t){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request(api+"hr/user/form",_objectSpread({method:"DELETE"},s||{})));case 1:case"end":return a.stop()}},t)})),f.apply(this,arguments)}function _(){return c.apply(this,arguments)}function c(){return c=(0,v.Z)((0,r.Z)().mark(function t(){return(0,r.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.WY)(p.h+"crontab/weixin/sync_user"));case 1:case"end":return l.stop()}},t)})),c.apply(this,arguments)}}}]);
