(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1539],{6652:function(K,P,e){"use strict";e.r(P);var u=e(18446),j=e(90860),c=e(58024),d=e(91894),m=e(13062),y=e(71230),M=e(95300),I=e(7277),h=e(89032),v=e(15746),f=e(94233),R=e(51890),E=e(39428),C=e(3182),O=e(62350),r=e(24565),o=e(57663),l=e(71577),t=e(34792),Z=e(48086),F=e(2824),S=e(1870),p=e(2521),T=e(67294),Y=e(75362),b=e(36653),U=e(52798),$=e(30381),A=e.n($),G=e(80877),H=e(50669),Q=e(20290),n=e(85893),z=function(N){var W=N.match.params.id,g=(0,p.tT)("@@initialState"),J=g.initialState,se=g.setInitialState,B=J.currentUser,V=(0,T.useState)({}),L=(0,F.Z)(V,2),s=L[0],X=L[1],w=(0,p.QT)(U.dM,{manual:!0,onSuccess:function(a,i){X(a.row)}}),x=w.run;(0,T.useEffect)(function(){x({id:W})},[]);var k=(0,p.QT)(U.v$,{manual:!0,onSuccess:function(a,i){Z.default.success("\u64CD\u4F5C\u6210\u529F"),x({id:W})}}),q=k.run,ee=function(a){q({id:a.id})},ne=function(a){a&&p.m8.push({pathname:"/finance/payment/edit/".concat(a.id)})},te=function(a){a&&p.m8.push({pathname:"/finance/payment/print/".concat(a.id)})},D=(0,n.jsx)(l.Z,{type:"primary",onClick:function(){te(s)},children:"\u6253\u5370"});return s.id>0&&B.id==s.insert_uid&&s.status=="check"&&(D=(0,n.jsxs)(n.Fragment,{children:[D,(0,n.jsx)(l.Z,{type:"primary",onClick:function(){ne(s)},children:"\u4FEE\u6539"})]})),s.id>0&&B.id==s.insert_uid&&(s.status=="check"||s.status=="recheck"||s.status=="hr_check"||s.status=="dep_check")&&(D=(0,n.jsxs)(n.Fragment,{children:[D," ",(0,n.jsx)(r.Z,{title:"\u786E\u5B9A\u5F53\u524D\u64CD\u4F5C\u5417\uFF1F",onConfirm:function(){return ee(s)},icon:(0,n.jsx)(S.Z,{style:{color:"red"}}),children:(0,n.jsx)(l.Z,{type:"danger",children:"\u4F5C\u5E9F"})})]})),s.id>0?(0,n.jsxs)(Y.ZP,{footer:[D],footerStyle:{textAlign:"right"},children:[(0,n.jsx)(Q.Z,{tablename:"finance_payment",parent:s.id}),(0,n.jsxs)(d.Z,{bordered:!1,children:[(0,n.jsxs)(y.Z,{gutter:16,children:[(0,n.jsx)(v.Z,{span:20,children:(0,n.jsx)(b.ZP,{column:1,request:(0,C.Z)((0,E.Z)().mark(function _(){return(0,E.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",{data:s});case 1:case"end":return i.stop()}},_)})),columns:[{title:"\u7533\u8BF7\u90E8\u95E8",dataIndex:"department_name"},{title:"\u7533\u8BF7\u4EBA",dataIndex:"insert_user",render:function(a){return(0,n.jsxs)("span",{children:[(0,n.jsx)(R.C,{src:s.insert_avatar,shape:"round",size:"small"})," ",s.insert_user]})}},{title:"\u6536\u6B3E\u65B9",dataIndex:"receive_name"},{title:"\u6536\u6B3E\u8D26\u6237",dataIndex:"receive",render:function(a,i){return(0,n.jsxs)(n.Fragment,{children:[i.receive_bank,"-",i.receive_account]})}},{title:"\u4ED8\u6B3E\u5185\u5BB9",dataIndex:"content",render:function(a,i){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"money",style:{color:"red"},children:i.content}),(0,n.jsx)("br",{})]})}},{title:"\u4ED8\u6B3E\u65B9\u5F0F",dataIndex:"pay_way_str"},{title:"\u4ED8\u6B3E\u6237\u540D\uFF1A",dataIndex:"pay_name"},{title:"\u4ED8\u6B3E\u8D26\u6237",dataIndex:"receive",render:function(a,i){return(0,n.jsxs)(n.Fragment,{children:[i.pay_bank?(0,n.jsxs)(n.Fragment,{children:[i.pay_bank,"-"]}):"",i.pay_account?i.pay_account:"-"]})}},{title:"\u7533\u8BF7\u5907\u6CE8",dataIndex:"remark"},{title:"\u5904\u7406\u72B6\u6001",dataIndex:"status",render:function(a){return(0,n.jsx)(H.Z,{status:s.status,tablename:"finance_payment"})}},{title:"\u7533\u8BF7\u65F6\u95F4",dataIndex:"insert_time",render:function(a){return(0,n.jsxs)("span",{children:[a>0?A()(parseInt(a)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"update_time",render:function(a){return(0,n.jsxs)("span",{children:[a>0?A()(parseInt(a)*1e3).format("YYYY-MM-DD HH:mm"):""," "]})}}]})}),(0,n.jsx)(v.Z,{span:4,children:(0,n.jsx)(I.Z,{title:"\u4ED8\u6B3E\u91D1\u989D",value:s.money,precision:2})})]}),(0,n.jsx)("br",{}),(0,n.jsx)(G.Z,{tablename:"finance_payment",tableid:s.id,isEdit:!0})]})]}):(0,n.jsx)(j.Z,{active:!0})};P.default=z},52798:function(K,P,e){"use strict";e.d(P,{gp:function(){return y},dM:function(){return I},j8:function(){return v},R2:function(){return R},v$:function(){return C}});var u=e(39428),j=e(11849),c=e(3182),d=e(2521),m=e(43237);function y(r){return M.apply(this,arguments)}function M(){return M=(0,c.Z)((0,u.Z)().mark(function r(o){return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.WY)(m.h+"finance/payment/index",{method:"GET",params:(0,j.Z)({},o)});case 2:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},r)})),M.apply(this,arguments)}function I(r){return h.apply(this,arguments)}function h(){return h=(0,c.Z)((0,u.Z)().mark(function r(o){return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(m.h+"finance/payment/detail",{params:o}));case 1:case"end":return t.stop()}},r)})),h.apply(this,arguments)}function v(r){return f.apply(this,arguments)}function f(){return f=(0,c.Z)((0,u.Z)().mark(function r(o){return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(m.h+"finance/payment/print_template",{params:o}));case 1:case"end":return t.stop()}},r)})),f.apply(this,arguments)}function R(r){return E.apply(this,arguments)}function E(){return E=(0,c.Z)((0,u.Z)().mark(function r(o){return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(m.h+"finance/payment/form",{method:"POST",data:o}));case 1:case"end":return t.stop()}},r)})),E.apply(this,arguments)}function C(r){return O.apply(this,arguments)}function O(){return O=(0,c.Z)((0,u.Z)().mark(function r(o){return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.WY)(m.h+"finance/payment/delete",{params:o}));case 1:case"end":return t.stop()}},r)})),O.apply(this,arguments)}}}]);
