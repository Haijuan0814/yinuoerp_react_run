(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9306],{45510:function(G,C,e){"use strict";e.d(C,{Z:function(){return I}});var o=e(28991),u=e(81253),d=e(85893),a=e(67294),_=e(66758),M=e(39863),x=["proFieldProps","fieldProps"],F="date",h=a.forwardRef(function(n,j){var f=n.proFieldProps,T=n.fieldProps,L=(0,u.Z)(n,x),S=(0,a.useContext)(_.Z);return(0,d.jsx)(M.Z,(0,o.Z)({ref:j,valueType:F,fieldProps:(0,o.Z)({getPopupContainer:S.getPopupContainer},T),proFieldProps:f,filedConfig:{valueType:F,customLightMode:!0}},L))}),v=h,c=["proFieldProps","fieldProps"],l="dateMonth",Z=a.forwardRef(function(n,j){var f=n.proFieldProps,T=n.fieldProps,L=(0,u.Z)(n,c),S=(0,a.useContext)(_.Z);return(0,d.jsx)(M.Z,(0,o.Z)({ref:j,valueType:l,fieldProps:(0,o.Z)({getPopupContainer:S.getPopupContainer},T),proFieldProps:f,filedConfig:{valueType:l,customLightMode:!0}},L))}),B=Z,p=["fieldProps"],m="dateQuarter",i=a.forwardRef(function(n,j){var f=n.fieldProps,T=(0,u.Z)(n,p),L=(0,a.useContext)(_.Z);return(0,d.jsx)(M.Z,(0,o.Z)({ref:j,valueType:m,fieldProps:(0,o.Z)({getPopupContainer:L.getPopupContainer},f),filedConfig:{valueType:m,customLightMode:!0}},T))}),s=i,E=["proFieldProps","fieldProps"],D="dateWeek",A=a.forwardRef(function(n,j){var f=n.proFieldProps,T=n.fieldProps,L=(0,u.Z)(n,E),S=(0,a.useContext)(_.Z);return(0,d.jsx)(M.Z,(0,o.Z)({ref:j,valueType:D,fieldProps:(0,o.Z)({getPopupContainer:S.getPopupContainer},T),proFieldProps:f,filedConfig:{valueType:D,customLightMode:!0}},L))}),W=A,y=["proFieldProps","fieldProps"],g="dateYear",O=a.forwardRef(function(n,j){var f=n.proFieldProps,T=n.fieldProps,L=(0,u.Z)(n,y),S=(0,a.useContext)(_.Z);return(0,d.jsx)(M.Z,(0,o.Z)({ref:j,valueType:g,fieldProps:(0,o.Z)({getPopupContainer:S.getPopupContainer},T),proFieldProps:f,filedConfig:{valueType:g,customLightMode:!0}},L))}),P=O,t=v;t.Week=W,t.Month=B,t.Quarter=s,t.Year=P,t.displayName="ProFormComponent";var I=t},90672:function(G,C,e){"use strict";var o=e(28991),u=e(81253),d=e(85893),a=e(67294),_=e(39863),M=["fieldProps","proFieldProps"],x=function(h,v){var c=h.fieldProps,l=h.proFieldProps,Z=(0,u.Z)(h,M);return(0,d.jsx)(_.Z,(0,o.Z)({ref:v,valueType:"textarea",fieldProps:c,proFieldProps:l},Z))};C.Z=a.forwardRef(x)},952:function(G,C,e){"use strict";var o=e(56640),u=e.n(o),d=e(5894);C.ZP=d.A},5894:function(G,C,e){"use strict";e.d(C,{A:function(){return g}});var o=e(9715),u=e(55843),d=e(28991),a=e(85893),_=e(6397),M=e(96156),x=e(49111),F=e(19650),h=e(84305),v=e(39559),c=e(28481),l=e(8812),Z=e(28664),B=e(58927),p=e(94184),m=e.n(p),i=e(67294),s=e(66758),E=e(2514),D=e(96138),A=i.forwardRef(function(O,P){var t=i.useContext(s.Z),I=t.groupProps,n=(0,d.Z)((0,d.Z)({},I),O),j=n.children,f=n.collapsible,T=n.defaultCollapsed,L=n.style,S=n.labelLayout,R=n.title,$=R===void 0?O.label:R,z=n.tooltip,V=n.align,r=V===void 0?"start":V,k=n.direction,q=n.size,ee=q===void 0?32:q,te=n.titleStyle,re=n.titleRender,Y=n.spaceProps,J=n.extra,H=n.autoFocus,se=(0,Z.Z)(function(){return T||!1},{value:O.collapsed,onChange:O.onCollapse}),K=(0,c.Z)(se,2),U=K[0],Q=K[1],X=(0,i.useContext)(v.ZP.ConfigContext),oe=X.getPrefixCls,ae=(0,E.zx)(O),ie=ae.ColWrapper,le=ae.RowWrapper,b=oe("pro-form-group"),de=f&&(0,a.jsx)(l.Z,{style:{marginRight:8},rotate:U?void 0:90}),ce=(0,a.jsx)(B.Z,{label:de?(0,a.jsxs)("div",{children:[de,$]}):$,tooltip:z}),ve=(0,i.useCallback)(function(w){var ne=w.children;return(0,a.jsx)(F.Z,(0,d.Z)((0,d.Z)({},Y),{},{className:m()("".concat(b,"-container"),Y==null?void 0:Y.className),size:ee,align:r,direction:k,style:(0,d.Z)({rowGap:0},Y==null?void 0:Y.style),children:ne}))},[r,b,k,ee,Y]),me=re?re(ce,O):ce,fe=(0,i.useMemo)(function(){var w=[],ne=i.Children.toArray(j).map(function(N,Ee){var ue;return i.isValidElement(N)&&(N==null||(ue=N.props)===null||ue===void 0?void 0:ue.hidden)?(w.push(N),null):Ee===0&&i.isValidElement(N)&&H?i.cloneElement(N,(0,d.Z)((0,d.Z)({},N.props),{},{autoFocus:H})):N});return[(0,a.jsx)(le,{Wrapper:ve,children:ne},"children"),w.length>0?(0,a.jsx)("div",{style:{display:"none"},children:w}):null]},[j,le,ve,H]),pe=(0,c.Z)(fe,2),Pe=pe[0],he=pe[1];return(0,a.jsx)(ie,{children:(0,a.jsxs)("div",{className:m()(b,(0,M.Z)({},"".concat(b,"-twoLine"),S==="twoLine")),style:L,ref:P,children:[he,($||z||J)&&(0,a.jsx)("div",{className:"".concat(b,"-title"),style:te,onClick:function(){Q(!U)},children:J?(0,a.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[me,(0,a.jsx)("span",{onClick:function(ne){return ne.stopPropagation()},children:J})]}):me}),f&&U?null:Pe]})})});A.displayName="ProForm-Group";var W=A,y=e(87808);function g(O){return(0,a.jsx)(_.I,(0,d.Z)({layout:"vertical",submitter:{render:function(t,I){return I.reverse()}},contentRender:function(t,I){return(0,a.jsxs)(a.Fragment,{children:[t,I]})}},O))}g.Group=W,g.useForm=u.Z.useForm,g.Item=y.Z,g.useWatch=u.Z.useWatch,g.ErrorList=u.Z.ErrorList,g.Provider=u.Z.Provider,g.useFormInstance=u.Z.useFormInstance},58927:function(G,C,e){"use strict";var o=e(28991),u=e(22385),d=e(89456),a=e(96156),_=e(84305),M=e(39559),x=e(85893),F=e(68628),h=e(94184),v=e.n(h),c=e(67294),l=e(11445),Z=e.n(l),B=function(m){var i=m.label,s=m.tooltip,E=m.ellipsis,D=m.subTitle,A=(0,c.useContext)(M.ZP.ConfigContext),W=A.getPrefixCls;if(!s&&!D)return(0,x.jsx)(x.Fragment,{children:i});var y=W("pro-core-label-tip"),g=typeof s=="string"||c.isValidElement(s)?{title:s}:s,O=(g==null?void 0:g.icon)||(0,x.jsx)(F.Z,{});return(0,x.jsxs)("div",{className:y,onMouseDown:function(t){return t.stopPropagation()},onMouseLeave:function(t){return t.stopPropagation()},onMouseMove:function(t){return t.stopPropagation()},children:[(0,x.jsx)("div",{className:v()("".concat(y,"-title"),(0,a.Z)({},"".concat(y,"-title-ellipsis"),E)),children:i}),D&&(0,x.jsx)("div",{className:"".concat(y,"-subtitle"),children:D}),s&&(0,x.jsx)(d.Z,(0,o.Z)((0,o.Z)({},g),{},{children:(0,x.jsx)("span",{className:"".concat(y,"-icon"),children:O})}))]})};C.Z=c.memo(B)},96138:function(){},56640:function(){},11445:function(){},68179:function(){},37334:function(G,C,e){"use strict";e.r(C),e.d(C,{default:function(){return L}});var o=e(58024),u=e(91894),d=e(48736),a=e(27049),_=e(18446),M=e(90860),x=e(39428),F=e(3182),h=e(34792),v=e(48086),c=e(2824),l=e(952),Z=e(5966),B=e(34540),p=e(86615),m=e(90672),i=e(45510),s=e(75362),E=e(85224),D=e(2521),A=e(67294),W=e(85123),y=e(11316),g=e(13623),O=e(64317),P=e(66822),t=e(85893),I=function(R){var $=R.name,z=R.label,V=R.mode,r=R.value,k=R._require,q=R.tablename,ee=(0,A.useState)([]),te=(0,c.Z)(ee,2),re=te[0],Y=te[1],J=(0,D.QT)(P.Qf,{manual:!0,onSuccess:function(K,U){Y(K.list)}}),H=J.run;return(0,A.useEffect)(function(){H({tablename:q})},[]),(0,t.jsx)(O.Z,{width:"lg",label:z,name:$,placeholder:"\u8BF7\u9009\u62E9"+z,mode:V,allowClear:!0,showSearch:!0,initialValue:r,rules:[{required:!!k,message:"\u8BF7\u9009\u62E9"+z}],options:re})},n=I,j=e(30381),f=e.n(j),T=function(R){var $=R.match.params.id,z=(0,A.useState)({}),V=(0,c.Z)(z,2),r=V[0],k=V[1],q=[{value:"0",label:"\u8FDB\u884C\u4E2D"},{value:"1",label:"\u5B8C\u6210"},{value:"2",label:"\u9884\u671F\u5B8C\u6210"},{value:"-1",label:"\u9000\u7A3F"}];if(JSON.stringify(R.match.params)!="{}"){var ee=(0,D.QT)(W.dM,{manual:!0,onSuccess:function(U,Q){k(U.row)}}),te=ee.run;(0,A.useEffect)(function(){te(R.match.params)},[])}var re=(0,D.QT)(W.R2,{manual:!0,onSuccess:function(){v.default.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){$>0?D.m8.push({pathname:"/it/manage/project/detail/".concat($)}):D.m8.push({pathname:"/it/manage/project"})},400)}}),Y=re.run,J=function(){var K=(0,F.Z)((0,x.Z)().mark(function U(Q){var X,oe,ae,ie;return(0,x.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:X=Q._date,oe=X[0]?X[0]:r.id>0?f()(r.start_time*1e3).format("YYYY-MM-DD"):"",ae=X[1]?X[1]:r.id>0?f()(r.end_time*1e3).format("YYYY-MM-DD"):"",ie={id:r==null?void 0:r.id,start_time:oe,end_time:ae},Y(Object.assign(Q,ie));case 5:case"end":return b.stop()}},U)}));return function(Q){return K.apply(this,arguments)}}(),H=JSON.stringify(R.match.params)=="{}"?!1:!(r&&r.id),se=r.id>0?{title:r==null?void 0:r.title,_date:r.start_time>0?[f()(r.start_time*1e3).format("YYYY-MM-DD"),f()(r.end_time*1e3).format("YYYY-MM-DD")]:[],product_ids:r==null?void 0:r.product_ids,ui_uids:r==null?void 0:r.ui_uids,code_uids:r==null?void 0:r.code_uids,test_uids:r==null?void 0:r.test_uids,publish_uids:r==null?void 0:r.publish_uids,content:r==null?void 0:r.content,ui_plan_time:f()(r.ui_plan_time*1e3).format("YYYY-MM-DD"),code_plan_time:f()(r.code_plan_time*1e3).format("YYYY-MM-DD"),test_plan_time:f()(r.test_plan_time*1e3).format("YYYY-MM-DD"),publish_plan_time:f()(r.publish_plan_time*1e3).format("YYYY-MM-DD"),status:r==null?void 0:r.status}:{status:"0",is_code:"0"};return H?(0,t.jsx)(M.Z,{active:!0}):(0,t.jsx)(s.ZP,{children:(0,t.jsx)(l.ZP,{name:"basic",layout:"horizontal",initialValues:se,submitter:{render:function(U,Q){return(0,t.jsx)(E.Z,{children:Q})}},onFinish:J,children:(0,t.jsxs)(u.Z,{bordered:!1,title:"\u57FA\u672C\u4FE1\u606F",children:[(0,t.jsx)(Z.Z,{width:"md",label:"\u7ACB\u9879\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7ACB\u9879\u6807\u9898"}],placeholder:"\u4E00\u53E5\u8BDD\u7B80\u8FF0\u672C\u6B21\u7ACB\u9879\u7684\u6807\u9898"}),(0,t.jsx)(g.Z,{label:"\u6240\u5C5E\u4EA7\u54C1",name:"product_ids",mode:"multiple",_require:!0}),(0,t.jsx)(B.Z,{label:"\u4EFB\u52A1\u6392\u671F",width:"md",name:"_date",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EFB\u52A1\u6392\u671F"}],placeholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"]}),(0,t.jsx)(p.Z.Group,{options:q,label:"\u6587\u6863\u72B6\u6001",name:"status",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6587\u6863\u72B6\u6001"}]}),(0,t.jsx)(m.Z,{label:"\u9879\u76EE\u63CF\u8FF0",width:"xl",name:"content",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u63CF\u8FF0"}],placeholder:"\u8BF7\u8BE6\u7EC6\u63CF\u8FF0\u8BE5\u9879\u76EE"}),(0,t.jsx)(a.Z,{orientation:"left",plain:!0,children:"\u4EA7\u54C1\u9636\u6BB5"}),(0,t.jsxs)(l.ZP.Group,{children:[(0,t.jsx)(y.Z,{label:"\u5904\u7406\u4EBA",name:"ui_uids",mode:"multiple",_require:!0}),(0,t.jsx)(i.Z,{name:"ui_plan_time",label:"\u622A\u6B62\u65E5\u671F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u622A\u6B62\u65E5\u671F"}]}),(0,t.jsx)(n,{label:"\u5173\u8054\u9700\u6C42",name:"demand_ids",mode:"multiple",tablename:"demand",_require:!1})]}),(0,t.jsx)(a.Z,{orientation:"left",plain:!0,children:"\u5F00\u53D1\u9636\u6BB5"}),(0,t.jsxs)(l.ZP.Group,{children:[(0,t.jsx)(y.Z,{label:"\u5904\u7406\u4EBA",name:"code_uids",mode:"multiple",_require:!0}),(0,t.jsx)(i.Z,{name:"code_plan_time",label:"\u622A\u6B62\u65E5\u671F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u53D1\u622A\u6B62\u65E5\u671F"}]}),r.id>0?"":(0,t.jsx)(p.Z.Group,{radioType:"button",rules:[{required:!0,message:"\u8BF7\u786E\u8BA4\u662F\u5426\u81EA\u52A8\u521B\u5EFA\u5F00\u53D1\u4EFB\u52A1"}],options:[{value:"1",label:"\u81EA\u52A8\u521B\u5EFA"},{value:"0",label:"\u4E0D\u521B\u5EFA"}],label:"\u5F00\u53D1\u4EFB\u52A1",name:"is_code"}),(0,t.jsx)(n,{label:"\u5173\u8054\u5F00\u53D1",name:"code_ids",mode:"multiple",tablename:"coding",_require:!1})]}),(0,t.jsx)(a.Z,{orientation:"left",plain:!0,children:"\u6D4B\u8BD5\u9636\u6BB5"}),(0,t.jsxs)(l.ZP.Group,{children:[(0,t.jsx)(y.Z,{label:"\u5904\u7406\u4EBA",name:"test_uids",mode:"multiple",_require:!0}),(0,t.jsx)(i.Z,{name:"test_plan_time",label:"\u622A\u6B62\u65E5\u671F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u53D1\u622A\u6B62\u65E5\u671F"}]})]}),(0,t.jsx)(a.Z,{orientation:"left",plain:!0,children:"\u90E8\u7F72\u9636\u6BB5"}),(0,t.jsxs)(l.ZP.Group,{children:[(0,t.jsx)(y.Z,{label:"\u5904\u7406\u4EBA",name:"publish_uids",mode:"multiple",_require:!0}),(0,t.jsx)(i.Z,{name:"publish_plan_time",label:"\u622A\u6B62\u65E5\u671F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u90E8\u7F72\u622A\u6B62\u65E5\u671F"}]})]})]})})})},L=T},85123:function(G,C,e){"use strict";e.d(C,{gp:function(){return _},dM:function(){return h},R2:function(){return c},p5:function(){return Z}});var o=e(39428),u=e(3182),d=e(2521),a=e(43237);function _(p){return M.apply(this,arguments)}function M(){return M=(0,u.Z)((0,o.Z)().mark(function p(m){return(0,o.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(a.h+"it/project/index",{params:m}));case 1:case"end":return s.stop()}},p)})),M.apply(this,arguments)}function x(p){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime().mark(function p(m){var i;return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,request(api+"it/project/index",{method:"GET",params:_objectSpread({},m)});case 2:return i=E.sent,E.abrupt("return",{data:i.data,success:i.success,total:i.data.total,pageSize:i.data.pageSize,current:i.data.current});case 4:case"end":return E.stop()}},p)})),F.apply(this,arguments)}function h(p){return v.apply(this,arguments)}function v(){return v=(0,u.Z)((0,o.Z)().mark(function p(m){return(0,o.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(a.h+"it/project/detail",{params:m}));case 1:case"end":return s.stop()}},p)})),v.apply(this,arguments)}function c(p){return l.apply(this,arguments)}function l(){return l=(0,u.Z)((0,o.Z)().mark(function p(m){return(0,o.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(a.h+"it/project/form",{method:"POST",data:m}));case 1:case"end":return s.stop()}},p)})),l.apply(this,arguments)}function Z(p){return B.apply(this,arguments)}function B(){return B=(0,u.Z)((0,o.Z)().mark(function p(m){return(0,o.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.WY)(a.h+"it/project/finish",{params:m}));case 1:case"end":return s.stop()}},p)})),B.apply(this,arguments)}},27049:function(G,C,e){"use strict";var o=e(22122),u=e(96156),d=e(94184),a=e.n(d),_=e(67294),M=e(53124),x=function(h,v){var c={};for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&v.indexOf(l)<0&&(c[l]=h[l]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,l=Object.getOwnPropertySymbols(h);Z<l.length;Z++)v.indexOf(l[Z])<0&&Object.prototype.propertyIsEnumerable.call(h,l[Z])&&(c[l[Z]]=h[l[Z]]);return c},F=function(v){var c,l=_.useContext(M.E_),Z=l.getPrefixCls,B=l.direction,p=v.prefixCls,m=v.type,i=m===void 0?"horizontal":m,s=v.orientation,E=s===void 0?"center":s,D=v.orientationMargin,A=v.className,W=v.children,y=v.dashed,g=v.plain,O=x(v,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),P=Z("divider",p),t=E.length>0?"-".concat(E):E,I=!!W,n=E==="left"&&D!=null,j=E==="right"&&D!=null,f=a()(P,"".concat(P,"-").concat(i),(c={},(0,u.Z)(c,"".concat(P,"-with-text"),I),(0,u.Z)(c,"".concat(P,"-with-text").concat(t),I),(0,u.Z)(c,"".concat(P,"-dashed"),!!y),(0,u.Z)(c,"".concat(P,"-plain"),!!g),(0,u.Z)(c,"".concat(P,"-rtl"),B==="rtl"),(0,u.Z)(c,"".concat(P,"-no-default-orientation-margin-left"),n),(0,u.Z)(c,"".concat(P,"-no-default-orientation-margin-right"),j),c),A),T=(0,o.Z)((0,o.Z)({},n&&{marginLeft:D}),j&&{marginRight:D});return _.createElement("div",(0,o.Z)({className:f},O,{role:"separator"}),W&&i!=="vertical"&&_.createElement("span",{className:"".concat(P,"-inner-text"),style:T},W))};C.Z=F},48736:function(G,C,e){"use strict";var o=e(38663),u=e.n(o),d=e(68179),a=e.n(d)}}]);
